<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Rac.html">
<link rel="next" href="Prefix.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Add" rel="Chapter" href="Add.html">
<link title="Sorting" rel="Chapter" href="Sorting.html">
<link title="Rac" rel="Chapter" href="Rac.html">
<link title="Cordic" rel="Chapter" href="Cordic.html">
<link title="Prefix" rel="Chapter" href="Prefix.html">
<link title="Mul" rel="Chapter" href="Mul.html">
<link title="Lfsr" rel="Chapter" href="Lfsr.html"><title>Cordic</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Rac.html" title="Rac">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Prefix.html" title="Prefix">Next</a>
</div>
<h1>Module <a href="type_Cordic.html">Cordic</a></h1>

<pre><span class="keyword">module</span> Cordic: <code class="code">sig</code> <a href="Cordic.html">..</a> <code class="code">end</code></pre><div class="info module top">
Coordinate rotation digital computer.
<p>

  CORDIC is an iterative shift-add algorithm for computing trig and 
  hyperbolic functions like sin, cosh, atan etc.
<p>

  Generally it requires 3 adders, 2 barrel shifters and a fairly small
  lookup table.
<p>

  <b>Gain</b>
<p>

  The <code class="code">x</code> and <code class="code">y</code> outputs from the CORDIC are (usually) scaled by the 
  CORDIC gain.  The exact value of the gain depends on the number of 
  iterations performed, but tends towards about 1.647.
<p>

  For some functions the gain can be adjusted for by altering input
  constants.  Where it cannot, and it's a problem, it should be removed
  with a constant multiplier.
<p>

  <b>Hyperbolic mode</b>
<p>

  In hyperbolic mode the standard iteration scheme needs to be adjusted.
  Generally the iterations run from <code class="code">0,1,...,(iters-1)</code>.  In hyperbolic 
  mode the iterations are <code class="code">1,2,..,4,4,...13,13,...</code>.
  That is they start at 1 and iterations <code class="code">3k+1</code> (starting with k=4, then 13,
  40, 121 etc) are repeated.
<p>

  The hardware designs require a fixed number of iterations regardless of
  the mode.  Therefore the number of iterations specified is exactly the 
  number run regardless of mode (indices are modified internally in 
  hyperbolic mode).  Some care might need to be taken to not stop
  processing in hyperbolic mode on one of the double iterations to ensure
  convergence.<br>
</div>
<hr width="100%">

<pre><code><span id="TYPEsystem"><span class="keyword">type</span> <code class="type"></code>system</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTsystem.Circular"><span class="constructor">Circular</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTsystem.Linear"><span class="constructor">Linear</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTsystem.Hyperbolic"><span class="constructor">Hyperbolic</span></span></code></td>

</tr></table>

<div class="info ">
Specifcies the cordic update equations<br>
</div>


<pre><code><span id="TYPEmode"><span class="keyword">type</span> <code class="type"></code>mode</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTmode.Rotation"><span class="constructor">Rotation</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTmode.Vectoring"><span class="constructor">Vectoring</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTmode.Inverse"><span class="constructor">Inverse</span></span> <span class="keyword">of</span> <code class="type">float</code></code></td>

</tr></table>

<div class="info ">
iteration mode<br>
</div>


<pre><span id="VALatanh"><span class="keyword">val</span> atanh</span> : <code class="type">float -> float</code></pre>
<pre><span id="VALcordic_iter"><span class="keyword">val</span> cordic_iter</span> : <code class="type">iters:int -> f:(int -> int -> 'a -> 'a) -> 'a -> 'a</code></pre>
<pre><span id="VALgain"><span class="keyword">val</span> gain</span> : <code class="type">iters:int -> float</code></pre><div class="info ">
Cordic gain over given number of iterations<br>
</div>

<pre><span id="VALgainh"><span class="keyword">val</span> gainh</span> : <code class="type">iters:int -> float</code></pre><div class="info ">
Cordic hyperbolic gain over given number of iterations<br>
</div>

<pre><span class="keyword">module</span> <a href="Cordic.Double.html">Double</a>: <code class="code">sig</code> <a href="Cordic.Double.html">..</a> <code class="code">end</code></pre><div class="info">
Reference implementation
</div>

<pre><span class="keyword">module type</span> <a href="Cordic.Fixpt.html">Fixpt</a> = <code class="code">sig</code> <a href="Cordic.Fixpt.html">..</a> <code class="code">end</code></pre><div class="info">
specifiy fixed point precision
</div>

<pre><span class="keyword">module</span> <a href="Cordic.Unrolled.html">Unrolled</a>: <div class="sig_block"><code class="code">functor (</code><code class="code">B</code><code class="code"> : </code><code class="type">HardCaml.Comb.S</code><code class="code">) -&gt; </code><div class="sig_block"><code class="code">functor (</code><code class="code">P</code><code class="code"> : </code><code class="type"><a href="Cordic.Fixpt.html">Fixpt</a></code><code class="code">) -&gt; </code><code class="code">sig</code> <a href="Cordic.Unrolled.html">..</a> <code class="code">end</code></div></div></pre><div class="info">
Fully unrolled combinatorial or pipelined CORDIC implementation.
</div>

<pre><span class="keyword">module</span> <a href="Cordic.Iterative.html">Iterative</a>: <div class="sig_block"><code class="code">functor (</code><code class="code">P</code><code class="code"> : </code><code class="type"><a href="Cordic.Fixpt.html">Fixpt</a></code><code class="code">) -&gt; </code><code class="code">sig</code> <a href="Cordic.Iterative.html">..</a> <code class="code">end</code></div></pre><div class="info">
Iterative CORDIC
</div>

<pre><span class="keyword">module</span> <a href="Cordic.Design.html">Design</a>: <code class="type">HardCamlFramework.Framework.Design</code><code class="type"> </code></pre></body></html>