<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Sorting.html">
<link rel="next" href="Cordic.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Add" rel="Chapter" href="Add.html">
<link title="Sorting" rel="Chapter" href="Sorting.html">
<link title="Rac" rel="Chapter" href="Rac.html">
<link title="Cordic" rel="Chapter" href="Cordic.html">
<link title="Prefix" rel="Chapter" href="Prefix.html">
<link title="Mul" rel="Chapter" href="Mul.html">
<link title="Lfsr" rel="Chapter" href="Lfsr.html"><link title="Architecture" rel="Section" href="#2_Architecture">
<link title="RAC design " rel="Section" href="#2_RACdesign">
<title>Rac</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Sorting.html" title="Sorting">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Cordic.html" title="Cordic">Next</a>
</div>
<h1>Module <a href="type_Rac.html">Rac</a></h1>

<pre><span class="keyword">module</span> Rac: <code class="code">sig</code> <a href="Rac.html">..</a> <code class="code">end</code></pre><div class="info module top">
<h1 id="1_ROMaccumulator">ROM-accumulator</h1><br>
</div>
<hr width="100%">
<br>
Evaluate <code class="code"> a0.x0 + a1+x1 + ... + an.xn </code> where <code class="code">a</code> is constant
    using distributed arithmetic.
<p>

    The architecture uses a rom and add/shift circuit and requires
    no multipliers.<br>
<br>
<h2 id="2_Architecture">Architecture</h2> 
<p>

    The ROM-accumulator extends the idea of multplication by adding and
    shifting.  <code class="code">a0.x0</code> can be the calculated by testing each bit of x and
    adding a to a (shifting) accumulator.  Similarly <code class="code">a0.x0 + a1.x1</code> can
    be calculated by forming an address vector from each successive
    bit, <code class="code">b</code>,  of x0 and x1 ie
<p>

    <code class="code">[x1.[b]; x0.[b]]</code>
<p>

    A pre-calculated rom stores all possibile additions of a0 and a1
<p>

    <code class="code">[ 0; a0; a1; a0+a1 ]</code>
<p>

    Given n coefficients the required rom will be of size 2^n.
<p>

    The address is looked up in the rom and added to (or subtracted from)
    a shifted accumulator (subtraction happens when processing the msb of
    the input values, otherwise addition).
<p>

    The RAC can be operated in two modes which we called <code class="code">integer</code> and <code class="code">fixed</code>.
<p>

    In <code class="code">integer</code> mode the coefficients and accumulator are treated as 
    integers, the internal shift registers shift out the msb down to the 
    lsb, and the accumulator shifts to the left.  This in turn specifies 
    an exact result, so long as the accumulator is large enough to hold it.
<p>

    In fixed mode the coefficients and accumulator are treated as fixed point
    values, the shift regiters shift out the lsb up to the msb and the 
    accumulator shifts to the right.<br>

<pre><span class="keyword">module</span> <a href="Rac.Rom.html">Rom</a>: <div class="sig_block"><code class="code">functor (</code><code class="code">B</code><code class="code"> : </code><code class="type">HardCaml.Comb.S</code><code class="code">) -&gt; </code><code class="code">sig</code> <a href="Rac.Rom.html">..</a> <code class="code">end</code></div></pre><div class="info">
Constructs the rom from the coefficients
</div>

<pre><span id="VALrac"><span class="keyword">val</span> rac</span> : <code class="type">fixed:bool -><br>       accbits:int -><br>       romshift:int -><br>       en:HardCaml.Signal.Comb.t -><br>       ld:HardCaml.Signal.Comb.t -><br>       addsub:HardCaml.Signal.Comb.t -><br>       romcoefs:HardCaml.Signal.Comb.t list -><br>       x:HardCaml.Signal.Comb.t list -> HardCaml.Signal.Comb.t</code></pre><div class="info ">
Build the rom accumulator<br>
</div>
<br>
<h2 id="2_RACdesign">RAC design </h2><br>

<pre><span class="keyword">module</span> <a href="Rac.Design.html">Design</a>: <code class="type">HardCamlFramework.Framework.Design</code><code class="type"> </code></pre></body></html>