<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Color (gg.Gg.Color)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/Color">Color</a></h1></div><div class="mod"><div class="def"><span class="keyword">module </span>Color : <span class="keyword">sig</span> ... <span class="keyword">end</span></div><div class="doc">Colors and color profiles.<br/><code>Color</code> provides some function to operate on <a href="Color/index.html#/t.typ">t</a> values
and basic support for ICC based <a href="Color/index.html#/profile.typ">profile</a> to
precisely specify how to interpret raw color samples.<br/><h3>References.</h3>
<ul><li>Charles Poynton.
<span style="font-style: italic"><a href="http://www.poynton.com/notes/colour_and_gamma/ColorFAQ.html">Frequently asked questions about color</a></span>. 2006</li><li>Charles Poynton.
<span style="font-style: italic"><a href="http://www.poynton.com/PDFs/Guided_tour.pdf">A guided tour of
color space</a></span>. 1997</li><li>Bruce MacEvoy.
<a href="http://www.handprint.com/LS/CVS/color.html">Color
vision</a> and
<a href="http://www.handprint.com/HP/WCL/color7.html">modern color models</a>.</li><li>International Color Consortium.
<span style="font-style: italic"><a href="http://www.color.org/icc_specs2.xalter">ICC.1:2010-12 Image
technology colour management - Architecture, profile format, and
data structure</a></span>. 2010.</li></ul></div><hr/><div><div class="doc"><h1 id="colors">Constructors, accessors and constants</h1></div><div class="region" id="/t.typ"><a href="#/t.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>t = <a href="../index.html#/color.typ">color</a></div><div class="doc">The type for colors in a device independent RGB color space with
an alpha component. The color space is defined by a D65 white
point and the ITU-R BT.709 primaries (corresponds to a <span style="font-style: italic">linearized</span>
<a href="http://www.color.org/chardata/rgb/srgb.xalter">sRGB</a> space).
The <span style="font-style: italic">alpha</span> component represent the color's opacity ranging
from <code>0.</code>, a fully transparent color, to <code>1.</code> a completly opaque
one.</div></div></div><div class="region" id="/stops.typ"><a href="#/stops.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>stops = (float * <a href="../index.html#/color.typ">color</a>) list</div><div class="doc">The type for color stops. A piecewise linear color curve.</div></div></div><div class="region" id="/v.val"><a href="#/v.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>v : float -&gt; float -&gt; float -&gt; float -&gt; <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>v r g b a</code> is the <span style="font-style: italic">linear</span> sRGB color <code>(r, g, b, a)</code> as
a color value.</div></div></div><div class="region" id="/v_srgb.val"><a href="#/v_srgb.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>v_srgb : ?a:float -&gt; float -&gt; float -&gt; float -&gt; <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>v r g b ~a</code> is the sRGB color <code>(r, g, b, a)</code> converted to a color
value.</div></div></div><div class="region" id="/v_srgbi.val"><a href="#/v_srgbi.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>v_srgbi : ?a:float -&gt; int -&gt; int -&gt; int -&gt; <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>v_srgbi r g b ~a</code> is the sRGB color <code>(r,g,b,a)</code> converted to
a color value by <code>(v_srgb (float r /. 255.) (float g /. 255.)
      (float b /. 255.) ~a</code>)</div></div></div><div class="region" id="/r.val"><a href="#/r.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>r : <a href="../index.html#/color.typ">color</a> -&gt; float</div><div class="doc"><code>r c</code> is the red component of <code>c</code>.</div></div></div><div class="region" id="/g.val"><a href="#/g.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>g : <a href="../index.html#/color.typ">color</a> -&gt; float</div><div class="doc"><code>g c</code> is the green component of <code>c</code>.</div></div></div><div class="region" id="/b.val"><a href="#/b.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>b : <a href="../index.html#/color.typ">color</a> -&gt; float</div><div class="doc"><code>b c</code> is the blue component of <code>c</code>.</div></div></div><div class="region" id="/a.val"><a href="#/a.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>a : <a href="../index.html#/color.typ">color</a> -&gt; float</div><div class="doc"><code>a c</code> is the alpha component of <code>c</code>.</div></div></div><div class="region" id="/void.val"><a href="#/void.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>void : <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>void</code> is <code>(v 0. 0. 0. 0.)</code> an invisible color.</div></div></div><div class="region" id="/black.val"><a href="#/black.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>black : <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>black</code> is <code>(v 0. 0. 0. 1.)</code></div></div></div><div class="region" id="/gray.val"><a href="#/gray.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>gray : ?a:float -&gt; float -&gt; <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>gray a g</code> is the sRGB color <code>(g, g, g, a)</code> converted to color a
value.</div></div></div><div class="region" id="/white.val"><a href="#/white.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>white : <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>white</code> is <code>(v 1. 1. 1. 1.)</code></div></div></div><div class="region" id="/red.val"><a href="#/red.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>red : <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>red</code> is <code>(v 1. 0. 0. 1.)</code></div></div></div><div class="region" id="/green.val"><a href="#/green.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>green : <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>green</code> is <code>(v 0. 1. 0. 1.)</code></div></div></div><div class="region" id="/blue.val"><a href="#/blue.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>blue : <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>blue</code> is <code>(v 0. 0. 1. 1.)</code></div></div></div><div class="doc"><h1>Functions</h1></div><div class="region" id="/blend.val"><a href="#/blend.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>blend : <a href="../index.html#/color.typ">color</a> -&gt; <a href="../index.html#/color.typ">color</a> -&gt; <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>blend src dst</code> is <code>src</code> blended over <code>dst</code> using
source over destination alpha blending. See Alvy Ray Smith. <span style="font-style: italic"><a href="http://alvyray.com/Memos/MemosCG.htm#ImageCompositing">Image
compositing fundamentals</a></span>. 1995.</div></div></div><div class="region" id="/clamp.val"><a href="#/clamp.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>clamp : <a href="../index.html#/color.typ">color</a> -&gt; <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>clamp c</code> is <code>c</code> with all components clamped to [<code>0;1</code>]. <code>nan</code>
components are left untouched.</div></div></div><div class="region" id="/with_a.val"><a href="#/with_a.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>with_a : <a href="../index.html#/color.typ">color</a> -&gt; float -&gt; <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>with_a c a</code> is the same color as <code>c</code> but with the alpha
component <code>a</code>.</div></div></div><div class="doc"><h1 id="conversions">Color conversions</h1><br/><span style="font-weight: bold">Note.</span> In the following conversions all color spaces carry an
alpha component. The alpha component is always left untouched
by the conversions.</div><div class="doc"><h2 id="srgb">sRGB</h2></div><div class="region" id="/srgb.typ"><a href="#/srgb.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>srgb = <a href="../index.html#/v4.typ">v4</a></div><div class="doc">The type for colors in the
<a href="http://www.color.org/chardata/rgb/srgb.xalter">sRGB</a> color space
with an alpha component. This is the color space used, for example,
by CSS.</div></div></div><div class="region" id="/of_srgb.val"><a href="#/of_srgb.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>of_srgb : <a href="index.html#/srgb.typ">srgb</a> -&gt; <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>of_srgb c</code> is the sRGB color <code>c</code> as a <code>Gg</code> color.</div></div></div><div class="region" id="/to_srgb.val"><a href="#/to_srgb.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>to_srgb : <a href="../index.html#/color.typ">color</a> -&gt; <a href="index.html#/srgb.typ">srgb</a></div><div class="doc"><code>to_srgb c</code> is the <code>Gg</code> color <code>c</code> as a sRGB color.</div></div></div><div class="doc"><h2 id="luv">CIE L*u*v*</h2></div><div class="region" id="/luv.typ"><a href="#/luv.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>luv = <a href="../index.html#/v4.typ">v4</a></div><div class="doc">The type for colors in the CIE L*u*v* color space with a D65 reference
white point and an alpha component. The meaning and range of the
components is:
<ul><li>L* is lightness in the range <code>0.</code> to <code>100.</code></li><li>u*'s practical range is <code>-134.</code> to <code>220.</code></li><li>v*'s practical range is <code>-140.</code> to <code>122.</code></li></ul></div></div></div><div class="region" id="/of_luv.val"><a href="#/of_luv.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>of_luv : <a href="index.html#/luv.typ">luv</a> -&gt; <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>of_luv c</code> is the L*u*v* color <code>c</code> as a <code>Gg</code> color.</div></div></div><div class="region" id="/to_luv.val"><a href="#/to_luv.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>to_luv : <a href="../index.html#/color.typ">color</a> -&gt; <a href="index.html#/luv.typ">luv</a></div><div class="doc"><code>to_luv c</code> is the <code>Gg</code> color <code>c</code> as a L*u*v* color.</div></div></div><p></p><div class="region" id="/lch_uv.typ"><a href="#/lch_uv.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>lch_uv = <a href="../index.html#/v4.typ">v4</a></div><p></p></div></div><div class="region" id="/of_lch_uv.val"><a href="#/of_lch_uv.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>of_lch_uv : <a href="index.html#/lch_uv.typ">lch_uv</a> -&gt; <a href="../index.html#/color.typ">color</a></div><p></p></div></div><div class="region" id="/to_lch_uv.val"><a href="#/to_lch_uv.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>to_lch_uv : <a href="../index.html#/color.typ">color</a> -&gt; <a href="index.html#/lch_uv.typ">lch_uv</a></div><p></p></div></div><div class="doc"><h2 id="lab">CIE L*a*b*</h2></div><div class="region" id="/lab.typ"><a href="#/lab.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>lab = <a href="../index.html#/v4.typ">v4</a></div><div class="doc">The type for colors in the CIE L*a*b* color space with a D50 reference
white point and an alpha component. The meaning and range of the
components is:
<ul><li>L* is lightness in the range <code>0.</code> to <code>100.</code></li><li>a* and b*'s practical range is <code>-128.</code> to <code>127.</code></li></ul></div></div></div><div class="region" id="/of_lab.val"><a href="#/of_lab.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>of_lab : <a href="../index.html#/v4.typ">v4</a> -&gt; <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>of_lab c</code> is the L*a*b* color <code>c</code> as a <code>Gg</code> color value.</div></div></div><div class="region" id="/to_lab.val"><a href="#/to_lab.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>to_lab : <a href="../index.html#/color.typ">color</a> -&gt; <a href="../index.html#/v4.typ">v4</a></div><div class="doc"><code>to_lab c</code> is the <code>Gg</code> color <code>c</code> as a L*a*b* color.</div></div></div><div class="doc"><h2 id="lch_ab">CIE L*C*h<sub>ab</sub></h2></div><div class="region" id="/lch_ab.typ"><a href="#/lch_ab.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>lch_ab = <a href="../index.html#/v4.typ">v4</a></div><div class="doc">The type for colors in the CIE L*C*h*<sub>ab</sub> color space with a
D50 reference white point and an alpha component. This color
space is CIE L*a*b* with polar coordinates, the meaning and range
of the components is:
<ul><li>L* is the lightness in the range <code>0.</code> to <code>100.</code></li><li>C* represents chroma, in the range <code>0.</code> to
<code>181.02</code>, but less in practice.</li><li>h represents hue in degrees in the range <code>0.</code> to <code>2pi</code>.</li></ul></div></div></div><div class="region" id="/of_lch_ab.val"><a href="#/of_lch_ab.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>of_lch_ab : <a href="index.html#/lch_ab.typ">lch_ab</a> -&gt; <a href="../index.html#/color.typ">color</a></div><div class="doc"><code>of_lch_ab c</code> is the L*C*h<sub>ab</sub> color <code>c</code> as a <code>Gg</code> color.</div></div></div><div class="region" id="/to_lch_ab.val"><a href="#/to_lch_ab.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>to_lch_ab : <a href="../index.html#/color.typ">color</a> -&gt; <a href="index.html#/lch_ab.typ">lch_ab</a></div><div class="doc"><code>to_lch_ab c</code> is the <code>Gg</code> color <code>c</code> as a L*C*h<sub>ab</sub>.</div></div></div><div class="doc"><h1>Color spaces</h1></div><div class="region" id="/space.typ"><a href="#/space.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>space = [ `XYZ | `Lab | `Luv | `YCbr | `Yxy | `RGB | `Gray | `HSV | `HLS | `CMYK | `CMY | `CLR2 | `CLR3 | `CLR4 | `CLR5 | `CLR6 | `CLR7 | `CLR8 | `CLR9 | `CLRA | `CLRB | `CLRC | `CLRD | `CLRE | `CLRF ]</div><div class="doc">The type for color spaces. These correspond to the ICC v4 supported
color space, see the
<a href="http://www.color.org/icc_specs2.xalter">specification</a>,
section 7.2.6.</div></div></div><div class="region" id="/space_dim.val"><a href="#/space_dim.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>space_dim : <a href="index.html#/space.typ">space</a> -&gt; int</div><div class="doc"><code>space_dim s</code> is the dimension of the color space <code>s</code>.</div></div></div><div class="region" id="/pp_space.val"><a href="#/pp_space.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>pp_space : <a href="../../../ocaml/Format/index.html#/formatter.typ">Format.formatter</a> -&gt; <a href="index.html#/space.typ">space</a> -&gt; unit</div><div class="doc"><code>pp_space s</code> prints a textual representation of <code>s</code> on <code>ppf</code>.</div></div></div><div class="doc"><h1 id="colorprofiles">Color profiles</h1></div><div class="region" id="/profile.typ"><a href="#/profile.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>profile</div><div class="doc">The type for <a href="http://www.color.org/">ICC</a> color profiles. A
color profile can describe the characteristics of a color space,
an input or output device and provide a mapping to a profile
connection space (PCS), which is either CIE L*a*b* or XYZ with a
D50 white point. For more information about ICC profile consult
the <a href="http://www.color.org/faqs.xalter">ICC FAQ</a> and the
<a href="http://color.org/icc_specs2.xalter">ICC v4 specification</a>.<br/>This module defines only a profile for the color space of
<a href="../index.html#/color.typ">color</a> and a grayscale color space.</div></div></div><div class="region" id="/profile_of_icc.val"><a href="#/profile_of_icc.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>profile_of_icc : string -&gt; <a href="index.html#/profile.typ">profile</a> option</div><div class="doc"><code>profile_of_icc s</code> is a profile from the ICC profile byte
stream <code>s</code>. <code>None</code> is returned if <code>s</code> doesn't seem to be a ICC profile.<br/><span style="font-weight: bold">Note</span> A profile value is returned if a color space can be
extracted, it doesn't guarantee a correct ICC profile byte stream.</div></div></div><div class="region" id="/profile_to_icc.val"><a href="#/profile_to_icc.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>profile_to_icc : <a href="index.html#/profile.typ">profile</a> -&gt; string</div><div class="doc"><code>profile_to_icc p</code> is <code>p</code>'s ICC profile byte stream.</div></div></div><div class="region" id="/profile_space.val"><a href="#/profile_space.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>profile_space : <a href="index.html#/profile.typ">profile</a> -&gt; <a href="index.html#/space.typ">space</a></div><div class="doc"><code>profile_space p</code> is <code>p</code>'s color space.</div></div></div><div class="region" id="/profile_dim.val"><a href="#/profile_dim.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>profile_dim : <a href="index.html#/profile.typ">profile</a> -&gt; int</div><div class="doc"><code>profile_space p</code> is <code>space_dim (profile_space d)</code>.</div></div></div><div class="region" id="/p_gray_l.val"><a href="#/p_gray_l.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>p_gray_l : <a href="index.html#/profile.typ">profile</a></div><div class="doc"><code>p_gray_l</code> is a linear gray color profile</div></div></div><div class="region" id="/p_rgb_l.val"><a href="#/p_rgb_l.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>p_rgb_l : <a href="index.html#/profile.typ">profile</a></div><div class="doc"><code>p_rgb_l</code> is the color profile of <a href="index.html#/t.typ">t</a> values.</div></div></div></div></div></div></body></html>