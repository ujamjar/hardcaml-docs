<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cosim (hardcaml.Cosim)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/Cosim">Cosim</a></h1></div><div><div class="doc">Icarus Verilog Cosimulation interface</div><div><div class="region" id="/delta_message.typ"><a href="#/delta_message.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>delta_message = {<table><tr class="fld"><td><div class="region" id="/delta_message.typ/sets.fld"><a href="#/delta_message.typ/sets.fld" class="anchor"></a>sets</div></td><td> : </td><td>(string * string) list;</td></tr><tr class="fld"><td><div class="region" id="/delta_message.typ/gets.fld"><a href="#/delta_message.typ/gets.fld" class="anchor"></a>gets</div></td><td> : </td><td>string list;</td></tr><tr class="fld"><td><div class="region" id="/delta_message.typ/delta_time.fld"><a href="#/delta_message.typ/delta_time.fld" class="anchor"></a>delta_time</div></td><td> : </td><td>int64;</td></tr></table>}</div><div class="doc">run <code>sets</code>, then <code>gets</code> then schedule next callback at cur_time+<code>delta_time</code></div></div></div><div class="region" id="/init_message.typ"><a href="#/init_message.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>init_message = string list</div><div class="doc">expected inputs and outputs</div></div></div><div class="region" id="/control_message.typ"><a href="#/control_message.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>control_message = <table><tr class="cons"><td><div class="region" id="/control_message.typ/Finish.cons"><a href="#/control_message.typ/Finish.cons" class="anchor"></a>| Finish</div></td></tr><tr class="cons"><td><div class="region" id="/control_message.typ/Run.cons"><a href="#/control_message.typ/Run.cons" class="anchor"></a>| Run of <a href="index.html#/delta_message.typ">delta_message</a></div></td></tr></table></div><div class="doc">control message</div></div></div><div class="region" id="/response_message.typ"><a href="#/response_message.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>response_message = (string * string) list</div><div class="doc">response message</div></div></div><div class="region" id="/net_addr.val"><a href="#/net_addr.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>net_addr : string</div><div class="doc"></div></div></div><div class="region" id="/net_port.val"><a href="#/net_port.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>net_port : int</div><div class="doc"></div></div></div><div class="region" id="/Comms"><a href="#/Comms" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="Comms/index.html">Comms</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></div><div class="doc">basic TCP communications between client (simulation) and server (hardcaml)</div></div></div><div class="region" id="/control.val"><a href="#/control.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>control : Unix.file_descr -&gt; <a href="index.html#/control_message.typ">control_message</a> -&gt; <a href="index.html#/response_message.typ">response_message</a></div><div class="doc">send a control message to the simulation</div></div></div><div class="region" id="/write_testbench.val"><a href="#/write_testbench.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>write_testbench : ?dump_file:string -&gt; name:string -&gt; inputs:(string * int) list -&gt; outputs:(string * int) list -&gt; (string -&gt; unit) -&gt; unit</div><div class="doc">write test harness</div></div></div><div class="region" id="/write_testbench_from_circuit.val"><a href="#/write_testbench_from_circuit.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>write_testbench_from_circuit : ?dump_file:string -&gt; (string -&gt; unit) -&gt; <a href="../Circuit/index.html#/t.typ">Circuit.t</a> -&gt; unit</div><div class="doc">write test hardness derivied from a hardcaml circuit</div></div></div><div class="region" id="/compile.val"><a href="#/compile.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>compile : string list -&gt; string -&gt; unit</div><div class="doc">compile verilog files to a vvp simulation object</div></div></div><div class="region" id="/derive_clocks_and_resets.val"><a href="#/derive_clocks_and_resets.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>derive_clocks_and_resets : <a href="../Circuit/index.html#/t.typ">Circuit.t</a> -&gt; string list * string list</div><div class="doc">find clocks and resets in a hardcaml circuit</div></div></div><div class="region" id="/load_sim.val"><a href="#/load_sim.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>load_sim : string -&gt; unit</div><div class="doc">load vvp file into simulator along with vpi object</div></div></div><div class="region" id="/compile_and_load_sim.val"><a href="#/compile_and_load_sim.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>compile_and_load_sim : ?dump_file:string -&gt; <a href="../Circuit/index.html#/t.typ">Circuit.t</a> -&gt; unit</div><div class="doc">compile circuit and load simulation</div></div></div><div class="region" id="/Make"><a href="#/Make" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="Make/index.html">Make</a> : <span class="keyword">functor</span> (<a href="Make/B.1.moda/index.html">B</a> : <a href="../Comb/S.modt/index.html">Comb.S</a>) -&gt; <span class="keyword">sig</span> ... <span class="keyword">end</span></div><div class="doc"></div></div></div></div></div></div></body></html>