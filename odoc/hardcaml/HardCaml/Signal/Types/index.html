<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Types (hardcaml.HardCaml.Signal.Types)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0"/></head><body><nav><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../../index.html">hardcaml</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">HardCaml.Signal.Types</span></h1></header><div class="doc"><p>Signal data type and low-level functions</p></div><div class="spec type" id="type-signal_op"><a href="#type-signal_op" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>signal_op</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-signal_op.Signal_add" class="anchored"><td class="def constructor"><a href="#type-signal_op.Signal_add" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_add</span></code></td></tr><tr id="type-signal_op.Signal_sub" class="anchored"><td class="def constructor"><a href="#type-signal_op.Signal_sub" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_sub</span></code></td></tr><tr id="type-signal_op.Signal_mulu" class="anchored"><td class="def constructor"><a href="#type-signal_op.Signal_mulu" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_mulu</span></code></td></tr><tr id="type-signal_op.Signal_muls" class="anchored"><td class="def constructor"><a href="#type-signal_op.Signal_muls" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_muls</span></code></td></tr><tr id="type-signal_op.Signal_and" class="anchored"><td class="def constructor"><a href="#type-signal_op.Signal_and" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_and</span></code></td></tr><tr id="type-signal_op.Signal_or" class="anchored"><td class="def constructor"><a href="#type-signal_op.Signal_or" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_or</span></code></td></tr><tr id="type-signal_op.Signal_xor" class="anchored"><td class="def constructor"><a href="#type-signal_op.Signal_xor" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_xor</span></code></td></tr><tr id="type-signal_op.Signal_eq" class="anchored"><td class="def constructor"><a href="#type-signal_op.Signal_eq" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_eq</span></code></td></tr><tr id="type-signal_op.Signal_not" class="anchored"><td class="def constructor"><a href="#type-signal_op.Signal_not" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_not</span></code></td></tr><tr id="type-signal_op.Signal_lt" class="anchored"><td class="def constructor"><a href="#type-signal_op.Signal_lt" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_lt</span></code></td></tr><tr id="type-signal_op.Signal_cat" class="anchored"><td class="def constructor"><a href="#type-signal_op.Signal_cat" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_cat</span></code></td></tr><tr id="type-signal_op.Signal_mux" class="anchored"><td class="def constructor"><a href="#type-signal_op.Signal_mux" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_mux</span></code></td></tr></table><code></code></div><div class="doc"><p>simple operators</p></div></div><div class="spec type" id="type-uid"><a href="#type-uid" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>uid</code><code><span class="keyword"> = </span>int64</code><code></code></div><div class="doc"></div></div><div class="spec module" id="module-UidMap"><a href="#module-UidMap" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>UidMap : Map.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-UidMap">UidMap</a>.key<span class="keyword"> = </span><a href="index.html#type-uid">uid</a></code></div><div class="doc"></div></div><div class="spec module" id="module-UidSet"><a href="#module-UidSet" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>UidSet : Set.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-UidSet">UidSet</a>.elt<span class="keyword"> = </span><a href="index.html#type-uid">uid</a></code></div><div class="doc"></div></div><div class="spec type" id="type-signal_id"><a href="#type-signal_id" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>signal_id</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-signal_id.s_id" class="anchored"><td class="def field"><a href="#type-signal_id.s_id" class="anchor"></a><code>s_id : <a href="index.html#type-uid">uid</a>;</code></td></tr><tr id="type-signal_id.s_names" class="anchored"><td class="def field"><a href="#type-signal_id.s_names" class="anchor"></a><code><span class="keyword">mutable </span>s_names : string list;</code></td></tr><tr id="type-signal_id.s_width" class="anchored"><td class="def field"><a href="#type-signal_id.s_width" class="anchor"></a><code>s_width : int;</code></td><td class="doc"><p>(** making this mutable turns hardcaml from pretty functional
* to pretty imperative. however, if used carefully and only
* with the library, we can provide a potentially easier way
* of changing the graph structure in some cases *)</p></td></tr><tr id="type-signal_id.s_deps" class="anchored"><td class="def field"><a href="#type-signal_id.s_deps" class="anchor"></a><code><span class="keyword">mutable </span>s_deps : <a href="index.html#type-signal">signal</a> list;</code></td></tr></table><code>}</code><code></code></div><div class="doc"><p>internal structure for tracking signals</p></div></div><div class="spec type" id="type-signal"><a href="#type-signal" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>signal</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-signal.Signal_empty" class="anchored"><td class="def constructor"><a href="#type-signal.Signal_empty" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_empty</span></code></td></tr><tr id="type-signal.Signal_const" class="anchored"><td class="def constructor"><a href="#type-signal.Signal_const" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_const</span><span class="keyword"> of </span><a href="index.html#type-signal_id">signal_id</a><span class="keyword"> * </span>string</code></td></tr><tr id="type-signal.Signal_op" class="anchored"><td class="def constructor"><a href="#type-signal.Signal_op" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_op</span><span class="keyword"> of </span><a href="index.html#type-signal_id">signal_id</a><span class="keyword"> * </span><a href="index.html#type-signal_op">signal_op</a></code></td></tr><tr id="type-signal.Signal_wire" class="anchored"><td class="def constructor"><a href="#type-signal.Signal_wire" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_wire</span><span class="keyword"> of </span><a href="index.html#type-signal_id">signal_id</a><span class="keyword"> * </span><a href="index.html#type-signal">signal</a> Pervasives.ref</code></td></tr><tr id="type-signal.Signal_select" class="anchored"><td class="def constructor"><a href="#type-signal.Signal_select" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_select</span><span class="keyword"> of </span><a href="index.html#type-signal_id">signal_id</a><span class="keyword"> * </span>int<span class="keyword"> * </span>int</code></td></tr><tr id="type-signal.Signal_reg" class="anchored"><td class="def constructor"><a href="#type-signal.Signal_reg" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_reg</span><span class="keyword"> of </span><a href="index.html#type-signal_id">signal_id</a><span class="keyword"> * </span><a href="index.html#type-register">register</a></code></td></tr><tr id="type-signal.Signal_mem" class="anchored"><td class="def constructor"><a href="#type-signal.Signal_mem" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_mem</span><span class="keyword"> of </span><a href="index.html#type-signal_id">signal_id</a><span class="keyword"> * </span><a href="index.html#type-uid">uid</a><span class="keyword"> * </span><a href="index.html#type-register">register</a><span class="keyword"> * </span><a href="index.html#type-memory">memory</a></code></td></tr><tr id="type-signal.Signal_inst" class="anchored"><td class="def constructor"><a href="#type-signal.Signal_inst" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Signal_inst</span><span class="keyword"> of </span><a href="index.html#type-signal_id">signal_id</a><span class="keyword"> * </span><a href="index.html#type-uid">uid</a><span class="keyword"> * </span><a href="index.html#type-instantiation">instantiation</a></code></td></tr></table><code></code></div><div class="doc"><p>main signal data type</p></div></div><div class="spec type" id="type-register"><a href="#type-register" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>register</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-register.reg_clock" class="anchored"><td class="def field"><a href="#type-register.reg_clock" class="anchor"></a><code>reg_clock : <a href="index.html#type-signal">signal</a>;</code></td></tr><tr id="type-register.reg_clock_level" class="anchored"><td class="def field"><a href="#type-register.reg_clock_level" class="anchor"></a><code>reg_clock_level : <a href="index.html#type-signal">signal</a>;</code></td></tr><tr id="type-register.reg_reset" class="anchored"><td class="def field"><a href="#type-register.reg_reset" class="anchor"></a><code>reg_reset : <a href="index.html#type-signal">signal</a>;</code></td></tr><tr id="type-register.reg_reset_level" class="anchored"><td class="def field"><a href="#type-register.reg_reset_level" class="anchor"></a><code>reg_reset_level : <a href="index.html#type-signal">signal</a>;</code></td></tr><tr id="type-register.reg_reset_value" class="anchored"><td class="def field"><a href="#type-register.reg_reset_value" class="anchor"></a><code>reg_reset_value : <a href="index.html#type-signal">signal</a>;</code></td></tr><tr id="type-register.reg_clear" class="anchored"><td class="def field"><a href="#type-register.reg_clear" class="anchor"></a><code>reg_clear : <a href="index.html#type-signal">signal</a>;</code></td></tr><tr id="type-register.reg_clear_level" class="anchored"><td class="def field"><a href="#type-register.reg_clear_level" class="anchor"></a><code>reg_clear_level : <a href="index.html#type-signal">signal</a>;</code></td></tr><tr id="type-register.reg_clear_value" class="anchored"><td class="def field"><a href="#type-register.reg_clear_value" class="anchor"></a><code>reg_clear_value : <a href="index.html#type-signal">signal</a>;</code></td></tr><tr id="type-register.reg_enable" class="anchored"><td class="def field"><a href="#type-register.reg_enable" class="anchor"></a><code>reg_enable : <a href="index.html#type-signal">signal</a>;</code></td></tr></table><code>}</code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-memory"><a href="#type-memory" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>memory</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-memory.mem_size" class="anchored"><td class="def field"><a href="#type-memory.mem_size" class="anchor"></a><code>mem_size : int;</code></td></tr><tr id="type-memory.mem_read_address" class="anchored"><td class="def field"><a href="#type-memory.mem_read_address" class="anchor"></a><code>mem_read_address : <a href="index.html#type-signal">signal</a>;</code></td></tr><tr id="type-memory.mem_write_address" class="anchored"><td class="def field"><a href="#type-memory.mem_write_address" class="anchor"></a><code>mem_write_address : <a href="index.html#type-signal">signal</a>;</code></td></tr></table><code>}</code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-instantiation"><a href="#type-instantiation" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>instantiation</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-instantiation.inst_name" class="anchored"><td class="def field"><a href="#type-instantiation.inst_name" class="anchor"></a><code>inst_name : string;</code></td></tr><tr id="type-instantiation.inst_instance" class="anchored"><td class="def field"><a href="#type-instantiation.inst_instance" class="anchor"></a><code>inst_instance : string;</code></td></tr><tr id="type-instantiation.inst_generics" class="anchored"><td class="def field"><a href="#type-instantiation.inst_generics" class="anchor"></a><code>inst_generics : (string<span class="keyword"> * </span><a href="index.html#type-parameter">parameter</a>) list;</code></td></tr><tr id="type-instantiation.inst_inputs" class="anchored"><td class="def field"><a href="#type-instantiation.inst_inputs" class="anchor"></a><code>inst_inputs : (string<span class="keyword"> * </span><a href="index.html#type-signal">signal</a>) list;</code></td></tr><tr id="type-instantiation.inst_outputs" class="anchored"><td class="def field"><a href="#type-instantiation.inst_outputs" class="anchor"></a><code>inst_outputs : (string<span class="keyword"> * </span>(int<span class="keyword"> * </span>int)) list;</code></td></tr><tr id="type-instantiation.inst_lib" class="anchored"><td class="def field"><a href="#type-instantiation.inst_lib" class="anchor"></a><code>inst_lib : string;</code></td></tr><tr id="type-instantiation.inst_arch" class="anchored"><td class="def field"><a href="#type-instantiation.inst_arch" class="anchor"></a><code>inst_arch : string;</code></td></tr></table><code>}</code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-parameter"><a href="#type-parameter" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>parameter</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-parameter.ParamString" class="anchored"><td class="def constructor"><a href="#type-parameter.ParamString" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">ParamString</span><span class="keyword"> of </span>string</code></td></tr><tr id="type-parameter.ParamInt" class="anchored"><td class="def constructor"><a href="#type-parameter.ParamInt" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">ParamInt</span><span class="keyword"> of </span>int</code></td></tr><tr id="type-parameter.ParamFloat" class="anchored"><td class="def constructor"><a href="#type-parameter.ParamFloat" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">ParamFloat</span><span class="keyword"> of </span>float</code></td></tr><tr id="type-parameter.ParamBool" class="anchored"><td class="def constructor"><a href="#type-parameter.ParamBool" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">ParamBool</span><span class="keyword"> of </span>bool</code></td></tr></table><code></code></div><div class="doc"></div></div><div class="spec val" id="val-uid"><a href="#val-uid" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>uid : <a href="index.html#type-signal">signal</a><span class="keyword"> -&gt; </span><a href="index.html#type-uid">uid</a></code></div><div class="doc"><p>returns the unique id of the signal</p></div></div><div class="spec val" id="val-depo"><a href="#val-depo" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>depo : <a href="index.html#type-signal">signal</a><span class="keyword"> -&gt; </span>&lt; sel : <a href="index.html#type-signal">signal</a>; op1 : <a href="index.html#type-signal">signal</a>; op2 : <a href="index.html#type-signal">signal</a><span class="keyword"> * </span><a href="index.html#type-signal">signal</a>; data : <a href="index.html#type-signal">signal</a> list; &gt;</code></div><div class="doc"></div></div><div class="spec val" id="val-deps"><a href="#val-deps" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>deps : <a href="index.html#type-signal">signal</a><span class="keyword"> -&gt; </span><a href="index.html#type-signal">signal</a> list</code></div><div class="doc"><p>returns the signals dependancies</p></div></div><div class="spec val" id="val-names"><a href="#val-names" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>names : <a href="index.html#type-signal">signal</a><span class="keyword"> -&gt; </span>string list</code></div><div class="doc"><p>returns the list of names assigned to the signal</p></div></div><div class="spec val" id="val-width"><a href="#val-width" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>width : <a href="index.html#type-signal">signal</a><span class="keyword"> -&gt; </span>int</code></div><div class="doc"><p>width of the signal</p></div></div><div class="spec val" id="val-is_reg"><a href="#val-is_reg" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_reg : <a href="index.html#type-signal">signal</a><span class="keyword"> -&gt; </span>bool</code></div><div class="doc"><p>is the signal a register?</p></div></div><div class="spec val" id="val-is_mem"><a href="#val-is_mem" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_mem : <a href="index.html#type-signal">signal</a><span class="keyword"> -&gt; </span>bool</code></div><div class="doc"><p>is the signal a memory?</p></div></div><div class="spec val" id="val-is_inst"><a href="#val-is_inst" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_inst : <a href="index.html#type-signal">signal</a><span class="keyword"> -&gt; </span>bool</code></div><div class="doc"><p>is the signal an instantiation?</p></div></div><div class="spec val" id="val-is_const"><a href="#val-is_const" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_const : <a href="index.html#type-signal">signal</a><span class="keyword"> -&gt; </span>bool</code></div><div class="doc"><p>is the signal a constant?</p></div></div><div class="spec val" id="val-is_select"><a href="#val-is_select" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_select : <a href="index.html#type-signal">signal</a><span class="keyword"> -&gt; </span>bool</code></div><div class="doc"><p>is the signal a part selection?</p></div></div><div class="spec val" id="val-is_wire"><a href="#val-is_wire" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_wire : <a href="index.html#type-signal">signal</a><span class="keyword"> -&gt; </span>bool</code></div><div class="doc"><p>is the signal a wire?</p></div></div><div class="spec val" id="val-is_op"><a href="#val-is_op" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_op : <a href="index.html#type-signal_op">signal_op</a><span class="keyword"> -&gt; </span><a href="index.html#type-signal">signal</a><span class="keyword"> -&gt; </span>bool</code></div><div class="doc"><p>is the signal the given operator?</p></div></div><div class="spec val" id="val-const_value"><a href="#val-const_value" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>const_value : <a href="index.html#type-signal">signal</a><span class="keyword"> -&gt; </span>string</code></div><div class="doc"><p>return the (binary) string representing a constants value</p></div></div><div class="spec val" id="val-new_id"><a href="#val-new_id" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>new_id : unit<span class="keyword"> -&gt; </span><a href="index.html#type-uid">uid</a></code></div><div class="doc"><p>creates a new signal uid</p></div></div><div class="spec val" id="val-reset_id"><a href="#val-reset_id" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>reset_id : unit<span class="keyword"> -&gt; </span>unit</code></div><div class="doc"><p>resets the signal identifiers</p></div></div><div class="spec val" id="val-make_id"><a href="#val-make_id" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>make_id : int<span class="keyword"> -&gt; </span><a href="index.html#type-signal">signal</a> list<span class="keyword"> -&gt; </span><a href="index.html#type-signal_id">signal_id</a></code></div><div class="doc"><p>constructs a signal_id type</p></div></div><div class="spec val" id="val-string_of_op"><a href="#val-string_of_op" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>string_of_op : <a href="index.html#type-signal_op">signal_op</a><span class="keyword"> -&gt; </span>string</code></div><div class="doc"><p>return string representation of operator</p></div></div><div class="spec val" id="val-to_string"><a href="#val-to_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>to_string : <a href="index.html#type-signal">signal</a><span class="keyword"> -&gt; </span>string</code></div><div class="doc"></div></div><div class="spec val" id="val-structural_compare"><a href="#val-structural_compare" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>structural_compare : ?check_names:bool<span class="keyword"> -&gt; </span>?check_deps:bool<span class="keyword"> -&gt; </span><a href="index.html#type-signal">signal</a><span class="keyword"> -&gt; </span><a href="index.html#type-signal">signal</a><span class="keyword"> -&gt; </span>bool</code></div><div class="doc"><p>perform a recursive structural comparison of two signals</p></div></div></body></html>