<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>HardCaml__Recipe (hardcaml.HardCaml__Recipe)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0"/></head><body><nav><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">hardcaml</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">HardCaml__Recipe</span></h1></header><p>Hardware generation in an imperative style</p><p>create sequential hardware designs using <code class="code">if</code>, <code class="code">while</code> and <code class="code">assignment</code></p><div class="spec type" id="type-var"><a href="#type-var" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>var</code><code></code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-inp"><a href="#type-inp" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>inp</code><code></code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-env"><a href="#type-env" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>env</code><code></code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-recipe"><a href="#type-recipe" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a recipe</code><code></code><code></code></div><div class="doc"></div></div><div class="spec module" id="module-Monad"><a href="#module-Monad" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Monad/index.html">Monad</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><div class="spec val" id="val-skip"><a href="#val-skip" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>skip : unit <a href="index.html#type-recipe">recipe</a></code></div><div class="doc"><p>skip 1 cycle</p></div></div><div class="spec val" id="val-wait"><a href="#val-wait" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>wait : int<span class="keyword"> -&gt; </span>unit <a href="index.html#type-recipe">recipe</a></code></div><div class="doc"><p>skip n cycles</p></div></div><div class="spec val" id="val-par"><a href="#val-par" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>par : ?comb_fin:bool<span class="keyword"> -&gt; </span><span class="type-var">'a</span> <a href="index.html#type-recipe">recipe</a> list<span class="keyword"> -&gt; </span><span class="type-var">'a</span> list <a href="index.html#type-recipe">recipe</a></code></div><div class="doc"><p>perform recipes in parallel. <code class="code">comb_fin</code> controls the finish signal
generation. When false and extra cycle is taken after the recipes
complete to generate the <code class="code">fin</code> signal. Otherwise extra combinatorial
logic is generated to ensure the <code class="code">fin</code> signal toggles on the same
cycle as the last recipe to complete.</p></div></div><div class="spec val" id="val-par2"><a href="#val-par2" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>par2 : ?comb_fin:bool<span class="keyword"> -&gt; </span><span class="type-var">'a</span> <a href="index.html#type-recipe">recipe</a><span class="keyword"> -&gt; </span><span class="type-var">'b</span> <a href="index.html#type-recipe">recipe</a><span class="keyword"> -&gt; </span>(<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span>) <a href="index.html#type-recipe">recipe</a></code></div><div class="doc"></div></div><div class="spec val" id="val-(|||)"><a href="#val-(|||)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(|||) : <span class="type-var">'a</span> <a href="index.html#type-recipe">recipe</a><span class="keyword"> -&gt; </span><span class="type-var">'b</span> <a href="index.html#type-recipe">recipe</a><span class="keyword"> -&gt; </span>(<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span>) <a href="index.html#type-recipe">recipe</a></code></div><div class="doc"></div></div><div class="spec val" id="val-cond"><a href="#val-cond" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>cond : <a href="../HardCaml__Signal/Comb/index.html#type-t">HardCaml.Signal.Comb.t</a><span class="keyword"> -&gt; </span><span class="type-var">'a</span> <a href="index.html#type-recipe">recipe</a><span class="keyword"> -&gt; </span><span class="type-var">'b</span> <a href="index.html#type-recipe">recipe</a><span class="keyword"> -&gt; </span>unit <a href="index.html#type-recipe">recipe</a></code></div><div class="doc"><p><code class="code">cond c t f</code> performs <code class="code">t</code> if <code class="code">c</code> is high, otherwise performs <code class="code">f</code></p></div></div><div class="spec val" id="val-iter"><a href="#val-iter" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>iter : <a href="../HardCaml__Signal/Comb/index.html#type-t">HardCaml.Signal.Comb.t</a><span class="keyword"> -&gt; </span><span class="type-var">'a</span> <a href="index.html#type-recipe">recipe</a><span class="keyword"> -&gt; </span><span class="type-var">'a</span> <a href="index.html#type-recipe">recipe</a></code></div><div class="doc"><p><code class="code">iter c t</code> perform <code class="code">t</code> while <code class="code">c</code> is high</p></div></div><div class="spec val" id="val-forever"><a href="#val-forever" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>forever : <span class="type-var">'a</span> <a href="index.html#type-recipe">recipe</a><span class="keyword"> -&gt; </span><span class="type-var">'a</span> <a href="index.html#type-recipe">recipe</a></code></div><div class="doc"><p>perform recipe forever</p></div></div><div class="spec val" id="val-waitWhile"><a href="#val-waitWhile" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>waitWhile : <a href="../HardCaml__Signal/Comb/index.html#type-t">HardCaml.Signal.Comb.t</a><span class="keyword"> -&gt; </span>unit <a href="index.html#type-recipe">recipe</a></code></div><div class="doc"><p>wait until <code class="code">t</code> is low</p></div></div><div class="spec val" id="val-waitUntil"><a href="#val-waitUntil" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>waitUntil : <a href="../HardCaml__Signal/Comb/index.html#type-t">HardCaml.Signal.Comb.t</a><span class="keyword"> -&gt; </span>unit <a href="index.html#type-recipe">recipe</a></code></div><div class="doc"><p>wait until <code class="code">t</code> is high</p></div></div><div class="spec val" id="val-follow"><a href="#val-follow" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>follow : <a href="../HardCaml__Signal/Comb/index.html#type-t">HardCaml.Signal.Comb.t</a><span class="keyword"> -&gt; </span><span class="type-var">'a</span> <a href="index.html#type-recipe">recipe</a><span class="keyword"> -&gt; </span><a href="../HardCaml__Signal/Comb/index.html#type-t">HardCaml.Signal.Comb.t</a><span class="keyword"> * </span><span class="type-var">'a</span></code></div><div class="doc"><p>follow recipe and get result</p></div></div><div class="spec val" id="val-newVar"><a href="#val-newVar" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>newVar : ?name:string<span class="keyword"> -&gt; </span>int<span class="keyword"> -&gt; </span><a href="index.html#type-var">var</a> <a href="index.html#type-recipe">recipe</a></code></div><div class="doc"><p>create an new <code class="code">n</code> bit register</p></div></div><div class="spec val" id="val-readVar"><a href="#val-readVar" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>readVar : <a href="index.html#type-var">var</a><span class="keyword"> -&gt; </span><a href="../HardCaml__Signal/Comb/index.html#type-t">HardCaml.Signal.Comb.t</a> <a href="index.html#type-recipe">recipe</a></code></div><div class="doc"><p>read value of register</p></div></div><div class="spec val" id="val-assign"><a href="#val-assign" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>assign : (<a href="index.html#type-var">var</a><span class="keyword"> * </span><a href="../HardCaml__Signal/Comb/index.html#type-t">HardCaml.Signal.Comb.t</a>) list<span class="keyword"> -&gt; </span>unit <a href="index.html#type-recipe">recipe</a></code></div><div class="doc"><p>assign list of registers - takes 1 cycle</p></div></div><div class="spec val" id="val-writeVar"><a href="#val-writeVar" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>writeVar : <a href="index.html#type-var">var</a><span class="keyword"> -&gt; </span><a href="../HardCaml__Signal/Comb/index.html#type-t">HardCaml.Signal.Comb.t</a><span class="keyword"> -&gt; </span>unit <a href="index.html#type-recipe">recipe</a></code></div><div class="doc"><p>write register with value</p></div></div><div class="spec val" id="val-modifyVar"><a href="#val-modifyVar" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>modifyVar : (<a href="../HardCaml__Signal/Comb/index.html#type-t">HardCaml.Signal.Comb.t</a><span class="keyword"> -&gt; </span><a href="../HardCaml__Signal/Comb/index.html#type-t">HardCaml.Signal.Comb.t</a>)<span class="keyword"> -&gt; </span><a href="index.html#type-var">var</a><span class="keyword"> -&gt; </span>unit <a href="index.html#type-recipe">recipe</a></code></div><div class="doc"><p>modify current value of resgiter</p></div></div><div class="spec val" id="val-rewriteVar"><a href="#val-rewriteVar" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>rewriteVar : (<a href="../HardCaml__Signal/Comb/index.html#type-t">HardCaml.Signal.Comb.t</a><span class="keyword"> -&gt; </span><a href="../HardCaml__Signal/Comb/index.html#type-t">HardCaml.Signal.Comb.t</a>)<span class="keyword"> -&gt; </span><a href="index.html#type-var">var</a><span class="keyword"> -&gt; </span><a href="index.html#type-var">var</a><span class="keyword"> -&gt; </span>unit <a href="index.html#type-recipe">recipe</a></code></div><div class="doc"><p>read a register, modify value, write a second register</p></div></div><div class="spec module-type" id="module-type-Same"><a href="#module-type-Same" class="anchor"></a><div class="def module-type"><code><span class="keyword">module type </span><a href="module-type-Same/index.html">Same</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><div class="spec module" id="module-Same"><a href="#module-Same" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Same/index.html">Same</a> : <span class="keyword">functor</span> (<a href="Same/argument-1-X/index.html">X</a> : <a href="../HardCaml/Interface/index.html#module-type-S">HardCaml.Interface.S</a>) -&gt; <a href="index.html#module-type-Same">Same</a><span class="keyword"> with </span><span class="keyword">type </span>'a <a href="Same/index.html#type-same">same</a><span class="keyword"> = </span><span class="type-var">'a</span> <a href="Same/argument-1-X/index.html#type-t">X.t</a></code></div><div class="doc"></div></div><div class="spec module" id="module-SVar"><a href="#module-SVar" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="SVar/index.html">SVar</a> : <a href="index.html#module-type-Same">Same</a><span class="keyword"> with </span><span class="keyword">type </span>'a <a href="module-type-Same/index.html#type-same">same</a><span class="keyword"> = </span><span class="type-var">'a</span></code></div><div class="doc"></div></div><div class="spec module" id="module-SList"><a href="#module-SList" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="SList/index.html">SList</a> : <a href="index.html#module-type-Same">Same</a><span class="keyword"> with </span><span class="keyword">type </span>'a <a href="module-type-Same/index.html#type-same">same</a><span class="keyword"> = </span><span class="type-var">'a</span> list</code></div><div class="doc"></div></div><div class="spec module" id="module-SArray"><a href="#module-SArray" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="SArray/index.html">SArray</a> : <a href="index.html#module-type-Same">Same</a><span class="keyword"> with </span><span class="keyword">type </span>'a <a href="module-type-Same/index.html#type-same">same</a><span class="keyword"> = </span><span class="type-var">'a</span> array</code></div><div class="doc"></div></div><div class="spec module" id="module-STuple2"><a href="#module-STuple2" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="STuple2/index.html">STuple2</a> : <a href="index.html#module-type-Same">Same</a><span class="keyword"> with </span><span class="keyword">type </span>'a <a href="module-type-Same/index.html#type-same">same</a><span class="keyword"> = </span><span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'a</span></code></div><div class="doc"></div></div><div class="spec module" id="module-STuple3"><a href="#module-STuple3" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="STuple3/index.html">STuple3</a> : <a href="index.html#module-type-Same">Same</a><span class="keyword"> with </span><span class="keyword">type </span>'a <a href="module-type-Same/index.html#type-same">same</a><span class="keyword"> = </span><span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'a</span></code></div><div class="doc"></div></div></body></html>