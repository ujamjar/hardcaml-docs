<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Recipe (hardcaml.Recipe)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/Recipe">Recipe</a></h1></div><div><div class="doc">Hardware generation in an imperative style</div><div><div class="doc">create sequential hardware designs using <code>if</code>, <code>while</code> and <code>assignment</code></div><div class="region" id="/var.typ"><a href="#/var.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>var</div><div class="doc"></div></div></div><div class="region" id="/inp.typ"><a href="#/inp.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>inp</div><div class="doc"></div></div></div><div class="region" id="/env.typ"><a href="#/env.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>env</div><div class="doc"></div></div></div><div class="region" id="/recipe.typ"><a href="#/recipe.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>'a recipe</div><div class="doc"></div></div></div><div class="region" id="/Monad"><a href="#/Monad" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="Monad/index.html">Monad</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></div><div class="doc"></div></div></div><div class="region" id="/skip.val"><a href="#/skip.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>skip : unit <a href="index.html#/recipe.typ">recipe</a></div><div class="doc">skip 1 cycle</div></div></div><div class="region" id="/wait.val"><a href="#/wait.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>wait : int -&gt; unit <a href="index.html#/recipe.typ">recipe</a></div><div class="doc">skip n cycles</div></div></div><div class="region" id="/par.val"><a href="#/par.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>par : ?comb_fin:bool -&gt; 'a <a href="index.html#/recipe.typ">recipe</a> list -&gt; 'a list <a href="index.html#/recipe.typ">recipe</a></div><div class="doc">perform recipes in parallel. <code>comb_fin</code> controls the finish signal
generation. When false and extra cycle is taken after the recipes
complete to generate the <code>fin</code> signal. Otherwise extra combinatorial
logic is generated to ensure the <code>fin</code> signal toggles on the same
cycle as the last recipe to complete.</div></div></div><div class="region" id="/par2.val"><a href="#/par2.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>par2 : ?comb_fin:bool -&gt; 'a <a href="index.html#/recipe.typ">recipe</a> -&gt; 'b <a href="index.html#/recipe.typ">recipe</a> -&gt; ('a * 'b) <a href="index.html#/recipe.typ">recipe</a></div><div class="doc"></div></div></div><div class="region" id="/(|||).val"><a href="#/(|||).val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>(|||) : 'a <a href="index.html#/recipe.typ">recipe</a> -&gt; 'b <a href="index.html#/recipe.typ">recipe</a> -&gt; ('a * 'b) <a href="index.html#/recipe.typ">recipe</a></div><div class="doc"></div></div></div><div class="region" id="/cond.val"><a href="#/cond.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>cond : <a href="../Signal/Comb/index.html#/t.typ">Signal.Comb.t</a> -&gt; 'a <a href="index.html#/recipe.typ">recipe</a> -&gt; 'b <a href="index.html#/recipe.typ">recipe</a> -&gt; unit <a href="index.html#/recipe.typ">recipe</a></div><div class="doc"><code>cond c t f</code> performs <code>t</code> if <code>c</code> is high, otherwise performs <code>f</code></div></div></div><div class="region" id="/iter.val"><a href="#/iter.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>iter : <a href="../Signal/Comb/index.html#/t.typ">Signal.Comb.t</a> -&gt; 'a <a href="index.html#/recipe.typ">recipe</a> -&gt; 'a <a href="index.html#/recipe.typ">recipe</a></div><div class="doc"><code>iter c t</code> perform <code>t</code> while <code>c</code> is high</div></div></div><div class="region" id="/forever.val"><a href="#/forever.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>forever : 'a <a href="index.html#/recipe.typ">recipe</a> -&gt; 'a <a href="index.html#/recipe.typ">recipe</a></div><div class="doc">perform recipe forever</div></div></div><div class="region" id="/waitWhile.val"><a href="#/waitWhile.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>waitWhile : <a href="../Signal/Comb/index.html#/t.typ">Signal.Comb.t</a> -&gt; unit <a href="index.html#/recipe.typ">recipe</a></div><div class="doc">wait until <code>t</code> is low</div></div></div><div class="region" id="/waitUntil.val"><a href="#/waitUntil.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>waitUntil : <a href="../Signal/Comb/index.html#/t.typ">Signal.Comb.t</a> -&gt; unit <a href="index.html#/recipe.typ">recipe</a></div><div class="doc">wait until <code>t</code> is high</div></div></div><div class="region" id="/follow.val"><a href="#/follow.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>follow : <a href="../Signal/Comb/index.html#/t.typ">Signal.Comb.t</a> -&gt; 'a <a href="index.html#/recipe.typ">recipe</a> -&gt; <a href="../Signal/Comb/index.html#/t.typ">Signal.Comb.t</a> * 'a</div><div class="doc">follow recipe and get result</div></div></div><div class="region" id="/newVar.val"><a href="#/newVar.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>newVar : ?name:string -&gt; int -&gt; <a href="index.html#/var.typ">var</a> <a href="index.html#/recipe.typ">recipe</a></div><div class="doc">create an new <code>n</code> bit register</div></div></div><div class="region" id="/readVar.val"><a href="#/readVar.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>readVar : <a href="index.html#/var.typ">var</a> -&gt; <a href="../Signal/Comb/index.html#/t.typ">Signal.Comb.t</a> <a href="index.html#/recipe.typ">recipe</a></div><div class="doc">read value of register</div></div></div><div class="region" id="/assign.val"><a href="#/assign.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>assign : (<a href="index.html#/var.typ">var</a> * <a href="../Signal/Comb/index.html#/t.typ">Signal.Comb.t</a>) list -&gt; unit <a href="index.html#/recipe.typ">recipe</a></div><div class="doc">assign list of registers - takes 1 cycle</div></div></div><div class="region" id="/writeVar.val"><a href="#/writeVar.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>writeVar : <a href="index.html#/var.typ">var</a> -&gt; <a href="../Signal/Comb/index.html#/t.typ">Signal.Comb.t</a> -&gt; unit <a href="index.html#/recipe.typ">recipe</a></div><div class="doc">write register with value</div></div></div><div class="region" id="/modifyVar.val"><a href="#/modifyVar.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>modifyVar : (<a href="../Signal/Comb/index.html#/t.typ">Signal.Comb.t</a> -&gt; <a href="../Signal/Comb/index.html#/t.typ">Signal.Comb.t</a>) -&gt; <a href="index.html#/var.typ">var</a> -&gt; unit <a href="index.html#/recipe.typ">recipe</a></div><div class="doc">modify current value of resgiter</div></div></div><div class="region" id="/rewriteVar.val"><a href="#/rewriteVar.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rewriteVar : (<a href="../Signal/Comb/index.html#/t.typ">Signal.Comb.t</a> -&gt; <a href="../Signal/Comb/index.html#/t.typ">Signal.Comb.t</a>) -&gt; <a href="index.html#/var.typ">var</a> -&gt; <a href="index.html#/var.typ">var</a> -&gt; unit <a href="index.html#/recipe.typ">recipe</a></div><div class="doc">read a register, modify value, write a second register</div></div></div><div class="region" id="/Same.modt"><a href="#/Same.modt" class="anchor"></a><div class="modtype"><div class="def"><span class="keyword">module type </span><a href="Same.modt/index.html">Same</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></div><div class="doc"></div></div></div><div class="region" id="/Same"><a href="#/Same" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="Same/index.html">Same</a> : <span class="keyword">functor</span> (<a href="Same/X.1.moda/index.html">X</a> : <a href="../Interface/S.modt/index.html">Interface.S</a>) -&gt; <a href="Same.modt/index.html">Same</a><span class="keyword"> with </span><span class="keyword">type </span>'a <a href="Same/index.html#/same.typ">same</a> = 'a <a href="Same/X.1.moda/index.html#/t.typ">X.t</a></div><div class="doc"></div></div></div><div class="region" id="/SVar"><a href="#/SVar" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="SVar/index.html">SVar</a> : <a href="Same.modt/index.html">Same</a><span class="keyword"> with </span><span class="keyword">type </span>'a <a href="Same.modt/index.html#/same.typ">same</a> = 'a</div><div class="doc"></div></div></div><div class="region" id="/SList"><a href="#/SList" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="SList/index.html">SList</a> : <a href="Same.modt/index.html">Same</a><span class="keyword"> with </span><span class="keyword">type </span>'a <a href="Same.modt/index.html#/same.typ">same</a> = 'a list</div><div class="doc"></div></div></div><div class="region" id="/SArray"><a href="#/SArray" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="SArray/index.html">SArray</a> : <a href="Same.modt/index.html">Same</a><span class="keyword"> with </span><span class="keyword">type </span>'a <a href="Same.modt/index.html#/same.typ">same</a> = 'a array</div><div class="doc"></div></div></div><div class="region" id="/STuple2"><a href="#/STuple2" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="STuple2/index.html">STuple2</a> : <a href="Same.modt/index.html">Same</a><span class="keyword"> with </span><span class="keyword">type </span>'a <a href="Same.modt/index.html#/same.typ">same</a> = 'a * 'a</div><div class="doc"></div></div></div><div class="region" id="/STuple3"><a href="#/STuple3" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="STuple3/index.html">STuple3</a> : <a href="Same.modt/index.html">Same</a><span class="keyword"> with </span><span class="keyword">type </span>'a <a href="Same.modt/index.html#/same.typ">same</a> = 'a * 'a * 'a</div><div class="doc"></div></div></div></div></div></div></body></html>