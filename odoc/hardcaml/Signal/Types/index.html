<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Types (hardcaml.Signal.Types)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/Types">Types</a></h1></div><div class="mod"><div class="def"><span class="keyword">module </span>Types : <span class="keyword">sig</span> ... <span class="keyword">end</span></div><div class="doc">Signal data type and low-level functions</div><hr/><div><div class="region" id="/signal_op.typ"><a href="#/signal_op.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>signal_op = <table><tr class="cons"><td><div class="region" id="/signal_op.typ/Signal_add.cons"><a href="#/signal_op.typ/Signal_add.cons" class="anchor"></a>| Signal_add</div></td></tr><tr class="cons"><td><div class="region" id="/signal_op.typ/Signal_sub.cons"><a href="#/signal_op.typ/Signal_sub.cons" class="anchor"></a>| Signal_sub</div></td></tr><tr class="cons"><td><div class="region" id="/signal_op.typ/Signal_mulu.cons"><a href="#/signal_op.typ/Signal_mulu.cons" class="anchor"></a>| Signal_mulu</div></td></tr><tr class="cons"><td><div class="region" id="/signal_op.typ/Signal_muls.cons"><a href="#/signal_op.typ/Signal_muls.cons" class="anchor"></a>| Signal_muls</div></td></tr><tr class="cons"><td><div class="region" id="/signal_op.typ/Signal_and.cons"><a href="#/signal_op.typ/Signal_and.cons" class="anchor"></a>| Signal_and</div></td></tr><tr class="cons"><td><div class="region" id="/signal_op.typ/Signal_or.cons"><a href="#/signal_op.typ/Signal_or.cons" class="anchor"></a>| Signal_or</div></td></tr><tr class="cons"><td><div class="region" id="/signal_op.typ/Signal_xor.cons"><a href="#/signal_op.typ/Signal_xor.cons" class="anchor"></a>| Signal_xor</div></td></tr><tr class="cons"><td><div class="region" id="/signal_op.typ/Signal_eq.cons"><a href="#/signal_op.typ/Signal_eq.cons" class="anchor"></a>| Signal_eq</div></td></tr><tr class="cons"><td><div class="region" id="/signal_op.typ/Signal_not.cons"><a href="#/signal_op.typ/Signal_not.cons" class="anchor"></a>| Signal_not</div></td></tr><tr class="cons"><td><div class="region" id="/signal_op.typ/Signal_lt.cons"><a href="#/signal_op.typ/Signal_lt.cons" class="anchor"></a>| Signal_lt</div></td></tr><tr class="cons"><td><div class="region" id="/signal_op.typ/Signal_cat.cons"><a href="#/signal_op.typ/Signal_cat.cons" class="anchor"></a>| Signal_cat</div></td></tr><tr class="cons"><td><div class="region" id="/signal_op.typ/Signal_mux.cons"><a href="#/signal_op.typ/Signal_mux.cons" class="anchor"></a>| Signal_mux</div></td></tr></table></div><div class="doc">simple operators</div></div></div><div class="region" id="/uid.typ"><a href="#/uid.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>uid = int64</div><div class="doc"></div></div></div><div class="region" id="/UidMap"><a href="#/UidMap" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="UidMap/index.html">UidMap</a> : <a href="../../../ocaml/Map/S.modt/index.html">Map.S</a><span class="keyword"> with </span><span class="keyword">type </span><a href="../../../ocaml/Map/S.modt/index.html#/key.typ">key</a> = <a href="index.html#/uid.typ">uid</a></div><div class="doc"></div></div></div><div class="region" id="/UidSet"><a href="#/UidSet" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="UidSet/index.html">UidSet</a> : <a href="../../../ocaml/Set/S.modt/index.html">Set.S</a><span class="keyword"> with </span><span class="keyword">type </span><a href="../../../ocaml/Set/S.modt/index.html#/elt.typ">elt</a> = <a href="index.html#/uid.typ">uid</a></div><div class="doc"></div></div></div><div class="region" id="/signal_id.typ"><a href="#/signal_id.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>signal_id = {<table><tr class="fld"><td><div class="region" id="/signal_id.typ/s_id.fld"><a href="#/signal_id.typ/s_id.fld" class="anchor"></a>s_id</div></td><td> : </td><td><a href="index.html#/uid.typ">uid</a>;</td></tr><tr class="fld"><td><div class="region" id="/signal_id.typ/s_names.fld"><a href="#/signal_id.typ/s_names.fld" class="anchor"></a><span class="keyword">mutable </span>s_names</div></td><td> : </td><td>string list;</td></tr><tr class="fld"><td><div class="region" id="/signal_id.typ/s_width.fld"><a href="#/signal_id.typ/s_width.fld" class="anchor"></a>s_width</div></td><td> : </td><td>int;</td><td>(*</td><td><div class="doc">making this mutable turns hardcaml from pretty functional
* to pretty imperative. however, if used carefully and only
* with the library, we can provide a potentially easier way
* of changing the graph structure in some cases</div></td><td>*)</td></tr><tr class="fld"><td><div class="region" id="/signal_id.typ/s_deps.fld"><a href="#/signal_id.typ/s_deps.fld" class="anchor"></a><span class="keyword">mutable </span>s_deps</div></td><td> : </td><td><a href="index.html#/signal.typ">signal</a> list;</td></tr></table>}</div><div class="doc">internal structure for tracking signals</div></div></div><div class="region" id="/signal.typ"><a href="#/signal.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>signal = <table><tr class="cons"><td><div class="region" id="/signal.typ/Signal_empty.cons"><a href="#/signal.typ/Signal_empty.cons" class="anchor"></a>| Signal_empty</div></td></tr><tr class="cons"><td><div class="region" id="/signal.typ/Signal_const.cons"><a href="#/signal.typ/Signal_const.cons" class="anchor"></a>| Signal_const of <a href="index.html#/signal_id.typ">signal_id</a> * string</div></td></tr><tr class="cons"><td><div class="region" id="/signal.typ/Signal_op.cons"><a href="#/signal.typ/Signal_op.cons" class="anchor"></a>| Signal_op of <a href="index.html#/signal_id.typ">signal_id</a> * <a href="index.html#/signal_op.typ">signal_op</a></div></td></tr><tr class="cons"><td><div class="region" id="/signal.typ/Signal_wire.cons"><a href="#/signal.typ/Signal_wire.cons" class="anchor"></a>| Signal_wire of <a href="index.html#/signal_id.typ">signal_id</a> * <a href="index.html#/signal.typ">signal</a> <a href="../../../ocaml/Pervasives/index.html#/ref.typ">Pervasives.ref</a></div></td></tr><tr class="cons"><td><div class="region" id="/signal.typ/Signal_select.cons"><a href="#/signal.typ/Signal_select.cons" class="anchor"></a>| Signal_select of <a href="index.html#/signal_id.typ">signal_id</a> * int * int</div></td></tr><tr class="cons"><td><div class="region" id="/signal.typ/Signal_reg.cons"><a href="#/signal.typ/Signal_reg.cons" class="anchor"></a>| Signal_reg of <a href="index.html#/signal_id.typ">signal_id</a> * <a href="index.html#/register.typ">register</a></div></td></tr><tr class="cons"><td><div class="region" id="/signal.typ/Signal_mem.cons"><a href="#/signal.typ/Signal_mem.cons" class="anchor"></a>| Signal_mem of <a href="index.html#/signal_id.typ">signal_id</a> * <a href="index.html#/uid.typ">uid</a> * <a href="index.html#/register.typ">register</a> * <a href="index.html#/memory.typ">memory</a></div></td></tr><tr class="cons"><td><div class="region" id="/signal.typ/Signal_inst.cons"><a href="#/signal.typ/Signal_inst.cons" class="anchor"></a>| Signal_inst of <a href="index.html#/signal_id.typ">signal_id</a> * <a href="index.html#/uid.typ">uid</a> * <a href="index.html#/instantiation.typ">instantiation</a></div></td></tr></table></div><div class="doc">main signal data type</div></div></div><div class="region" id="/register.typ"><a href="#/register.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>register = {<table><tr class="fld"><td><div class="region" id="/register.typ/reg_clock.fld"><a href="#/register.typ/reg_clock.fld" class="anchor"></a>reg_clock</div></td><td> : </td><td><a href="index.html#/signal.typ">signal</a>;</td></tr><tr class="fld"><td><div class="region" id="/register.typ/reg_clock_level.fld"><a href="#/register.typ/reg_clock_level.fld" class="anchor"></a>reg_clock_level</div></td><td> : </td><td><a href="index.html#/signal.typ">signal</a>;</td></tr><tr class="fld"><td><div class="region" id="/register.typ/reg_reset.fld"><a href="#/register.typ/reg_reset.fld" class="anchor"></a>reg_reset</div></td><td> : </td><td><a href="index.html#/signal.typ">signal</a>;</td></tr><tr class="fld"><td><div class="region" id="/register.typ/reg_reset_level.fld"><a href="#/register.typ/reg_reset_level.fld" class="anchor"></a>reg_reset_level</div></td><td> : </td><td><a href="index.html#/signal.typ">signal</a>;</td></tr><tr class="fld"><td><div class="region" id="/register.typ/reg_reset_value.fld"><a href="#/register.typ/reg_reset_value.fld" class="anchor"></a>reg_reset_value</div></td><td> : </td><td><a href="index.html#/signal.typ">signal</a>;</td></tr><tr class="fld"><td><div class="region" id="/register.typ/reg_clear.fld"><a href="#/register.typ/reg_clear.fld" class="anchor"></a>reg_clear</div></td><td> : </td><td><a href="index.html#/signal.typ">signal</a>;</td></tr><tr class="fld"><td><div class="region" id="/register.typ/reg_clear_level.fld"><a href="#/register.typ/reg_clear_level.fld" class="anchor"></a>reg_clear_level</div></td><td> : </td><td><a href="index.html#/signal.typ">signal</a>;</td></tr><tr class="fld"><td><div class="region" id="/register.typ/reg_clear_value.fld"><a href="#/register.typ/reg_clear_value.fld" class="anchor"></a>reg_clear_value</div></td><td> : </td><td><a href="index.html#/signal.typ">signal</a>;</td></tr><tr class="fld"><td><div class="region" id="/register.typ/reg_enable.fld"><a href="#/register.typ/reg_enable.fld" class="anchor"></a>reg_enable</div></td><td> : </td><td><a href="index.html#/signal.typ">signal</a>;</td></tr></table>}</div><div class="doc"></div></div></div><div class="region" id="/memory.typ"><a href="#/memory.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>memory = {<table><tr class="fld"><td><div class="region" id="/memory.typ/mem_size.fld"><a href="#/memory.typ/mem_size.fld" class="anchor"></a>mem_size</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/memory.typ/mem_read_address.fld"><a href="#/memory.typ/mem_read_address.fld" class="anchor"></a>mem_read_address</div></td><td> : </td><td><a href="index.html#/signal.typ">signal</a>;</td></tr><tr class="fld"><td><div class="region" id="/memory.typ/mem_write_address.fld"><a href="#/memory.typ/mem_write_address.fld" class="anchor"></a>mem_write_address</div></td><td> : </td><td><a href="index.html#/signal.typ">signal</a>;</td></tr></table>}</div><div class="doc"></div></div></div><div class="region" id="/instantiation.typ"><a href="#/instantiation.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>instantiation = {<table><tr class="fld"><td><div class="region" id="/instantiation.typ/inst_name.fld"><a href="#/instantiation.typ/inst_name.fld" class="anchor"></a>inst_name</div></td><td> : </td><td>string;</td></tr><tr class="fld"><td><div class="region" id="/instantiation.typ/inst_generics.fld"><a href="#/instantiation.typ/inst_generics.fld" class="anchor"></a>inst_generics</div></td><td> : </td><td>(string * <a href="index.html#/parameter.typ">parameter</a>) list;</td></tr><tr class="fld"><td><div class="region" id="/instantiation.typ/inst_inputs.fld"><a href="#/instantiation.typ/inst_inputs.fld" class="anchor"></a>inst_inputs</div></td><td> : </td><td>(string * <a href="index.html#/signal.typ">signal</a>) list;</td></tr><tr class="fld"><td><div class="region" id="/instantiation.typ/inst_outputs.fld"><a href="#/instantiation.typ/inst_outputs.fld" class="anchor"></a>inst_outputs</div></td><td> : </td><td>(string * (int * int)) list;</td></tr><tr class="fld"><td><div class="region" id="/instantiation.typ/inst_lib.fld"><a href="#/instantiation.typ/inst_lib.fld" class="anchor"></a>inst_lib</div></td><td> : </td><td>string;</td></tr><tr class="fld"><td><div class="region" id="/instantiation.typ/inst_arch.fld"><a href="#/instantiation.typ/inst_arch.fld" class="anchor"></a>inst_arch</div></td><td> : </td><td>string;</td></tr></table>}</div><div class="doc"></div></div></div><div class="region" id="/parameter.typ"><a href="#/parameter.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>parameter = <table><tr class="cons"><td><div class="region" id="/parameter.typ/ParamString.cons"><a href="#/parameter.typ/ParamString.cons" class="anchor"></a>| ParamString of string</div></td></tr><tr class="cons"><td><div class="region" id="/parameter.typ/ParamInt.cons"><a href="#/parameter.typ/ParamInt.cons" class="anchor"></a>| ParamInt of int</div></td></tr><tr class="cons"><td><div class="region" id="/parameter.typ/ParamFloat.cons"><a href="#/parameter.typ/ParamFloat.cons" class="anchor"></a>| ParamFloat of float</div></td></tr><tr class="cons"><td><div class="region" id="/parameter.typ/ParamBool.cons"><a href="#/parameter.typ/ParamBool.cons" class="anchor"></a>| ParamBool of bool</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/uid.val"><a href="#/uid.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>uid : <a href="index.html#/signal.typ">signal</a> -&gt; <a href="index.html#/uid.typ">uid</a></div><div class="doc">returns the unique id of the signal</div></div></div><div class="region" id="/depo.val"><a href="#/depo.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>depo : <a href="index.html#/signal.typ">signal</a> -&gt; &lt; sel : <a href="index.html#/signal.typ">signal</a>; op1 : <a href="index.html#/signal.typ">signal</a>; op2 : <a href="index.html#/signal.typ">signal</a> * <a href="index.html#/signal.typ">signal</a>; data : <a href="index.html#/signal.typ">signal</a> list; &gt;</div><div class="doc"></div></div></div><div class="region" id="/deps.val"><a href="#/deps.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>deps : <a href="index.html#/signal.typ">signal</a> -&gt; <a href="index.html#/signal.typ">signal</a> list</div><div class="doc">returns the signals dependancies</div></div></div><div class="region" id="/names.val"><a href="#/names.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>names : <a href="index.html#/signal.typ">signal</a> -&gt; string list</div><div class="doc">returns the list of names assigned to the signal</div></div></div><div class="region" id="/width.val"><a href="#/width.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>width : <a href="index.html#/signal.typ">signal</a> -&gt; int</div><div class="doc">width of the signal</div></div></div><div class="region" id="/is_reg.val"><a href="#/is_reg.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>is_reg : <a href="index.html#/signal.typ">signal</a> -&gt; bool</div><div class="doc">is the signal a register?</div></div></div><div class="region" id="/is_mem.val"><a href="#/is_mem.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>is_mem : <a href="index.html#/signal.typ">signal</a> -&gt; bool</div><div class="doc">is the signal a memory?</div></div></div><div class="region" id="/is_inst.val"><a href="#/is_inst.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>is_inst : <a href="index.html#/signal.typ">signal</a> -&gt; bool</div><div class="doc">is the signal an instantiation?</div></div></div><div class="region" id="/is_const.val"><a href="#/is_const.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>is_const : <a href="index.html#/signal.typ">signal</a> -&gt; bool</div><div class="doc">is the signal a constant?</div></div></div><div class="region" id="/is_select.val"><a href="#/is_select.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>is_select : <a href="index.html#/signal.typ">signal</a> -&gt; bool</div><div class="doc">is the signal a part selection?</div></div></div><div class="region" id="/is_wire.val"><a href="#/is_wire.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>is_wire : <a href="index.html#/signal.typ">signal</a> -&gt; bool</div><div class="doc">is the signal a wire?</div></div></div><div class="region" id="/is_op.val"><a href="#/is_op.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>is_op : <a href="index.html#/signal_op.typ">signal_op</a> -&gt; <a href="index.html#/signal.typ">signal</a> -&gt; bool</div><div class="doc">is the signal the given operator?</div></div></div><div class="region" id="/const_value.val"><a href="#/const_value.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>const_value : <a href="index.html#/signal.typ">signal</a> -&gt; string</div><div class="doc">return the (binary) string representing a constants value</div></div></div><div class="region" id="/new_id.val"><a href="#/new_id.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>new_id : unit -&gt; <a href="index.html#/uid.typ">uid</a></div><div class="doc">creates a new signal uid</div></div></div><div class="region" id="/reset_id.val"><a href="#/reset_id.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>reset_id : unit -&gt; unit</div><div class="doc">resets the signal identifiers</div></div></div><div class="region" id="/make_id.val"><a href="#/make_id.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>make_id : int -&gt; <a href="index.html#/signal.typ">signal</a> list -&gt; <a href="index.html#/signal_id.typ">signal_id</a></div><div class="doc">constructs a signal_id type</div></div></div><div class="region" id="/string_of_op.val"><a href="#/string_of_op.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>string_of_op : <a href="index.html#/signal_op.typ">signal_op</a> -&gt; string</div><div class="doc">return string representation of operator</div></div></div><div class="region" id="/to_string.val"><a href="#/to_string.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>to_string : <a href="index.html#/signal.typ">signal</a> -&gt; string</div><div class="doc"></div></div></div><div class="region" id="/structural_compare.val"><a href="#/structural_compare.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>structural_compare : ?check_names:bool -&gt; ?check_deps:bool -&gt; <a href="index.html#/signal.typ">signal</a> -&gt; <a href="index.html#/signal.typ">signal</a> -&gt; bool</div><div class="doc">perform a recursive structural comparison of two signals</div></div></div></div></div></div></body></html>