<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Structural (hardcaml.Structural)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/Structural">Structural</a></h1></div><div><div class="doc">Simplified HardCaml API that includes tri-states - used for toplevel module generation</div><div><div class="region" id="/name.typ"><a href="#/name.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>name = string</div><div class="doc"></div></div></div><div class="region" id="/id.typ"><a href="#/id.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>id = int</div><div class="doc"></div></div></div><div class="region" id="/width.typ"><a href="#/width.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>width = int</div><div class="doc"></div></div></div><div class="region" id="/signal.typ"><a href="#/signal.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>signal = <table><tr class="cons"><td><div class="region" id="/signal.typ/Empty.cons"><a href="#/signal.typ/Empty.cons" class="anchor"></a>| Empty</div></td></tr><tr class="cons"><td><div class="region" id="/signal.typ/Module_input.cons"><a href="#/signal.typ/Module_input.cons" class="anchor"></a>| Module_input of <a href="index.html#/id.typ">id</a> * <a href="index.html#/name.typ">name</a> * <a href="index.html#/width.typ">width</a></div></td></tr><tr class="cons"><td><div class="region" id="/signal.typ/Module_output.cons"><a href="#/signal.typ/Module_output.cons" class="anchor"></a>| Module_output of <a href="index.html#/id.typ">id</a> * <a href="index.html#/name.typ">name</a> * <a href="index.html#/width.typ">width</a> * <a href="index.html#/signal.typ">signal</a> <a href="../../ocaml/Pervasives/index.html#/ref.typ">Pervasives.ref</a></div></td></tr><tr class="cons"><td><div class="region" id="/signal.typ/Module_tristate.cons"><a href="#/signal.typ/Module_tristate.cons" class="anchor"></a>| Module_tristate of <a href="index.html#/id.typ">id</a> * <a href="index.html#/name.typ">name</a> * <a href="index.html#/width.typ">width</a> * <a href="index.html#/signal.typ">signal</a> list <a href="../../ocaml/Pervasives/index.html#/ref.typ">Pervasives.ref</a></div></td></tr><tr class="cons"><td><div class="region" id="/signal.typ/Internal_wire.cons"><a href="#/signal.typ/Internal_wire.cons" class="anchor"></a>| Internal_wire of <a href="index.html#/id.typ">id</a> * <a href="index.html#/width.typ">width</a> * <a href="index.html#/signal.typ">signal</a> <a href="../../ocaml/Pervasives/index.html#/ref.typ">Pervasives.ref</a></div></td></tr><tr class="cons"><td><div class="region" id="/signal.typ/Internal_triwire.cons"><a href="#/signal.typ/Internal_triwire.cons" class="anchor"></a>| Internal_triwire of <a href="index.html#/id.typ">id</a> * <a href="index.html#/width.typ">width</a> * <a href="index.html#/signal.typ">signal</a> list <a href="../../ocaml/Pervasives/index.html#/ref.typ">Pervasives.ref</a></div></td></tr><tr class="cons"><td><div class="region" id="/signal.typ/Instantiation_output.cons"><a href="#/signal.typ/Instantiation_output.cons" class="anchor"></a>| Instantiation_output of <a href="index.html#/id.typ">id</a> * <a href="index.html#/name.typ">name</a></div></td></tr><tr class="cons"><td><div class="region" id="/signal.typ/Instantiation_tristate.cons"><a href="#/signal.typ/Instantiation_tristate.cons" class="anchor"></a>| Instantiation_tristate of <a href="index.html#/id.typ">id</a> * <a href="index.html#/name.typ">name</a></div></td></tr><tr class="cons"><td><div class="region" id="/signal.typ/Instantiation.cons"><a href="#/signal.typ/Instantiation.cons" class="anchor"></a>| Instantiation of <a href="index.html#/id.typ">id</a> * <a href="index.html#/name.typ">name</a> * (string * <a href="index.html#/generic.typ">generic</a>) list * (string * <a href="index.html#/signal.typ">signal</a>) list * (string * <a href="index.html#/signal.typ">signal</a>) list * (string * <a href="index.html#/signal.typ">signal</a>) list</div></td></tr><tr class="cons"><td><div class="region" id="/signal.typ/Rtl_op.cons"><a href="#/signal.typ/Rtl_op.cons" class="anchor"></a>| Rtl_op of <a href="index.html#/id.typ">id</a> * <a href="index.html#/width.typ">width</a> * <a href="index.html#/rtl_op.typ">rtl_op</a></div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/rtl_op.typ"><a href="#/rtl_op.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>rtl_op = <table><tr class="cons"><td><div class="region" id="/rtl_op.typ/Constant.cons"><a href="#/rtl_op.typ/Constant.cons" class="anchor"></a>| Constant of string</div></td></tr><tr class="cons"><td><div class="region" id="/rtl_op.typ/Select.cons"><a href="#/rtl_op.typ/Select.cons" class="anchor"></a>| Select of int * int * <a href="index.html#/signal.typ">signal</a></div></td></tr><tr class="cons"><td><div class="region" id="/rtl_op.typ/Concat.cons"><a href="#/rtl_op.typ/Concat.cons" class="anchor"></a>| Concat of <a href="index.html#/signal.typ">signal</a> list</div></td></tr><tr class="cons"><td><div class="region" id="/rtl_op.typ/Mux.cons"><a href="#/rtl_op.typ/Mux.cons" class="anchor"></a>| Mux of <a href="index.html#/signal.typ">signal</a> * <a href="index.html#/signal.typ">signal</a> list</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/generic.typ"><a href="#/generic.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>generic = <table><tr class="cons"><td><div class="region" id="/generic.typ/GInt.cons"><a href="#/generic.typ/GInt.cons" class="anchor"></a>| GInt of int</div></td></tr><tr class="cons"><td><div class="region" id="/generic.typ/GFloat.cons"><a href="#/generic.typ/GFloat.cons" class="anchor"></a>| GFloat of float</div></td></tr><tr class="cons"><td><div class="region" id="/generic.typ/GString.cons"><a href="#/generic.typ/GString.cons" class="anchor"></a>| GString of string</div></td></tr><tr class="cons"><td><div class="region" id="/generic.typ/GUnquoted.cons"><a href="#/generic.typ/GUnquoted.cons" class="anchor"></a>| GUnquoted of string</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/circuit.typ"><a href="#/circuit.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>circuit = {<table><tr class="fld"><td><div class="region" id="/circuit.typ/name.fld"><a href="#/circuit.typ/name.fld" class="anchor"></a>name</div></td><td> : </td><td>string;</td></tr><tr class="fld"><td><div class="region" id="/circuit.typ/id.fld"><a href="#/circuit.typ/id.fld" class="anchor"></a>id</div></td><td> : </td><td><a href="index.html#/id.typ">id</a>;</td></tr><tr class="fld"><td><div class="region" id="/circuit.typ/signals.fld"><a href="#/circuit.typ/signals.fld" class="anchor"></a><span class="keyword">mutable </span>signals</div></td><td> : </td><td><a href="index.html#/signal.typ">signal</a> list;</td></tr></table>}</div><div class="doc"></div></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Invalid_submodule_input_connection of string * string * <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Invalid_submodule_output_connection of string * string * <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Invalid_submodule_tristate_connection of string * string * <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Wire_already_assigned of <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Invalid_assignment_target of <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Cant_assign_wire_with of <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Cant_assign_triwire_with of <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Invalid_name of <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Invalid_width of <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Invalid_id of <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Invalid_constant of string</div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Rtl_op_arg_not_readable of <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Too_few_mux_data_elements</div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Too_many_mux_data_elements of int</div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>All_mux_data_elements_must_be_same_width of int list</div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>No_elements_to_concat</div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Select_index_error of int * int</div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Binop_arg_widths_different of string</div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>No_circuit</div><div class="doc"></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Circuit_already_started</div><div class="doc"></div></div><div class="region" id="/circuit.val"><a href="#/circuit.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>circuit : string -&gt; unit</div><div class="doc"></div></div></div><div class="region" id="/end_circuit.val"><a href="#/end_circuit.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>end_circuit : unit -&gt; unit</div><div class="doc"></div></div></div><div class="region" id="/find_circuit.val"><a href="#/find_circuit.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>find_circuit : string -&gt; <a href="index.html#/circuit.typ">circuit</a></div><div class="doc"></div></div></div><div class="region" id="/width.val"><a href="#/width.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>width : <a href="index.html#/signal.typ">signal</a> -&gt; int</div><div class="doc"></div></div></div><div class="region" id="/mk_input.val"><a href="#/mk_input.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>mk_input : string -&gt; int -&gt; <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div></div><div class="region" id="/mk_output.val"><a href="#/mk_output.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>mk_output : string -&gt; int -&gt; <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div></div><div class="region" id="/mk_tristate.val"><a href="#/mk_tristate.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>mk_tristate : string -&gt; int -&gt; <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div></div><div class="region" id="/mk_wire.val"><a href="#/mk_wire.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>mk_wire : int -&gt; <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div></div><div class="region" id="/mk_triwire.val"><a href="#/mk_triwire.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>mk_triwire : int -&gt; <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div></div><div class="region" id="/(&lt;==).val"><a href="#/(&lt;==).val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>(&lt;==) : <a href="index.html#/signal.typ">signal</a> -&gt; <a href="index.html#/signal.typ">signal</a> -&gt; unit</div><div class="doc"></div></div></div><div class="region" id="/is_connected.val"><a href="#/is_connected.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>is_connected : <a href="index.html#/signal.typ">signal</a> -&gt; bool</div><div class="doc"></div></div></div><div class="region" id="/inst.val"><a href="#/inst.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>inst : ?g:(string * <a href="index.html#/generic.typ">generic</a>) list -&gt; ?i:(string * <a href="index.html#/signal.typ">signal</a>) list -&gt; ?o:(string * <a href="index.html#/signal.typ">signal</a>) list -&gt; ?t:(string * <a href="index.html#/signal.typ">signal</a>) list -&gt; string -&gt; unit</div><div class="doc"></div></div></div><div class="region" id="/(==&gt;).val"><a href="#/(==&gt;).val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>(==&gt;) : 'a -&gt; 'b -&gt; 'a * 'b</div><div class="doc"></div></div></div><div class="region" id="/const.val"><a href="#/const.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>const : string -&gt; <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div></div><div class="region" id="/constz.val"><a href="#/constz.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>constz : int -&gt; <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div></div><div class="region" id="/mux.val"><a href="#/mux.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>mux : <a href="index.html#/signal.typ">signal</a> -&gt; <a href="index.html#/signal.typ">signal</a> list -&gt; <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div></div><div class="region" id="/concat.val"><a href="#/concat.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>concat : <a href="index.html#/signal.typ">signal</a> list -&gt; <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div></div><div class="region" id="/select.val"><a href="#/select.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>select : <a href="index.html#/signal.typ">signal</a> -&gt; int -&gt; int -&gt; <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div></div><div class="region" id="/Config.modt"><a href="#/Config.modt" class="anchor"></a><div class="modtype"><div class="def"><span class="keyword">module type </span><a href="Config.modt/index.html">Config</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></div><div class="doc"></div></div></div><div class="region" id="/prefix.val"><a href="#/prefix.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>prefix : string</div><div class="doc"></div></div></div><div class="region" id="/Base"><a href="#/Base" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="Base/index.html">Base</a> : <span class="keyword">functor</span> (<a href="Base/C.1.moda/index.html">C</a> : <a href="Config.modt/index.html">Config</a>) -&gt; <a href="../Comb/T.modt/index.html">Comb.T</a><span class="keyword"> with </span><span class="keyword">type </span><a href="Base/index.html#/t.typ">t</a> = <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div></div><div class="region" id="/Base0"><a href="#/Base0" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="Base0/index.html">Base0</a> : <a href="../Comb/T.modt/index.html">Comb.T</a><span class="keyword"> with </span><span class="keyword">type </span><a href="../Comb/T.modt/index.html#/t.typ">t</a> = <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div></div><div class="region" id="/Base1"><a href="#/Base1" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="Base1/index.html">Base1</a> : <a href="../Comb/T.modt/index.html">Comb.T</a><span class="keyword"> with </span><span class="keyword">type </span><a href="../Comb/T.modt/index.html#/t.typ">t</a> = <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div></div><div class="region" id="/Base2"><a href="#/Base2" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="Base2/index.html">Base2</a> : <a href="../Comb/T.modt/index.html">Comb.T</a><span class="keyword"> with </span><span class="keyword">type </span><a href="../Comb/T.modt/index.html#/t.typ">t</a> = <a href="index.html#/signal.typ">signal</a></div><div class="doc"></div></div></div><div class="region" id="/write_verilog.val"><a href="#/write_verilog.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>write_verilog : (string -&gt; unit) -&gt; <a href="index.html#/circuit.typ">circuit</a> -&gt; unit</div><div class="doc"></div></div></div></div></div></div></body></html>