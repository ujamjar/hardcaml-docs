<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>LTerm (lambda-term.LTerm)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/LTerm">LTerm</a></h1></div><div><div class="doc">Terminal definitions</div><div><div class="region" id="/t.typ"><a href="#/t.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>t</div><div class="doc">Type of terminals.</div></div></div><div class="doc"><h6>Creation</h6></div><div class="exn"><div class="def"><span class="keyword">exn </span>No_such_encoding of string</div><div class="doc">Exception raised when an encoding does not exist.</div></div><div class="region" id="/create.val"><a href="#/create.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>create : ?windows:bool -&gt; ?model:string -&gt; ?incoming_encoding:string -&gt; ?outgoing_encoding:string -&gt; <a href="../../lwt/Lwt_unix/index.html#/file_descr.typ">Lwt_unix.file_descr</a> -&gt; <a href="../../lwt/Lwt_io/index.html#/input_channel.typ">Lwt_io.input_channel</a> -&gt; <a href="../../lwt/Lwt_unix/index.html#/file_descr.typ">Lwt_unix.file_descr</a> -&gt; <a href="../../lwt/Lwt_io/index.html#/output_channel.typ">Lwt_io.output_channel</a> -&gt; <a href="index.html#/t.typ">t</a> <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>create ?windows ?model ?incoming_encoding ?outgoing_encoding
      input_fd input_channel outout_fd output_channel</code> creates a new
terminal using <code>input_fd</code> and <code>input_channel</code> for inputs and
<code>output_fd</code> and <code>output_channel</code> for outputs.<br/><ul><li><code>windows</code> indicates whether the terminal is a windows console
(not mintty, rxvt, ...). It defaults to <code>Sys.win32</code>.</li></ul><ul><li><code>model</code> is the type of the terminal, such as &quot;rxvt&quot; or
&quot;xterm&quot;. It defaults to the contents of the &quot;TERM&quot; environment
variable, or to &quot;dumb&quot; if this one is not found. It is used to
determine capabilities of the terminal, such as the number of
colors. This is not used if <code>windows</code> is <code>true</code>.</li></ul><ul><li><code>incoming_encoding</code> is the encoding used for incoming data. It
defaults to <code>LTerm_windows.get_console_cp</code> if <code>windows</code> is <code>true</code>
and <code>LTerm_unix.system_encoding</code> otherwise.</li></ul><ul><li><code>outgoing_encoding</code> is the encoding used for outgoing data. It
defaults to <code>LTerm_windows.get_console_output_cp</code> if <code>windows</code> is
<code>true</code> and <code>LTerm_unix.system_encoding</code> otherwise. Note that
transliteration is used so printing unicode character on the
terminal will never fail.</li></ul>If one of the two given encodings does not exist, it raises
<code>No_such_encoding</code>.<br/>Note about terminal resize: in the windows console resizes are
not automatically detected. Lambda-term will only check for
resize only when something happens. If you want it to poll just
write somewhere in your program:<br/><pre>
      Lwt_engine.on_timer 1.0 true ignore
      </pre></div></div></div><div class="doc"><h6>Informations</h6></div><div class="region" id="/model.val"><a href="#/model.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>model : <a href="index.html#/t.typ">t</a> -&gt; string</div><div class="doc">Returns the model of the terminal.</div></div></div><div class="region" id="/colors.val"><a href="#/colors.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>colors : <a href="index.html#/t.typ">t</a> -&gt; int</div><div class="doc">Number of colors of the terminal.</div></div></div><div class="region" id="/windows.val"><a href="#/windows.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>windows : <a href="index.html#/t.typ">t</a> -&gt; bool</div><div class="doc">Whether the terminal is a windows console or not.</div></div></div><div class="region" id="/is_a_tty.val"><a href="#/is_a_tty.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>is_a_tty : <a href="index.html#/t.typ">t</a> -&gt; bool</div><div class="doc"><code>is_a_tty term</code> whether the intput and output of the given
terminal are connected to a tty device.</div></div></div><div class="region" id="/incoming_is_a_tty.val"><a href="#/incoming_is_a_tty.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>incoming_is_a_tty : <a href="index.html#/t.typ">t</a> -&gt; bool</div><div class="doc"><code>incoming_is_a_tty term</code> whether the input of <code>term</code> is a tty
device.</div></div></div><div class="region" id="/outgoing_is_a_tty.val"><a href="#/outgoing_is_a_tty.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>outgoing_is_a_tty : <a href="index.html#/t.typ">t</a> -&gt; bool</div><div class="doc"><code>incoming_is_a_tty term</code> whether the output of <code>term</code> is a tty
device.</div></div></div><div class="region" id="/escape_time.val"><a href="#/escape_time.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>escape_time : <a href="index.html#/t.typ">t</a> -&gt; float</div><div class="doc">Time waited before returning the escape key. This is not used on
windows.</div></div></div><div class="region" id="/set_escape_time.val"><a href="#/set_escape_time.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>set_escape_time : <a href="index.html#/t.typ">t</a> -&gt; float -&gt; unit</div><div class="doc">Set the time waited before returning the escape key.</div></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Not_a_tty</div><div class="doc">Exception raised when trying to use a function that can only be
used on terminals.</div></div><div class="region" id="/size.val"><a href="#/size.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>size : <a href="index.html#/t.typ">t</a> -&gt; <a href="../LTerm_geom/index.html#/size.typ">LTerm_geom.size</a></div><div class="doc">Returns the curent size of the terminal.<br/>It raises Not_a_tty if the output of the given terminal is
not a tty.</div></div></div><div class="doc"><h6>Modes</h6></div><div class="region" id="/mode.typ"><a href="#/mode.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>mode</div><div class="doc">Type of terminal modes.</div></div></div><div class="region" id="/enter_raw_mode.val"><a href="#/enter_raw_mode.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>enter_raw_mode : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/mode.typ">mode</a> <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>enter_raw_mode term</code> puts the terminal in ``raw mode''. In this
mode keyboard events are returned as they happen. In normal mode
only complete line are returned. It returns the current terminal
mode that can be restored using leave_raw_mode.<br/>It raises Not_a_tty if the input of the given terminal is not
tty.</div></div></div><div class="region" id="/leave_raw_mode.val"><a href="#/leave_raw_mode.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>leave_raw_mode : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/mode.typ">mode</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>leave_raw_mode term mode</code> leaves the raw mode by restoring the
given mode.<br/>It raises Not_a_tty if the input of the given terminal is not
tty.</div></div></div><div class="region" id="/enable_mouse.val"><a href="#/enable_mouse.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>enable_mouse : <a href="index.html#/t.typ">t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Enable mouse events reporting.<br/>It raises Not_a_tty if the output of the given terminal is
not a tty.</div></div></div><div class="region" id="/disable_mouse.val"><a href="#/disable_mouse.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>disable_mouse : <a href="index.html#/t.typ">t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Disable mouse events reporting.<br/>It raises Not_a_tty if the output of the given terminal is
not a tty.</div></div></div><div class="doc"><h6>Cursor</h6></div><div class="region" id="/show_cursor.val"><a href="#/show_cursor.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>show_cursor : <a href="index.html#/t.typ">t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Make the cursor visible.<br/>It raises Not_a_tty if the output of the given terminal is
not a tty.</div></div></div><div class="region" id="/hide_cursor.val"><a href="#/hide_cursor.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>hide_cursor : <a href="index.html#/t.typ">t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Make the cursor invisible.<br/>It raises Not_a_tty if the output of the given terminal is
not a tty.</div></div></div><div class="region" id="/goto.val"><a href="#/goto.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>goto : <a href="index.html#/t.typ">t</a> -&gt; <a href="../LTerm_geom/index.html#/coord.typ">LTerm_geom.coord</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>goto term coord</code> moves the cursor to the given coordinates.<br/>It raises Not_a_tty if the output of the given terminal is
not a tty.</div></div></div><div class="region" id="/move.val"><a href="#/move.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>move : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>move term rows columns</code> moves the cursor by the given number of
lines and columns. Both <code>rows</code> and <code>columns</code> may be negavite.<br/>It raises Not_a_tty if the output of the given terminal is
not a tty.</div></div></div><div class="doc"><h6>Erasing text</h6></div><div class="region" id="/clear_screen.val"><a href="#/clear_screen.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>clear_screen : <a href="index.html#/t.typ">t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>clear_screen term</code> clears the entire screen.</div></div></div><div class="region" id="/clear_screen_next.val"><a href="#/clear_screen_next.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>clear_screen_next : <a href="index.html#/t.typ">t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>clear_screen_next term</code> clears the screen from the cursor to
the bottom of the screen.</div></div></div><div class="region" id="/clear_screen_prev.val"><a href="#/clear_screen_prev.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>clear_screen_prev : <a href="index.html#/t.typ">t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>clear_screen_prev term</code> clears the screen from the cursor to
the top of the screen.</div></div></div><div class="region" id="/clear_line.val"><a href="#/clear_line.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>clear_line : <a href="index.html#/t.typ">t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>clear_line term</code> erases the current line.</div></div></div><div class="region" id="/clear_line_next.val"><a href="#/clear_line_next.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>clear_line_next : <a href="index.html#/t.typ">t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>clear_line_next term</code> erases the current line from the cursor
to the end of the line.</div></div></div><div class="region" id="/clear_line_prev.val"><a href="#/clear_line_prev.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>clear_line_prev : <a href="index.html#/t.typ">t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>clear_line_prev term</code> erases the current line from the cursor
to the beginning of the line.</div></div></div><div class="doc"><h6>State</h6></div><div class="region" id="/save_state.val"><a href="#/save_state.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>save_state : <a href="index.html#/t.typ">t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Save the current state of the terminal so it can be restored
latter.<br/>It raises Not_a_tty if the output of the given terminal is
not a tty.</div></div></div><div class="region" id="/load_state.val"><a href="#/load_state.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>load_state : <a href="index.html#/t.typ">t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Load the previously saved state of the terminal.<br/>It raises Not_a_tty if the output of the given terminal is
not a tty.</div></div></div><div class="doc"><h6>Events</h6></div><div class="region" id="/read_event.val"><a href="#/read_event.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>read_event : <a href="index.html#/t.typ">t</a> -&gt; <a href="../LTerm_event/index.html#/t.typ">LTerm_event.t</a> <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Reads and returns one event. The terminal should be in raw mode
before calling this function, otherwise event will not be
reported as they happen. It does not fail if the terminal is not
a tty.<br/>Note: you must not call read_event from multiple thread at
the same time, it will raise Failure if you try to do so.</div></div></div><div class="doc"><h6>Printing</h6></div><div class="doc">All these functions accept only valid UTF-8 strings (or unicode
styled text). Strings are recoded on the fly using the terminal
output encoding (except if the terminal output encoding is already
UTF-8, in which case the string is just printed as-it).<br/>The general name of a printing function is <code>&lt;prefix&gt;print&lt;suffixes&gt;</code>.<br/>Where <code>&lt;prefix&gt;</code> is one of:
<ul><li><code>'f'</code>, which means that the function takes as argument a terminal</li><li>nothing, which means that the function prints on stdout</li><li><code>'e'</code>, which means that the function prints on stderr</li></ul>and <code>&lt;suffixes&gt;</code> is a combination of:
<ul><li><code>'l'</code> which means that a new-line character is printed after the message</li><li><code>'f'</code> which means that the function takes as argument a <span style="font-weight: bold">format</span> instead
of a string</li><li><code>'s'</code> which means that the function takes as argument a styled
string instead of a string</li></ul>Note that if the terminal is not a tty, styles are stripped.</div><div class="region" id="/fprint.val"><a href="#/fprint.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fprint : <a href="index.html#/t.typ">t</a> -&gt; <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/fprintl.val"><a href="#/fprintl.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fprintl : <a href="index.html#/t.typ">t</a> -&gt; <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/fprintf.val"><a href="#/fprintf.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fprintf : <a href="index.html#/t.typ">t</a> -&gt; ('a, unit, <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a>, unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a>) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/fprints.val"><a href="#/fprints.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fprints : <a href="index.html#/t.typ">t</a> -&gt; <a href="../LTerm_text/index.html#/t.typ">LTerm_text.t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/fprintlf.val"><a href="#/fprintlf.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fprintlf : <a href="index.html#/t.typ">t</a> -&gt; ('a, unit, <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a>, unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a>) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/fprintls.val"><a href="#/fprintls.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fprintls : <a href="index.html#/t.typ">t</a> -&gt; <a href="../LTerm_text/index.html#/t.typ">LTerm_text.t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/print.val"><a href="#/print.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>print : <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/printl.val"><a href="#/printl.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>printl : <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/printf.val"><a href="#/printf.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>printf : ('a, unit, <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a>, unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a>) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/prints.val"><a href="#/prints.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>prints : <a href="../LTerm_text/index.html#/t.typ">LTerm_text.t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/printlf.val"><a href="#/printlf.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>printlf : ('a, unit, <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a>, unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a>) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/printls.val"><a href="#/printls.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>printls : <a href="../LTerm_text/index.html#/t.typ">LTerm_text.t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/eprint.val"><a href="#/eprint.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>eprint : <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/eprintl.val"><a href="#/eprintl.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>eprintl : <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/eprintf.val"><a href="#/eprintf.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>eprintf : ('a, unit, <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a>, unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a>) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/eprints.val"><a href="#/eprints.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>eprints : <a href="../LTerm_text/index.html#/t.typ">LTerm_text.t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/eprintlf.val"><a href="#/eprintlf.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>eprintlf : ('a, unit, <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a>, unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a>) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/eprintls.val"><a href="#/eprintls.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>eprintls : <a href="../LTerm_text/index.html#/t.typ">LTerm_text.t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="doc"><h6>Printing contexts</h6></div><div class="doc">You shoud use these functions when you to print a lot of styled
text that does not entirely fit in a single <a href="../LTerm_text/index.html#/t.typ">LTerm_text.t</a>
value.<br/>This is more efficient than calling manually set_style since
styles will be modified only when needed.</div><div class="region" id="/context.typ"><a href="#/context.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>context</div><div class="doc">A context for styled printing.</div></div></div><div class="region" id="/with_context.val"><a href="#/with_context.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>with_context : <a href="index.html#/t.typ">t</a> -&gt; (<a href="index.html#/context.typ">context</a> -&gt; 'a <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a>) -&gt; 'a <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>with_context term f</code> creates a new printing context and pass it
to <code>f</code>. Note that calls to <code>with_context</code> are serialized.</div></div></div><div class="region" id="/update_style.val"><a href="#/update_style.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>update_style : <a href="index.html#/context.typ">context</a> -&gt; <a href="../LTerm_style/index.html#/t.typ">LTerm_style.t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>update_style ctx style</code> updates the style of the context with
<code>style</code>. If needed styles of the terminal are modified.</div></div></div><div class="region" id="/context_term.val"><a href="#/context_term.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>context_term : <a href="index.html#/context.typ">context</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc">Returns the terminal used by the given context.</div></div></div><div class="region" id="/context_oc.val"><a href="#/context_oc.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>context_oc : <a href="index.html#/context.typ">context</a> -&gt; <a href="../../lwt/Lwt_io/index.html#/output_channel.typ">Lwt_io.output_channel</a></div><div class="doc">Returns the output channel used by the given context. Note that
this channel cannot be used after with_context has
terminated.</div></div></div><div class="region" id="/encode_string.val"><a href="#/encode_string.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>encode_string : <a href="index.html#/t.typ">t</a> -&gt; <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> -&gt; string</div><div class="doc"><code>encode_string term str</code> encodes an UTF-8 string using the
terminal encoding.</div></div></div><div class="region" id="/encode_char.val"><a href="#/encode_char.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>encode_char : <a href="index.html#/t.typ">t</a> -&gt; CamomileLibrary.UChar.t -&gt; string</div><div class="doc"><code>encode_char term ch</code> encodes an unicode character using the
terminal encoding.</div></div></div><div class="doc"><h6>Styles</h6></div><div class="region" id="/set_style.val"><a href="#/set_style.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>set_style : <a href="index.html#/t.typ">t</a> -&gt; <a href="../LTerm_style/index.html#/t.typ">LTerm_style.t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Change the style of the termina for subsequent unstyled
output. It does nothing if the output is not a tty.</div></div></div><div class="doc"><h6>Rendering</h6></div><div class="region" id="/render.val"><a href="#/render.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>render : <a href="index.html#/t.typ">t</a> -&gt; <a href="../LTerm_draw/index.html#/matrix.typ">LTerm_draw.matrix</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Render an offscreen array to the given terminal.<br/>It raises Not_a_tty if the output of the given terminal is
not a tty.</div></div></div><div class="region" id="/render_update.val"><a href="#/render_update.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>render_update : <a href="index.html#/t.typ">t</a> -&gt; <a href="../LTerm_draw/index.html#/matrix.typ">LTerm_draw.matrix</a> -&gt; <a href="../LTerm_draw/index.html#/matrix.typ">LTerm_draw.matrix</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>render_update displayed to_display</code> does the same as <code>render
      to_display</code> but assumes that <code>displayed</code> contains the current
displayed text. This reduces the amount of text sent to the
terminal.<br/>It raises Not_a_tty if the output of the given terminal is
not a tty.</div></div></div><div class="region" id="/print_box.val"><a href="#/print_box.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>print_box : <a href="index.html#/t.typ">t</a> -&gt; <a href="../LTerm_draw/index.html#/matrix.typ">LTerm_draw.matrix</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>print_box term matrix</code> prints the contents of <code>matrix</code> starting
at current cursor row. Note that when you have the choice
between using fprints and print_box you should use
print_box because it works better under windows and is more
efficient.<br/>The cursor is moved to the beginning of the last displayed
line.</div></div></div><div class="region" id="/print_box_with_newlines.val"><a href="#/print_box_with_newlines.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>print_box_with_newlines : <a href="index.html#/t.typ">t</a> -&gt; <a href="../LTerm_draw/index.html#/matrix.typ">LTerm_draw.matrix</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>print_box term matrix</code> Same as print_box but <code>matrix</code>
may contains newline characters. It must contain one more column
that the terminal (in case a line of the length of the terminal
ends with a newline).<br/>The difference between print_box and
print_box_with_newlines is that when the text is selected in
the terminal, with print_box it will always be a box with the
dimensions of <code>matrix</code>. With print_box_with_newlines it may
contains lines longer than the width of the terminal.<br/>The contents of a line after the first newline character (if
any) in a row of <code>matrix</code> is ignored. The rest of the line get
the style of the newline character.</div></div></div><div class="doc"><h6>Misc</h6></div><div class="region" id="/flush.val"><a href="#/flush.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>flush : <a href="index.html#/t.typ">t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Flushes the underlying output channel used by the terminal.</div></div></div><div class="doc"><h6>Well known instances</h6></div><div class="region" id="/stdout.val"><a href="#/stdout.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>stdout : <a href="index.html#/t.typ">t</a> <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a> <a href="../../ocaml/Lazy/index.html#/t.typ">Lazy.t</a></div><div class="doc">Terminal using Lwt_unix.stdin as input and Lwt_unix.stdout
as output.</div></div></div><div class="region" id="/stderr.val"><a href="#/stderr.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>stderr : <a href="index.html#/t.typ">t</a> <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a> <a href="../../ocaml/Lazy/index.html#/t.typ">Lazy.t</a></div><div class="doc">Terminal using Lwt_unix.stdin as input and Lwt_unix.stderr
as output.</div></div></div><div class="doc"><h6>Low-level functions</h6></div><div class="region" id="/get_size_from_fd.val"><a href="#/get_size_from_fd.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>get_size_from_fd : <a href="../../lwt/Lwt_unix/index.html#/file_descr.typ">Lwt_unix.file_descr</a> -&gt; <a href="../LTerm_geom/index.html#/size.typ">LTerm_geom.size</a> <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>get_size_from_fd fd</code> returns the size of the terminal accessible via
the given file descriptor.</div></div></div><div class="region" id="/set_size_from_fd.val"><a href="#/set_size_from_fd.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>set_size_from_fd : <a href="../../lwt/Lwt_unix/index.html#/file_descr.typ">Lwt_unix.file_descr</a> -&gt; <a href="../LTerm_geom/index.html#/size.typ">LTerm_geom.size</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>set_size_from_fd fd size</code> tries to set the size of the terminal
accessible via the given file descriptor.</div></div></div><div class="doc"><h6>Modification</h6></div><div class="region" id="/set_io.val"><a href="#/set_io.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>set_io : ?incoming_fd:<a href="../../lwt/Lwt_unix/index.html#/file_descr.typ">Lwt_unix.file_descr</a> -&gt; ?incoming_channel:<a href="../../lwt/Lwt_io/index.html#/input_channel.typ">Lwt_io.input_channel</a> -&gt; ?outgoing_fd:<a href="../../lwt/Lwt_unix/index.html#/file_descr.typ">Lwt_unix.file_descr</a> -&gt; ?outgoing_channel:<a href="../../lwt/Lwt_io/index.html#/output_channel.typ">Lwt_io.output_channel</a> -&gt; <a href="index.html#/t.typ">t</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Modifies file descriptors/channels of a terminal. Unspecified
arguments are kept unchanged.<br/>Note: before modifying a terminal you should ensure that no
operation is pending on it.</div></div></div><div class="region" id="/get_size.val"><a href="#/get_size.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>get_size : <a href="index.html#/t.typ">t</a> -&gt; <a href="../LTerm_geom/index.html#/size.typ">LTerm_geom.size</a> <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">/*</div></div></div><div class="region" id="/set_size.val"><a href="#/set_size.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>set_size : <a href="index.html#/t.typ">t</a> -&gt; <a href="../LTerm_geom/index.html#/size.typ">LTerm_geom.size</a> -&gt; unit <a href="../../lwt/Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div></div></div></div></body></html>