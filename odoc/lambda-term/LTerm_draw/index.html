<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>LTerm_draw (lambda-term.LTerm_draw)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/LTerm_draw">LTerm_draw</a></h1></div><div><div class="doc">Drawing</div><div><div class="region" id="/point.typ"><a href="#/point.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>point = {<table><tr class="fld"><td><div class="region" id="/point.typ/char.fld"><a href="#/point.typ/char.fld" class="anchor"></a><span class="keyword">mutable </span>char</div></td><td> : </td><td>CamomileLibrary.UChar.t;</td><td>(*</td><td><div class="doc">The unicode character.</div></td><td>*)</td></tr><tr class="fld"><td><div class="region" id="/point.typ/bold.fld"><a href="#/point.typ/bold.fld" class="anchor"></a><span class="keyword">mutable </span>bold</div></td><td> : </td><td>bool;</td><td>(*</td><td><div class="doc">Whether the character is in bold or not.</div></td><td>*)</td></tr><tr class="fld"><td><div class="region" id="/point.typ/underline.fld"><a href="#/point.typ/underline.fld" class="anchor"></a><span class="keyword">mutable </span>underline</div></td><td> : </td><td>bool;</td><td>(*</td><td><div class="doc">Whether the character is underlined or not.</div></td><td>*)</td></tr><tr class="fld"><td><div class="region" id="/point.typ/blink.fld"><a href="#/point.typ/blink.fld" class="anchor"></a><span class="keyword">mutable </span>blink</div></td><td> : </td><td>bool;</td><td>(*</td><td><div class="doc">Whether the character is blinking or not.</div></td><td>*)</td></tr><tr class="fld"><td><div class="region" id="/point.typ/reverse.fld"><a href="#/point.typ/reverse.fld" class="anchor"></a><span class="keyword">mutable </span>reverse</div></td><td> : </td><td>bool;</td><td>(*</td><td><div class="doc">Whether the character is in reverse video mode or not.</div></td><td>*)</td></tr><tr class="fld"><td><div class="region" id="/point.typ/foreground.fld"><a href="#/point.typ/foreground.fld" class="anchor"></a><span class="keyword">mutable </span>foreground</div></td><td> : </td><td><a href="../LTerm_style/index.html#/color.typ">LTerm_style.color</a>;</td><td>(*</td><td><div class="doc">The foreground color.</div></td><td>*)</td></tr><tr class="fld"><td><div class="region" id="/point.typ/background.fld"><a href="#/point.typ/background.fld" class="anchor"></a><span class="keyword">mutable </span>background</div></td><td> : </td><td><a href="../LTerm_style/index.html#/color.typ">LTerm_style.color</a>;</td><td>(*</td><td><div class="doc">The background color.</div></td><td>*)</td></tr></table>}</div><div class="doc">Type of a point in a matrix of styled characters.</div></div></div><div class="region" id="/matrix.typ"><a href="#/matrix.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>matrix = <a href="index.html#/point.typ">point</a> array array</div><div class="doc">Type of a matrix of points. The matrix is indexed by lines
then columns, i.e. to access the point at line <code>l</code> and column
<code>c</code> in matrix <code>m</code> you should use <code>m.(l).(c)</code>.</div></div></div><div class="region" id="/make_matrix.val"><a href="#/make_matrix.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>make_matrix : <a href="../LTerm_geom/index.html#/size.typ">LTerm_geom.size</a> -&gt; <a href="index.html#/matrix.typ">matrix</a></div><div class="doc"><code>matrix size</code> creates a matrix of the given size containing only
blank characters.</div></div></div><div class="region" id="/set_style.val"><a href="#/set_style.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>set_style : <a href="index.html#/point.typ">point</a> -&gt; <a href="../LTerm_style/index.html#/t.typ">LTerm_style.t</a> -&gt; unit</div><div class="doc"><code>set_style point style</code> sets fields of <code>point</code> according to
fields of <code>style</code>. For example:<br/><pre>
        set_style point { LTerm_style.none with LTerm_style.bold = Some true }
      </pre><br/>will have the following effect:<br/><pre>
        point.bold &lt;- true
      </pre></div></div></div><div class="region" id="/context.typ"><a href="#/context.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>context</div><div class="doc">Type of contexts. A context is used for drawing.</div></div></div><div class="region" id="/context.val"><a href="#/context.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>context : <a href="index.html#/matrix.typ">matrix</a> -&gt; <a href="../LTerm_geom/index.html#/size.typ">LTerm_geom.size</a> -&gt; <a href="index.html#/context.typ">context</a></div><div class="doc"><code>context m s</code> creates a context from a matrix <code>m</code> of size
<code>s</code>. It raises <code>Invalid_argument</code> if <code>s</code> is not the size of
<code>m</code>.</div></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Out_of_bounds</div><div class="doc">Exception raised when trying to access a point that is outside
the bounds of a context.</div></div><div class="region" id="/size.val"><a href="#/size.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>size : <a href="index.html#/context.typ">context</a> -&gt; <a href="../LTerm_geom/index.html#/size.typ">LTerm_geom.size</a></div><div class="doc"><code>size ctx</code> returns the size of the given context.</div></div></div><div class="region" id="/sub.val"><a href="#/sub.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>sub : <a href="index.html#/context.typ">context</a> -&gt; <a href="../LTerm_geom/index.html#/rect.typ">LTerm_geom.rect</a> -&gt; <a href="index.html#/context.typ">context</a></div><div class="doc"><code>sub ctx rect</code> creates a sub-context from the given context. It
raises Out_of_bounds if the rectangle is not contained in the
given context.</div></div></div><div class="region" id="/clear.val"><a href="#/clear.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>clear : <a href="index.html#/context.typ">context</a> -&gt; unit</div><div class="doc"><code>clear ctx</code> clears the given context. It resets all styles to
their default and sets characters to spaces.</div></div></div><div class="region" id="/fill.val"><a href="#/fill.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fill : <a href="index.html#/context.typ">context</a> -&gt; ?style:<a href="../LTerm_style/index.html#/t.typ">LTerm_style.t</a> -&gt; CamomileLibrary.UChar.t -&gt; unit</div><div class="doc"><code>fill ctx ch</code> fills the given context with <code>ch</code>.</div></div></div><div class="region" id="/fill_style.val"><a href="#/fill_style.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fill_style : <a href="index.html#/context.typ">context</a> -&gt; <a href="../LTerm_style/index.html#/t.typ">LTerm_style.t</a> -&gt; unit</div><div class="doc"><code>fill_style style</code> fills the given context with <code>style</code>.</div></div></div><div class="region" id="/point.val"><a href="#/point.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>point : <a href="index.html#/context.typ">context</a> -&gt; int -&gt; int -&gt; <a href="index.html#/point.typ">point</a></div><div class="doc"><code>point ctx row column</code> returns the point at given position in
<code>ctx</code>. It raises Out_of_bounds if the coordinates are outside
the given context.</div></div></div><div class="region" id="/draw_char.val"><a href="#/draw_char.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>draw_char : <a href="index.html#/context.typ">context</a> -&gt; int -&gt; int -&gt; ?style:<a href="../LTerm_style/index.html#/t.typ">LTerm_style.t</a> -&gt; CamomileLibrary.UChar.t -&gt; unit</div><div class="doc"><code>draw_char ctx row column ?style ch</code> sets the character at given
coordinates to <code>ch</code>. It does nothing if the given coordinates
are outside the bounds of the context.</div></div></div><div class="region" id="/draw_string.val"><a href="#/draw_string.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>draw_string : <a href="index.html#/context.typ">context</a> -&gt; int -&gt; int -&gt; ?style:<a href="../LTerm_style/index.html#/t.typ">LTerm_style.t</a> -&gt; string -&gt; unit</div><div class="doc"><code>draw_string ctx row column ?style str</code> draws the given string
at given coordinates. This does not affect styles. <code>str</code> may
contains newlines.</div></div></div><div class="region" id="/draw_styled.val"><a href="#/draw_styled.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>draw_styled : <a href="index.html#/context.typ">context</a> -&gt; int -&gt; int -&gt; ?style:<a href="../LTerm_style/index.html#/t.typ">LTerm_style.t</a> -&gt; <a href="../LTerm_text/index.html#/t.typ">LTerm_text.t</a> -&gt; unit</div><div class="doc"><code>draw_styled ctx row column ?style text</code> draws the given styled
text at given coordinates.</div></div></div><div class="region" id="/draw_string_aligned.val"><a href="#/draw_string_aligned.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>draw_string_aligned : <a href="index.html#/context.typ">context</a> -&gt; int -&gt; <a href="../LTerm_geom/index.html#/horz_alignment.typ">LTerm_geom.horz_alignment</a> -&gt; ?style:<a href="../LTerm_style/index.html#/t.typ">LTerm_style.t</a> -&gt; string -&gt; unit</div><div class="doc">Draws a string with the given alignment.</div></div></div><div class="region" id="/draw_styled_aligned.val"><a href="#/draw_styled_aligned.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>draw_styled_aligned : <a href="index.html#/context.typ">context</a> -&gt; int -&gt; <a href="../LTerm_geom/index.html#/horz_alignment.typ">LTerm_geom.horz_alignment</a> -&gt; ?style:<a href="../LTerm_style/index.html#/t.typ">LTerm_style.t</a> -&gt; <a href="../LTerm_text/index.html#/t.typ">LTerm_text.t</a> -&gt; unit</div><div class="doc">Draws a styled string with the given aglienment.</div></div></div><div class="region" id="/connection.typ"><a href="#/connection.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>connection = <table><tr class="cons"><td><div class="region" id="/connection.typ/Blank.cons"><a href="#/connection.typ/Blank.cons" class="anchor"></a>| Blank</div></td><td>(*</td><td><div class="doc">No connection.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/connection.typ/Light.cons"><a href="#/connection.typ/Light.cons" class="anchor"></a>| Light</div></td><td>(*</td><td><div class="doc">Connection with a light line.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/connection.typ/Heavy.cons"><a href="#/connection.typ/Heavy.cons" class="anchor"></a>| Heavy</div></td><td>(*</td><td><div class="doc">Connection with a heavy line.</div></td><td>*)</td></tr></table></div><div class="doc">Type of an connection in a piece that can be connected to other
pieces.</div></div></div><div class="region" id="/piece.typ"><a href="#/piece.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>piece = {<table><tr class="fld"><td><div class="region" id="/piece.typ/top.fld"><a href="#/piece.typ/top.fld" class="anchor"></a>top</div></td><td> : </td><td><a href="index.html#/connection.typ">connection</a>;</td></tr><tr class="fld"><td><div class="region" id="/piece.typ/bottom.fld"><a href="#/piece.typ/bottom.fld" class="anchor"></a>bottom</div></td><td> : </td><td><a href="index.html#/connection.typ">connection</a>;</td></tr><tr class="fld"><td><div class="region" id="/piece.typ/left.fld"><a href="#/piece.typ/left.fld" class="anchor"></a>left</div></td><td> : </td><td><a href="index.html#/connection.typ">connection</a>;</td></tr><tr class="fld"><td><div class="region" id="/piece.typ/right.fld"><a href="#/piece.typ/right.fld" class="anchor"></a>right</div></td><td> : </td><td><a href="index.html#/connection.typ">connection</a>;</td></tr></table>}</div><div class="doc">Type of a piece, given by its four connection.</div></div></div><div class="region" id="/draw_piece.val"><a href="#/draw_piece.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>draw_piece : <a href="index.html#/context.typ">context</a> -&gt; int -&gt; int -&gt; ?style:<a href="../LTerm_style/index.html#/t.typ">LTerm_style.t</a> -&gt; <a href="index.html#/piece.typ">piece</a> -&gt; unit</div><div class="doc">Draws a piece. It may modify pieces around it.</div></div></div><div class="region" id="/draw_hline.val"><a href="#/draw_hline.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>draw_hline : <a href="index.html#/context.typ">context</a> -&gt; int -&gt; int -&gt; int -&gt; ?style:<a href="../LTerm_style/index.html#/t.typ">LTerm_style.t</a> -&gt; <a href="index.html#/connection.typ">connection</a> -&gt; unit</div><div class="doc"><code>draw_hline ctx row column length connection</code> draws an
horizontal line.</div></div></div><div class="region" id="/draw_vline.val"><a href="#/draw_vline.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>draw_vline : <a href="index.html#/context.typ">context</a> -&gt; int -&gt; int -&gt; int -&gt; ?style:<a href="../LTerm_style/index.html#/t.typ">LTerm_style.t</a> -&gt; <a href="index.html#/connection.typ">connection</a> -&gt; unit</div><div class="doc"><code>draw_hline ctx row column length connection</code> draws a vertical
line.</div></div></div><div class="region" id="/draw_frame.val"><a href="#/draw_frame.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>draw_frame : <a href="index.html#/context.typ">context</a> -&gt; <a href="../LTerm_geom/index.html#/rect.typ">LTerm_geom.rect</a> -&gt; ?style:<a href="../LTerm_style/index.html#/t.typ">LTerm_style.t</a> -&gt; <a href="index.html#/connection.typ">connection</a> -&gt; unit</div><div class="doc">Draws a rectangle.</div></div></div><div class="region" id="/draw_frame_labelled.val"><a href="#/draw_frame_labelled.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>draw_frame_labelled : <a href="index.html#/context.typ">context</a> -&gt; <a href="../LTerm_geom/index.html#/rect.typ">LTerm_geom.rect</a> -&gt; ?style:<a href="../LTerm_style/index.html#/t.typ">LTerm_style.t</a> -&gt; ?alignment:<a href="../LTerm_geom/index.html#/horz_alignment.typ">LTerm_geom.horz_alignment</a> -&gt; string -&gt; <a href="index.html#/connection.typ">connection</a> -&gt; unit</div><div class="doc">Draws a rectangle with a label on the top row.</div></div></div></div></div></div></body></html>