<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>LTerm_read_line (lambda-term.LTerm_read_line)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/LTerm_read_line">LTerm_read_line</a></h1></div><div><div class="doc">Interactive line input</div><div><div class="doc">For a complete example of usage of this module, look at the shell
example (examples/shell.ml) distributed with Lambda-Term.</div><div class="exn"><div class="def"><span class="keyword">exn </span>Interrupt</div><div class="doc">Exception raised when the user presses <code>Ctrl^D</code> with an empty
input.</div></div><div class="region" id="/prompt.typ"><a href="#/prompt.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>prompt = <a href="../LTerm_text/index.html#/t.typ">LTerm_text.t</a></div><div class="doc">Type of prompts.</div></div></div><div class="region" id="/history.typ"><a href="#/history.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>history = <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> list</div><div class="doc">Type of histories. It is a list of entries from the most
recent to the oldest.</div></div></div><div class="doc"><h6>Completion</h6></div><div class="region" id="/common_prefix.val"><a href="#/common_prefix.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>common_prefix : string list -&gt; string</div><div class="doc">Returns the common prefix of a list of words.</div></div></div><div class="region" id="/lookup.val"><a href="#/lookup.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>lookup : <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> -&gt; <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> list -&gt; <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> list</div><div class="doc"><code>lookup word words</code> lookup for completion of <code>word</code> into
<code>words</code>. It returns all words starting with <code>word</code>.</div></div></div><div class="region" id="/lookup_assoc.val"><a href="#/lookup_assoc.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>lookup_assoc : <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> -&gt; (<a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> * 'a) list -&gt; (<a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> * 'a) list</div><div class="doc"><code>lookup_assoc word words</code> does the same as lookup but works
on associative list.</div></div></div><div class="doc"><h6>Actions</h6></div><div class="region" id="/action.typ"><a href="#/action.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>action = <table><tr class="cons"><td><div class="region" id="/action.typ/Edit.cons"><a href="#/action.typ/Edit.cons" class="anchor"></a>| Edit of <a href="../LTerm_edit/index.html#/action.typ">LTerm_edit.action</a></div></td><td>(*</td><td><div class="doc">An edition action.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/Interrupt_or_delete_next_char.cons"><a href="#/action.typ/Interrupt_or_delete_next_char.cons" class="anchor"></a>| Interrupt_or_delete_next_char</div></td><td>(*</td><td><div class="doc">Interrupt if at the beginning of an empty line, or delete
the next character.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/Complete.cons"><a href="#/action.typ/Complete.cons" class="anchor"></a>| Complete</div></td><td>(*</td><td><div class="doc">Complete current input.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/Complete_bar_next.cons"><a href="#/action.typ/Complete_bar_next.cons" class="anchor"></a>| Complete_bar_next</div></td><td>(*</td><td><div class="doc">Go to the next possible completion in the completion bar.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/Complete_bar_prev.cons"><a href="#/action.typ/Complete_bar_prev.cons" class="anchor"></a>| Complete_bar_prev</div></td><td>(*</td><td><div class="doc">Go to the previous possible completion in the completion
bar.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/Complete_bar_first.cons"><a href="#/action.typ/Complete_bar_first.cons" class="anchor"></a>| Complete_bar_first</div></td><td>(*</td><td><div class="doc">Goto the beginning of the completion bar.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/Complete_bar_last.cons"><a href="#/action.typ/Complete_bar_last.cons" class="anchor"></a>| Complete_bar_last</div></td><td>(*</td><td><div class="doc">Goto the end of the completion bar.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/Complete_bar.cons"><a href="#/action.typ/Complete_bar.cons" class="anchor"></a>| Complete_bar</div></td><td>(*</td><td><div class="doc">Complete current input using the completion bar.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/History_prev.cons"><a href="#/action.typ/History_prev.cons" class="anchor"></a>| History_prev</div></td><td>(*</td><td><div class="doc">Go to the previous entry of the history.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/History_next.cons"><a href="#/action.typ/History_next.cons" class="anchor"></a>| History_next</div></td><td>(*</td><td><div class="doc">Go to the next entry of the history.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/Accept.cons"><a href="#/action.typ/Accept.cons" class="anchor"></a>| Accept</div></td><td>(*</td><td><div class="doc">Accept the current input.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/Clear_screen.cons"><a href="#/action.typ/Clear_screen.cons" class="anchor"></a>| Clear_screen</div></td><td>(*</td><td><div class="doc">Clear the screen.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/Prev_search.cons"><a href="#/action.typ/Prev_search.cons" class="anchor"></a>| Prev_search</div></td><td>(*</td><td><div class="doc">Search backward in the history.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/Next_search.cons"><a href="#/action.typ/Next_search.cons" class="anchor"></a>| Next_search</div></td><td>(*</td><td><div class="doc">Search forward in the history.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/Cancel_search.cons"><a href="#/action.typ/Cancel_search.cons" class="anchor"></a>| Cancel_search</div></td><td>(*</td><td><div class="doc">Cancel search mode.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/Break.cons"><a href="#/action.typ/Break.cons" class="anchor"></a>| Break</div></td><td>(*</td><td><div class="doc">Raise <code>Sys.Break</code>.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/Suspend.cons"><a href="#/action.typ/Suspend.cons" class="anchor"></a>| Suspend</div></td><td>(*</td><td><div class="doc">Suspend the program.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/action.typ/Edit_with_external_editor.cons"><a href="#/action.typ/Edit_with_external_editor.cons" class="anchor"></a>| Edit_with_external_editor</div></td><td>(*</td><td><div class="doc">Launch external editor.</div></td><td>*)</td></tr></table></div><div class="doc">Type of actions.</div></div></div><div class="region" id="/bindings.val"><a href="#/bindings.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>bindings : <a href="index.html#/action.typ">action</a> list <a href="../../zed/Zed_input/Make/index.html#/t.typ">Zed_input.Make(LTerm_key).t</a> <a href="../../ocaml/Pervasives/index.html#/ref.typ">Pervasives.ref</a></div><div class="doc">Bindings.</div></div></div><div class="region" id="/bind.val"><a href="#/bind.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>bind : <a href="../LTerm_key/index.html#/t.typ">LTerm_key.t</a> list -&gt; <a href="index.html#/action.typ">action</a> list -&gt; unit</div><div class="doc"><code>bind seq actions</code> associates <code>actions</code> to the given
sequence.</div></div></div><div class="region" id="/unbind.val"><a href="#/unbind.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>unbind : <a href="../LTerm_key/index.html#/t.typ">LTerm_key.t</a> list -&gt; unit</div><div class="doc"><code>unbind seq</code> unbinds <code>seq</code>.</div></div></div><div class="region" id="/actions.val"><a href="#/actions.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>actions : (<a href="index.html#/action.typ">action</a> * string) list</div><div class="doc">List of actions with their names, except Edit.</div></div></div><div class="region" id="/doc_of_action.val"><a href="#/doc_of_action.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>doc_of_action : <a href="index.html#/action.typ">action</a> -&gt; string</div><div class="doc"><code>doc_of_action action</code> returns a short description of the
action.</div></div></div><div class="region" id="/action_of_name.val"><a href="#/action_of_name.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>action_of_name : string -&gt; <a href="index.html#/action.typ">action</a></div><div class="doc"><code>action_of_name str</code> converts the given action name into an
action. Action name are the same as variants name but lowercased
and with '_' replaced by '-'. It raises <code>Not_found</code> if the name
does not correspond to an action. It also recognizes edition
actions.</div></div></div><div class="region" id="/name_of_action.val"><a href="#/name_of_action.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>name_of_action : <a href="index.html#/action.typ">action</a> -&gt; string</div><div class="doc"><code>name_of_action act</code> returns the name of the given action.</div></div></div><div class="doc"><h6>The read-line engine</h6></div><div class="region" id="/macro.val"><a href="#/macro.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>macro : <a href="index.html#/action.typ">action</a> <a href="../../zed/Zed_macro/index.html#/t.typ">Zed_macro.t</a></div><div class="doc">The global macro recorder.</div></div></div><div class="region" id="/mode.typ"><a href="#/mode.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>mode = <table><tr class="cons"><td><div class="region" id="/mode.typ/Edition.cons"><a href="#/mode.typ/Edition.cons" class="anchor"></a>| Edition</div></td><td>(*</td><td><div class="doc">Editing.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/mode.typ/Search.cons"><a href="#/mode.typ/Search.cons" class="anchor"></a>| Search</div></td><td>(*</td><td><div class="doc">Backward search.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/mode.typ/Set_counter.cons"><a href="#/mode.typ/Set_counter.cons" class="anchor"></a>| Set_counter</div></td><td>(*</td><td><div class="doc">Setting the macro counter value.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/mode.typ/Add_counter.cons"><a href="#/mode.typ/Add_counter.cons" class="anchor"></a>| Add_counter</div></td><td>(*</td><td><div class="doc">Adding a value to the macro counter.</div></td><td>*)</td></tr></table></div><div class="doc">The current read-line mode.</div></div></div><div class="class"><div class="def"><span class="keyword">class </span>engine</div><div class="doc">The read-line engine. If no clipboard is provided,
LTerm_edit.clipboard is used. If no macro recorder is provided,
macro is used.</div></div><div class="class"><div class="def"><span class="keyword">class </span>abstract</div><div class="doc">Abstract version of engine.</div></div><div class="doc"><h6>Predefined classes</h6></div><div class="class"><div class="def"><span class="keyword">class </span>read_line</div><div class="doc">Simple read-line engine which returns the result as a string.</div></div><div class="class"><div class="def"><span class="keyword">class </span>read_password</div><div class="doc">Read-line engine for reading a password. The <code>stylise</code> method
default to replacing all characters by <code>'*'</code>. You can also for
example completely disable displaying the password by doing:<br/><pre>
      method stylise = ([||], 0)
    </pre><br/>Also showing completion is disabled.</div></div><div class="region" id="/read_keyword_result.typ"><a href="#/read_keyword_result.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>'a read_keyword_result = <table><tr class="cons"><td><div class="region" id="/read_keyword_result.typ/Rk_value.cons"><a href="#/read_keyword_result.typ/Rk_value.cons" class="anchor"></a>| Rk_value of 'a</div></td><td>(*</td><td><div class="doc">The user typed a correct keyword and this is its associated
value.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/read_keyword_result.typ/Rk_error.cons"><a href="#/read_keyword_result.typ/Rk_error.cons" class="anchor"></a>| Rk_error of <a href="../../zed/Zed_utf8/index.html#/t.typ">Zed_utf8.t</a></div></td><td>(*</td><td><div class="doc">The user did not enter a correct keyword and this is what he
typed instead.</div></td><td>*)</td></tr></table></div><div class="doc">The result of reading a keyword.</div></div></div><div class="class"><div class="def"><span class="keyword">class </span>read_keyword</div><div class="doc">Read a keyword.</div></div><div class="doc"><h6>Running in a terminal</h6></div><div class="class"><div class="def"><span class="keyword">class </span>term</div><div class="doc">Class for read-line instances running in a terminal.</div></div></div></div></div></body></html>