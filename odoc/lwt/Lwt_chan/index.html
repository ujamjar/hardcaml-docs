<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lwt_chan (lwt.Lwt_chan)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/Lwt_chan">Lwt_chan</a></h1></div><div><div class="doc">Module <code>Lwt_chan</code>: cooperative, <code>Pervasives</code>-like, I/O functions</div><div><div class="doc">Note: the Lwt_io module deprecates this module.</div><div class="region" id="/in_channel.typ"><a href="#/in_channel.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>in_channel = <a href="../Lwt_io/index.html#/input_channel.typ">Lwt_io.input_channel</a></div><div class="doc"><h3>Cooperative input channels</h3></div></div></div><div class="region" id="/in_channel_of_descr.val"><a href="#/in_channel_of_descr.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>in_channel_of_descr : <a href="../Lwt_unix/index.html#/file_descr.typ">Lwt_unix.file_descr</a> -&gt; <a href="index.html#/in_channel.typ">in_channel</a></div><div class="doc"></div></div></div><div class="region" id="/make_in_channel.val"><a href="#/make_in_channel.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>make_in_channel : ?close:(unit -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a>) -&gt; (<a href="../../ocaml/Bytes/index.html#/t.typ">Bytes.t</a> -&gt; int -&gt; int -&gt; int <a href="../Lwt/index.html#/t.typ">Lwt.t</a>) -&gt; <a href="index.html#/in_channel.typ">in_channel</a></div><div class="doc"><code>make_in_channel read</code> creates an input channel from the <code>read</code>
function. <code>read s ofs len</code> should (cooperatively) read <code>len</code> bytes from
the source, and put them in <code>s</code>, at offset <code>ofs</code>, and return the number
of bytes effectively read. If provided, <code>close</code> will be called by
<code>close_in</code>. By default, <code>close_in</code> does not do anything.</div></div></div><div class="region" id="/input_line.val"><a href="#/input_line.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>input_line : <a href="index.html#/in_channel.typ">in_channel</a> -&gt; string <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/input_value.val"><a href="#/input_value.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>input_value : <a href="index.html#/in_channel.typ">in_channel</a> -&gt; 'a <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/input.val"><a href="#/input.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>input : <a href="index.html#/in_channel.typ">in_channel</a> -&gt; <a href="../../ocaml/Bytes/index.html#/t.typ">Bytes.t</a> -&gt; int -&gt; int -&gt; int <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/really_input.val"><a href="#/really_input.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>really_input : <a href="index.html#/in_channel.typ">in_channel</a> -&gt; <a href="../../ocaml/Bytes/index.html#/t.typ">Bytes.t</a> -&gt; int -&gt; int -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/input_char.val"><a href="#/input_char.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>input_char : <a href="index.html#/in_channel.typ">in_channel</a> -&gt; char <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/input_binary_int.val"><a href="#/input_binary_int.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>input_binary_int : <a href="index.html#/in_channel.typ">in_channel</a> -&gt; int <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/open_in_gen.val"><a href="#/open_in_gen.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>open_in_gen : Unix.open_flag list -&gt; int -&gt; string -&gt; <a href="index.html#/in_channel.typ">in_channel</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/open_in.val"><a href="#/open_in.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>open_in : string -&gt; <a href="index.html#/in_channel.typ">in_channel</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/close_in.val"><a href="#/close_in.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>close_in : <a href="index.html#/in_channel.typ">in_channel</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="doc"><h3>Cooperative output channels</h3></div><div class="region" id="/out_channel.typ"><a href="#/out_channel.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>out_channel = <a href="../Lwt_io/index.html#/output_channel.typ">Lwt_io.output_channel</a></div><div class="doc"></div></div></div><div class="region" id="/out_channel_of_descr.val"><a href="#/out_channel_of_descr.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>out_channel_of_descr : <a href="../Lwt_unix/index.html#/file_descr.typ">Lwt_unix.file_descr</a> -&gt; <a href="index.html#/out_channel.typ">out_channel</a></div><div class="doc"></div></div></div><div class="region" id="/make_out_channel.val"><a href="#/make_out_channel.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>make_out_channel : ?close:(unit -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a>) -&gt; (<a href="../../ocaml/Bytes/index.html#/t.typ">Bytes.t</a> -&gt; int -&gt; int -&gt; int <a href="../Lwt/index.html#/t.typ">Lwt.t</a>) -&gt; <a href="index.html#/out_channel.typ">out_channel</a></div><div class="doc"><code>make_out_channel write</code> creates an output channel from the <code>write</code>
function. <code>write s ofs len</code> should (cooperatively) write <code>len</code> bytes from
<code>s</code>, starting at offset <code>ofs</code>, to the backend, and return the number of
bytes effectively written. If provided, <code>close</code> will be called by
<code>close_out</code>. By default, <code>close_out</code> does not do anything.</div></div></div><div class="region" id="/output.val"><a href="#/output.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>output : <a href="index.html#/out_channel.typ">out_channel</a> -&gt; <a href="../../ocaml/Bytes/index.html#/t.typ">Bytes.t</a> -&gt; int -&gt; int -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/flush.val"><a href="#/flush.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>flush : <a href="index.html#/out_channel.typ">out_channel</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/output_string.val"><a href="#/output_string.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>output_string : <a href="index.html#/out_channel.typ">out_channel</a> -&gt; string -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/output_value.val"><a href="#/output_value.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>output_value : <a href="index.html#/out_channel.typ">out_channel</a> -&gt; 'a -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/output_char.val"><a href="#/output_char.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>output_char : <a href="index.html#/out_channel.typ">out_channel</a> -&gt; char -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/output_binary_int.val"><a href="#/output_binary_int.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>output_binary_int : <a href="index.html#/out_channel.typ">out_channel</a> -&gt; int -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/open_out_gen.val"><a href="#/open_out_gen.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>open_out_gen : Unix.open_flag list -&gt; int -&gt; string -&gt; <a href="index.html#/out_channel.typ">out_channel</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/open_out.val"><a href="#/open_out.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>open_out : string -&gt; <a href="index.html#/out_channel.typ">out_channel</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/close_out.val"><a href="#/close_out.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>close_out : <a href="index.html#/out_channel.typ">out_channel</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/open_connection.val"><a href="#/open_connection.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>open_connection : Unix.sockaddr -&gt; (<a href="index.html#/in_channel.typ">in_channel</a> * <a href="index.html#/out_channel.typ">out_channel</a>) <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div></div></div></div></body></html>