<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lwt_log_core (lwt.Lwt_log_core)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/Lwt_log_core">Lwt_log_core</a></h1></div><div><div class="doc">Logging facility</div><div><div class="doc">This module provides functions to deal with logging.
It support:<br/><ul><li>logging to multiple destination at the same time</li><li>filtering logs per destination</li></ul></div><div class="doc"><h2>Types</h2></div><div class="region" id="/level.typ"><a href="#/level.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>level = <table><tr class="cons"><td><div class="region" id="/level.typ/Debug.cons"><a href="#/level.typ/Debug.cons" class="anchor"></a>| Debug</div></td><td>(*</td><td><div class="doc">Debugging message. They can be automatically removed by the
syntax extension.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/level.typ/Info.cons"><a href="#/level.typ/Info.cons" class="anchor"></a>| Info</div></td><td>(*</td><td><div class="doc">Informational message. Suitable to be displayed when the
program is in verbose mode.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/level.typ/Notice.cons"><a href="#/level.typ/Notice.cons" class="anchor"></a>| Notice</div></td><td>(*</td><td><div class="doc">Same as Info, but is displayed by default.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/level.typ/Warning.cons"><a href="#/level.typ/Warning.cons" class="anchor"></a>| Warning</div></td><td>(*</td><td><div class="doc">Something strange happend</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/level.typ/Error.cons"><a href="#/level.typ/Error.cons" class="anchor"></a>| Error</div></td><td>(*</td><td><div class="doc">An error message, which should not means the end of the
program.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/level.typ/Fatal.cons"><a href="#/level.typ/Fatal.cons" class="anchor"></a>| Fatal</div></td><td>(*</td><td><div class="doc">A fatal error happened, in most cases the program will end
after a fatal error.</div></td><td>*)</td></tr></table></div><div class="doc">Type of log levels. A level determines the importance of a
message</div></div></div><div class="region" id="/logger.typ"><a href="#/logger.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>logger</div><div class="doc">Type of a logger. A logger is responsible for dispatching messages
and storing them somewhere.</div></div></div><div class="region" id="/section.typ"><a href="#/section.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>section</div><div class="doc">Each logging message has a section. Sections can be used to
structure your logs. For example you can choose different
loggers according to the section.<br/>Each section carries a level, and messages with a lower log
level than than the section level will be dropped.<br/>Section levels are initialised using the contents of the <code>LWT_LOG</code>
environment variable, which must contain one or more rules of the form
<code>pattern -&gt; level</code> separated by &quot;;&quot;. Where <code>pattern</code> is a string
that may contain <code>*</code>.<br/>For example, if <code>LWT_LOG</code> contains:
<pre>
        access -&gt; warning;
        foo[*] -&gt; error
      </pre>
then the level of the section <code>&quot;access&quot;</code> is Warning and the
level of any section matching <code>&quot;foo[*]&quot;</code> is Error.<br/>If the pattern is omited in a rule then the pattern <code>&quot;*&quot;</code> is
used instead, so <code>LWT_LOG</code> may just contain <code>&quot;debug&quot;</code> for
instance.<br/>By default, the following rule apply : <code>&quot;* -&gt; notice&quot;</code></div></div></div><div class="region" id="/string_of_level.val"><a href="#/string_of_level.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>string_of_level : <a href="index.html#/level.typ">level</a> -&gt; string</div><div class="doc"></div></div></div><div class="region" id="/load_rules.val"><a href="#/load_rules.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>load_rules : string -&gt; unit</div><div class="doc">Reset the rules set when parsing the <code>LWT_LOG</code> environment variable using this
string.</div></div></div><div class="region" id="/add_rule.val"><a href="#/add_rule.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>add_rule : string -&gt; <a href="index.html#/level.typ">level</a> -&gt; unit</div><div class="doc"><code>add_rule pattern level</code> adds a rule for sections logging
levels. The rule is added before all other rules. It takes
effect immediately and affects all sections for which the level
has not been set explicitly with Section.set_level. <code>pattern</code>
may contains <code>*</code>. For example:<br/><pre>
        Lwt_log_core.add_rule &quot;lwt*&quot; Lwt_log_core.Info
      </pre></div></div></div><div class="region" id="/append_rule.val"><a href="#/append_rule.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>append_rule : string -&gt; <a href="index.html#/level.typ">level</a> -&gt; unit</div><div class="doc"><code>append_rule pattern level</code> adds the given rule after all other
rules. For example to set the default fallback rule:<br/><pre>
        Lwt_log_core.append_rule &quot;*&quot; Lwt_log_core.Info
      </pre></div></div></div><div class="region" id="/reset_rules.val"><a href="#/reset_rules.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>reset_rules : unit -&gt; unit</div><div class="doc">removes all rules.</div></div></div><div class="doc"><h2>Logging functions</h2></div><div class="region" id="/log.val"><a href="#/log.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>log : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; level:<a href="index.html#/level.typ">level</a> -&gt; string -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>log ?section ?logger ~level message</code> logs a message.<br/><code>section</code> defaults to Section.main. If <code>logger</code> is not
specified, then the default one is used instead (see
default).<br/>If <code>exn</code> is provided, then its string representation
(= <code>Printexc.to_string exn</code>) will be append to the message, and if
possible the backtrace will also be logged.<br/><code>location</code> contains the location of the logging directive, it is
of the form <code>(file_name, line, column)</code>.</div></div></div><div class="region" id="/log_f.val"><a href="#/log_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>log_f : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; level:<a href="index.html#/level.typ">level</a> -&gt; ('a, unit, string, unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a>) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"><code>log_f</code> is the same as <code>log</code> except that it takes a format
string</div></div></div><div class="region" id="/ign_log.val"><a href="#/ign_log.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>ign_log : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; level:<a href="index.html#/level.typ">level</a> -&gt; string -&gt; unit</div><div class="doc">Same as log but ignore the resulting thread.</div></div></div><div class="region" id="/ign_log_f.val"><a href="#/ign_log_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>ign_log_f : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; level:<a href="index.html#/level.typ">level</a> -&gt; ('a, unit, string, unit) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc">Same as log_f but ignore the resulting thread.</div></div></div><div class="doc">The following functions are the same as log except that their
name determines which level is used.<br/>For example info msg is the same as log ~level:Info msg.</div><div class="region" id="/debug.val"><a href="#/debug.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>debug : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; string -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/debug_f.val"><a href="#/debug_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>debug_f : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; ('a, unit, string, unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a>) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/ign_debug.val"><a href="#/ign_debug.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>ign_debug : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; string -&gt; unit</div><div class="doc"></div></div></div><div class="region" id="/ign_debug_f.val"><a href="#/ign_debug_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>ign_debug_f : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; ('a, unit, string, unit) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/info.val"><a href="#/info.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>info : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; string -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/info_f.val"><a href="#/info_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>info_f : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; ('a, unit, string, unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a>) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/ign_info.val"><a href="#/ign_info.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>ign_info : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; string -&gt; unit</div><div class="doc"></div></div></div><div class="region" id="/ign_info_f.val"><a href="#/ign_info_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>ign_info_f : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; ('a, unit, string, unit) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/notice.val"><a href="#/notice.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>notice : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; string -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/notice_f.val"><a href="#/notice_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>notice_f : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; ('a, unit, string, unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a>) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/ign_notice.val"><a href="#/ign_notice.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>ign_notice : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; string -&gt; unit</div><div class="doc"></div></div></div><div class="region" id="/ign_notice_f.val"><a href="#/ign_notice_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>ign_notice_f : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; ('a, unit, string, unit) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/warning.val"><a href="#/warning.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>warning : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; string -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/warning_f.val"><a href="#/warning_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>warning_f : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; ('a, unit, string, unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a>) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/ign_warning.val"><a href="#/ign_warning.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>ign_warning : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; string -&gt; unit</div><div class="doc"></div></div></div><div class="region" id="/ign_warning_f.val"><a href="#/ign_warning_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>ign_warning_f : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; ('a, unit, string, unit) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/error.val"><a href="#/error.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>error : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; string -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/error_f.val"><a href="#/error_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>error_f : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; ('a, unit, string, unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a>) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/ign_error.val"><a href="#/ign_error.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>ign_error : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; string -&gt; unit</div><div class="doc"></div></div></div><div class="region" id="/ign_error_f.val"><a href="#/ign_error_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>ign_error_f : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; ('a, unit, string, unit) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/fatal.val"><a href="#/fatal.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fatal : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; string -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"></div></div></div><div class="region" id="/fatal_f.val"><a href="#/fatal_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fatal_f : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; ('a, unit, string, unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a>) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/ign_fatal.val"><a href="#/ign_fatal.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>ign_fatal : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; string -&gt; unit</div><div class="doc"></div></div></div><div class="region" id="/ign_fatal_f.val"><a href="#/ign_fatal_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>ign_fatal_f : ?exn:exn -&gt; ?section:<a href="index.html#/section.typ">section</a> -&gt; ?location:(string * int * int) -&gt; ?logger:<a href="index.html#/logger.typ">logger</a> -&gt; ('a, unit, string, unit) <a href="../../ocaml/Pervasives/index.html#/format4.typ">Pervasives.format4</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/Section"><a href="#/Section" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="Section/index.html">Section</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></div><div class="doc">Sections</div></div></div><div class="doc"><h2>Log templates</h2></div><div class="region" id="/template.typ"><a href="#/template.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>template = string</div><div class="doc">A template is for generating log messages.<br/>It is a string which may contains variables of the form
<code>$(var)</code>, where <code>var</code> is one of:
<ul><li><code>message</code> which will be replaced by the message emited</li><li><code>level</code> which will be replaced by a string representation of
the level</li><li><code>section</code> which will be replaced by the name of the
message's section</li><li><code>loc-file</code> which will be replaced by the file name of the
calling logging function</li><li><code>loc-line</code> which will be replaced by the line number of the
calling logging function</li><li><code>loc-column</code> which will be replaced by the column number of
the calling logging function</li></ul>For example:
<ul><li><code>&quot;$(name): $(message)&quot;</code></li><li><code>&quot;$(name): $(loc-file): $(loc-line): $(loc-column): $(message)&quot;</code></li></ul></div></div></div><div class="region" id="/render.val"><a href="#/render.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>render : buffer:<a href="../../ocaml/Buffer/index.html#/t.typ">Buffer.t</a> -&gt; template:<a href="index.html#/template.typ">template</a> -&gt; section:<a href="index.html#/section.typ">section</a> -&gt; level:<a href="index.html#/level.typ">level</a> -&gt; message:string -&gt; unit</div><div class="doc"><code>render ~buffer ~template ~section ~level ~message</code> instantiate
all variables of <code>template</code>, and store the result in
<code>buffer</code>. The location is obtained from threads local
storage.</div></div></div><div class="region" id="/location_key.val"><a href="#/location_key.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>location_key : (string * int * int) <a href="../Lwt/index.html#/key.typ">Lwt.key</a></div><div class="doc">The key for storing current location.</div></div></div><div class="doc"><h2>Loggers</h2></div><div class="exn"><div class="def"><span class="keyword">exn </span>Logger_closed</div><div class="doc">Exception raised when trying to use a closed logger</div></div><div class="region" id="/make.val"><a href="#/make.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>make : output:(<a href="index.html#/section.typ">section</a> -&gt; <a href="index.html#/level.typ">level</a> -&gt; string list -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a>) -&gt; close:(unit -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a>) -&gt; <a href="index.html#/logger.typ">logger</a></div><div class="doc"><code>make ~output ~close</code> creates a new logger.</div></div></div><div class="region" id="/close.val"><a href="#/close.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>close : <a href="index.html#/logger.typ">logger</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Close the given logger</div></div></div><div class="region" id="/default.val"><a href="#/default.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>default : <a href="index.html#/logger.typ">logger</a> <a href="../../ocaml/Pervasives/index.html#/ref.typ">Pervasives.ref</a></div><div class="doc">The default logger. It is used as default when no one is
specified. If Lwt_core is linked (in the package <code>lwt.unix</code>)
the default logger sends all messages to standard error.
Otherwise the default logger is null.</div></div></div><div class="region" id="/broadcast.val"><a href="#/broadcast.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>broadcast : <a href="index.html#/logger.typ">logger</a> list -&gt; <a href="index.html#/logger.typ">logger</a></div><div class="doc"><code>broadcast loggers</code> is a logger which send messages to all the
given loggers.<br/>Note: closing a broadcast logger does not close its
components.</div></div></div><div class="region" id="/dispatch.val"><a href="#/dispatch.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>dispatch : (<a href="index.html#/section.typ">section</a> -&gt; <a href="index.html#/level.typ">level</a> -&gt; <a href="index.html#/logger.typ">logger</a>) -&gt; <a href="index.html#/logger.typ">logger</a></div><div class="doc"><code>dispatch f</code> is a logger which dispatch logging instructions to
different logger according to their level and/or section.<br/>Here is an example:<br/><pre>
        let access_logger = Lwt_log.file &quot;access.log&quot;
        and error_logger = Lwt_log.file &quot;error.log&quot; in

        Lwt_log_core.dispatch
          (fun section level -&gt;
            match Lwt_log_core.Section.name section, level with
              | &quot;access&quot;, _ -&gt; access_logger
              | _, Lwt_log_core.Error -&gt; error_logger)
      </pre></div></div></div><div class="doc"><h2>Predefined loggers</h2></div><div class="region" id="/null.val"><a href="#/null.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>null : <a href="index.html#/logger.typ">logger</a></div><div class="doc">Logger which drops everything</div></div></div></div></div></div></body></html>