<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lwt_mvar (lwt.Lwt_mvar)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/Lwt_mvar">Lwt_mvar</a></h1></div><div><div class="doc">Mailbox variables</div><div><div class="doc">&quot;Mailbox&quot; variables implement a synchronising variable, used for
communication between concurrent threads.<br/>This code adapted from
<a href="http://eigenclass.org/hiki.rb?cmd=view&amp;p=lightweight-threads-with-lwt">Comparing lightweight threads (eigenclass.org)</a></div><div class="region" id="/t.typ"><a href="#/t.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>'a t</div><div class="doc">The type of a mailbox variable. Mailbox variables are used to
communicate values between threads in a synchronous way. The
type parameter specifies the type of the value propagated from
<code>put</code> to <code>take</code>.</div></div></div><div class="region" id="/create.val"><a href="#/create.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>create : 'a -&gt; 'a <a href="index.html#/t.typ">t</a></div><div class="doc"><code>create v</code> creates a new mailbox variable containing value <code>v</code>.</div></div></div><div class="region" id="/create_empty.val"><a href="#/create_empty.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>create_empty : unit -&gt; 'a <a href="index.html#/t.typ">t</a></div><div class="doc"><code>create ()</code> creates a new empty mailbox variable.</div></div></div><div class="region" id="/put.val"><a href="#/put.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>put : 'a <a href="index.html#/t.typ">t</a> -&gt; 'a -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>put mvar value</code> puts a value into a mailbox variable. This
value will remain in the mailbox until <code>take</code> is called to
remove it. If the mailbox is not empty, the current thread will
block until it is emptied.</div></div></div><div class="region" id="/take.val"><a href="#/take.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>take : 'a <a href="index.html#/t.typ">t</a> -&gt; 'a <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>take mvar</code> will take any currently available value from the
mailbox variable. If no value is currently available, the
current thread will block, awaiting a value to be <code>put</code> by
another thread.</div></div></div></div></div></div></body></html>