<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lwt_preemptive (lwt.Lwt_preemptive)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/Lwt_preemptive">Lwt_preemptive</a></h1></div><div><div class="doc">This module allows to mix preemptive threads with <code>Lwt</code>
cooperative threads. It maintains an extensible pool of preemptive
threads to which you can detach computations.</div><div><div class="region" id="/detach.val"><a href="#/detach.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>detach : ('a -&gt; 'b) -&gt; 'a -&gt; 'b <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">detaches a computation to a preemptive thread.</div></div></div><div class="region" id="/run_in_main.val"><a href="#/run_in_main.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>run_in_main : (unit -&gt; 'a <a href="../Lwt/index.html#/t.typ">Lwt.t</a>) -&gt; 'a</div><div class="doc"><code>run_in_main f</code> executes <code>f</code> in the main thread, i.e. the one
executing Lwt_main.run and returns its result.</div></div></div><div class="region" id="/init.val"><a href="#/init.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>init : int -&gt; int -&gt; (string -&gt; unit) -&gt; unit</div><div class="doc"><code>init min max log</code> initialises this module. i.e. it launches the
minimum number of preemptive threads and starts the <span style="font-weight: bold">dispatcher</span>.</div></div></div><div class="region" id="/simple_init.val"><a href="#/simple_init.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>simple_init : unit -&gt; unit</div><div class="doc"><code>simple_init ()</code> does a <span style="font-style: italic">simple initialization</span>. i.e. with
default parameters if the library is not yet initialised.<br/>Note: this function is automatically called detach.</div></div></div><div class="region" id="/get_bounds.val"><a href="#/get_bounds.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>get_bounds : unit -&gt; int * int</div><div class="doc"><code>get_bounds ()</code> returns the minimum and the maximum number of
preemptive threads.</div></div></div><div class="region" id="/set_bounds.val"><a href="#/set_bounds.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>set_bounds : (int * int) -&gt; unit</div><div class="doc"><code>set_bounds (min, max)</code> set the minimum and the maximum number
of preemptive threads.</div></div></div><div class="region" id="/set_max_number_of_threads_queued.val"><a href="#/set_max_number_of_threads_queued.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>set_max_number_of_threads_queued : int -&gt; unit</div><div class="doc">Sets the size of the waiting queue, if no more preemptive
threads are available. When the queue is full, detach will
sleep until a thread is available.</div></div></div><div class="region" id="/get_max_number_of_threads_queued.val"><a href="#/get_max_number_of_threads_queued.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>get_max_number_of_threads_queued : unit -&gt; int</div><div class="doc">Returns the size of the waiting queue, if no more threads are
available</div></div></div><div class="region" id="/nbthreads.val"><a href="#/nbthreads.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>nbthreads : unit -&gt; int</div><div class="doc">/*</div></div></div><div class="region" id="/nbthreadsbusy.val"><a href="#/nbthreadsbusy.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>nbthreadsbusy : unit -&gt; int</div><div class="doc"></div></div></div><div class="region" id="/nbthreadsqueued.val"><a href="#/nbthreadsqueued.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>nbthreadsqueued : unit -&gt; int</div><div class="doc"></div></div></div></div></div></div></body></html>