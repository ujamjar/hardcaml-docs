<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lwt_sequence (lwt.Lwt_sequence)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/Lwt_sequence">Lwt_sequence</a></h1></div><div><div class="doc">Mutable sequence of elements</div><div><div class="doc">A sequence is an object holding a list of elements which support
the following operations:<br/><ul><li>adding an element to the left or the right in time and space O(1)</li><li>taking an element from the left or the right in time and space O(1)</li><li>removing a previously added element from a sequence in time and space O(1)</li><li>removing an element while the sequence is being transversed.</li></ul></div><div class="region" id="/t.typ"><a href="#/t.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>'a t</div><div class="doc">Type of a sequence holding values of type <code>'a</code></div></div></div><div class="region" id="/node.typ"><a href="#/node.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>'a node</div><div class="doc">Type of a node holding one value of type <code>'a</code> in a sequence</div></div></div><div class="doc"><h2>Operation on nodes</h2></div><div class="region" id="/get.val"><a href="#/get.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>get : 'a <a href="index.html#/node.typ">node</a> -&gt; 'a</div><div class="doc">Returns the contents of a node</div></div></div><div class="region" id="/set.val"><a href="#/set.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>set : 'a <a href="index.html#/node.typ">node</a> -&gt; 'a -&gt; unit</div><div class="doc">Change the contents of a node</div></div></div><div class="region" id="/remove.val"><a href="#/remove.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>remove : 'a <a href="index.html#/node.typ">node</a> -&gt; unit</div><div class="doc">Removes a node from the sequence it is part of. It does nothing
if the node has already been removed.</div></div></div><div class="doc"><h2>Operations on sequence</h2></div><div class="region" id="/create.val"><a href="#/create.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>create : unit -&gt; 'a <a href="index.html#/t.typ">t</a></div><div class="doc"><code>create ()</code> creates a new empty sequence</div></div></div><div class="region" id="/is_empty.val"><a href="#/is_empty.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>is_empty : 'a <a href="index.html#/t.typ">t</a> -&gt; bool</div><div class="doc">Returns <code>true</code> iff the given sequence is empty</div></div></div><div class="region" id="/length.val"><a href="#/length.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>length : 'a <a href="index.html#/t.typ">t</a> -&gt; int</div><div class="doc">Returns the number of elemenets in the given sequence. This is a
O(n) operation where <code>n</code> is the number of elements in the
sequence.</div></div></div><div class="region" id="/add_l.val"><a href="#/add_l.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>add_l : 'a -&gt; 'a <a href="index.html#/t.typ">t</a> -&gt; 'a <a href="index.html#/node.typ">node</a></div><div class="doc"><code>add_l x s</code> adds <code>x</code> to the left of the sequence <code>s</code></div></div></div><div class="region" id="/add_r.val"><a href="#/add_r.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>add_r : 'a -&gt; 'a <a href="index.html#/t.typ">t</a> -&gt; 'a <a href="index.html#/node.typ">node</a></div><div class="doc"><code>add_l x s</code> adds <code>x</code> to the right of the sequence <code>s</code></div></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Empty</div><div class="doc">Exception raised by <code>take_l</code> and <code>tale_s</code> and when the sequence
is empty</div></div><div class="region" id="/take_l.val"><a href="#/take_l.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>take_l : 'a <a href="index.html#/t.typ">t</a> -&gt; 'a</div><div class="doc"><code>take_l x s</code> remove and returns the leftmost element of <code>s</code></div></div></div><div class="region" id="/take_r.val"><a href="#/take_r.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>take_r : 'a <a href="index.html#/t.typ">t</a> -&gt; 'a</div><div class="doc"><code>take_l x s</code> remove and returns the rightmost element of <code>s</code></div></div></div><div class="region" id="/take_opt_l.val"><a href="#/take_opt_l.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>take_opt_l : 'a <a href="index.html#/t.typ">t</a> -&gt; 'a option</div><div class="doc"><code>take_opt_l x s</code> remove and returns <code>Some x</code> where <code>x</code> is the
leftmost element of <code>s</code> or <code>None</code> if <code>s</code> is empty</div></div></div><div class="region" id="/take_opt_r.val"><a href="#/take_opt_r.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>take_opt_r : 'a <a href="index.html#/t.typ">t</a> -&gt; 'a option</div><div class="doc"><code>take_opt_l x s</code> remove and returns <code>Some x</code> where <code>x</code> is the
rightmost element of <code>s</code> or <code>None</code> if <code>s</code> is empty</div></div></div><div class="region" id="/transfer_l.val"><a href="#/transfer_l.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>transfer_l : 'a <a href="index.html#/t.typ">t</a> -&gt; 'a <a href="index.html#/t.typ">t</a> -&gt; unit</div><div class="doc"><code>transfer_l s1 s2</code> removes all elements of <code>s1</code> and add them at
the left of <code>s2</code>. This operation runs in constant time and
space.</div></div></div><div class="region" id="/transfer_r.val"><a href="#/transfer_r.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>transfer_r : 'a <a href="index.html#/t.typ">t</a> -&gt; 'a <a href="index.html#/t.typ">t</a> -&gt; unit</div><div class="doc"><code>transfer_r s1 s2</code> removes all elements of <code>s1</code> and add them at
the right of <code>s2</code>. This operation runs in constant time and
space.</div></div></div><div class="doc"><h2>Sequence iterators</h2></div><div class="doc">Note: it is OK to remove a node while traversing a sequence</div><div class="region" id="/iter_l.val"><a href="#/iter_l.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>iter_l : ('a -&gt; unit) -&gt; 'a <a href="index.html#/t.typ">t</a> -&gt; unit</div><div class="doc"><code>iter_l f s</code> applies <code>f</code> on all elements of <code>s</code> starting from
the left</div></div></div><div class="region" id="/iter_r.val"><a href="#/iter_r.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>iter_r : ('a -&gt; unit) -&gt; 'a <a href="index.html#/t.typ">t</a> -&gt; unit</div><div class="doc"><code>iter_l f s</code> applies <code>f</code> on all elements of <code>s</code> starting from
the right</div></div></div><div class="region" id="/iter_node_l.val"><a href="#/iter_node_l.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>iter_node_l : ('a <a href="index.html#/node.typ">node</a> -&gt; unit) -&gt; 'a <a href="index.html#/t.typ">t</a> -&gt; unit</div><div class="doc"><code>iter_l f s</code> applies <code>f</code> on all nodes of <code>s</code> starting from
the left</div></div></div><div class="region" id="/iter_node_r.val"><a href="#/iter_node_r.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>iter_node_r : ('a <a href="index.html#/node.typ">node</a> -&gt; unit) -&gt; 'a <a href="index.html#/t.typ">t</a> -&gt; unit</div><div class="doc"><code>iter_l f s</code> applies <code>f</code> on all nodes of <code>s</code> starting from
the right</div></div></div><div class="region" id="/fold_l.val"><a href="#/fold_l.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fold_l : ('a -&gt; 'b -&gt; 'b) -&gt; 'a <a href="index.html#/t.typ">t</a> -&gt; 'b -&gt; 'b</div><div class="doc"><code>fold_l f s</code> is:
<pre>
        fold_l f s x = f en (... (f e2 (f e1 x)))
      </pre>
where <code>e1</code>, <code>e2</code>, ..., <code>en</code> are the elements of <code>s</code></div></div></div><div class="region" id="/fold_r.val"><a href="#/fold_r.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fold_r : ('a -&gt; 'b -&gt; 'b) -&gt; 'a <a href="index.html#/t.typ">t</a> -&gt; 'b -&gt; 'b</div><div class="doc"><code>fold_r f s</code> is:
<pre>
        fold_r f s x = f e1 (f e2 (... (f en x)))
      </pre>
where <code>e1</code>, <code>e2</code>, ..., <code>en</code> are the elements of <code>s</code></div></div></div><div class="region" id="/find_node_opt_l.val"><a href="#/find_node_opt_l.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>find_node_opt_l : ('a -&gt; bool) -&gt; 'a <a href="index.html#/t.typ">t</a> -&gt; 'a <a href="index.html#/node.typ">node</a> option</div><div class="doc"><code>find_node_opt_l f s</code> returns <code>Some x</code>, where <code>x</code> is the first node of
<code>s</code> starting from the left that satisfies <code>f</code> or <code>None</code> if none
exists.</div></div></div><div class="region" id="/find_node_opt_r.val"><a href="#/find_node_opt_r.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>find_node_opt_r : ('a -&gt; bool) -&gt; 'a <a href="index.html#/t.typ">t</a> -&gt; 'a <a href="index.html#/node.typ">node</a> option</div><div class="doc"><code>find_node_opt_r f s</code> returns <code>Some x</code>, where <code>x</code> is the first node of
<code>s</code> starting from the right that satisfies <code>f</code> or <code>None</code> if none
exists.</div></div></div><div class="region" id="/find_node_l.val"><a href="#/find_node_l.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>find_node_l : ('a -&gt; bool) -&gt; 'a <a href="index.html#/t.typ">t</a> -&gt; 'a <a href="index.html#/node.typ">node</a></div><div class="doc"><code>find_node_l f s</code> returns the first node of <code>s</code> starting from the left
that satisfies <code>f</code> or raises <code>Not_found</code> if none exists.</div></div></div><div class="region" id="/find_node_r.val"><a href="#/find_node_r.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>find_node_r : ('a -&gt; bool) -&gt; 'a <a href="index.html#/t.typ">t</a> -&gt; 'a <a href="index.html#/node.typ">node</a></div><div class="doc"><code>find_node_r f s</code> returns the first node of <code>s</code> starting from the right
that satisfies <code>f</code> or raises <code>Not_found</code> if none exists.</div></div></div></div></div></div></body></html>