<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lwt_unix (lwt.Lwt_unix)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/Lwt_unix">Lwt_unix</a></h1></div><div><div class="doc">Cooperative system calls</div><div><div class="doc">This modules maps system calls, like those of the standard
library's <code>Unix</code> module, to cooperative ones, which will not block
the program.<br/>The semantics of all operations is the following: if the action
(for example reading from a <span style="font-weight: bold">file descriptor</span>) can be performed
immediately, it is done and returns immediately, otherwise it
returns a sleeping thread which is woken up when the operation
completes.<br/>Most operations on sockets and pipes (on Windows it is only
sockets) are <span style="font-weight: bold">cancelable</span>, meaning you can cancel them
with Lwt.cancel. For example if you want to read something from
a <span style="font-weight: bold">file descriptor</span> with a timeout, you can cancel the action
after the timeout and the reading will not be performed if not
already done.<br/>For example, consider that you have two sockets <code>sock1</code> and
<code>sock2</code>. You want to read something from <code>sock1</code> or exclusively
from <code>sock2</code> and fail with an exception if a timeout of 1 second
expires, without reading anything from <code>sock1</code> and <code>sock2</code>, even
if they become readable in the future.<br/>Then you can do:<br/><pre>
    Lwt.pick [Lwt_unix.timeout 1.0; read sock1 buf1 ofs1 len1; read sock2 buf2 ofs2 len2]
    </pre><br/>In this case, it is guaranteed that exactly one of the three
operations will complete, and the others will be cancelled.</div><div class="region" id="/handle_unix_error.val"><a href="#/handle_unix_error.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>handle_unix_error : ('a -&gt; 'b <a href="../Lwt/index.html#/t.typ">Lwt.t</a>) -&gt; 'a -&gt; 'b <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Same as <code>Unix.handle_unix_error</code> but catches lwt-level
exceptions</div></div></div><div class="doc"><h2>Configuration</h2></div><div class="region" id="/async_method.typ"><a href="#/async_method.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>async_method = <table><tr class="cons"><td><div class="region" id="/async_method.typ/Async_none.cons"><a href="#/async_method.typ/Async_none.cons" class="anchor"></a>| Async_none</div></td><td>(*</td><td><div class="doc">System calls are made synchronously, and may block the
entire program.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/async_method.typ/Async_detach.cons"><a href="#/async_method.typ/Async_detach.cons" class="anchor"></a>| Async_detach</div></td><td>(*</td><td><div class="doc">System calls are made in another system thread, thus without
blocking other Lwt threads. The drawback is that it may
degrade performance in some cases.<br/>This is the default.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/async_method.typ/Async_switch.cons"><a href="#/async_method.typ/Async_switch.cons" class="anchor"></a>| Async_switch</div></td><td>(*</td><td><div class="doc">System calls are made in the main thread, and if one blocks
the execution continue in another system thread. This method
is the most efficient, also you will get better performance
if you force all threads to run on the same cpu. On linux
this can be done by using the command <code>taskset</code>.<br/>Note that this method is still experimental.</div></td><td>*)</td></tr></table></div><div class="doc">For system calls that cannot be made asynchronously, Lwt uses one
of the following method:</div></div></div><div class="region" id="/default_async_method.val"><a href="#/default_async_method.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>default_async_method : unit -&gt; <a href="index.html#/async_method.typ">async_method</a></div><div class="doc">Returns the default async method.<br/>This can be initialized using the environment variable
<code>&quot;LWT_ASYNC_METHOD&quot;</code> with possible values <code>&quot;none&quot;</code>,
<code>&quot;detach&quot;</code> and <code>&quot;switch&quot;</code>.</div></div></div><div class="region" id="/set_default_async_method.val"><a href="#/set_default_async_method.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>set_default_async_method : <a href="index.html#/async_method.typ">async_method</a> -&gt; unit</div><div class="doc">Sets the default async method.</div></div></div><div class="region" id="/async_method.val"><a href="#/async_method.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>async_method : unit -&gt; <a href="index.html#/async_method.typ">async_method</a></div><div class="doc"><code>async_method ()</code> returns the async method used in the current
thread.</div></div></div><div class="region" id="/async_method_key.val"><a href="#/async_method_key.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>async_method_key : <a href="index.html#/async_method.typ">async_method</a> <a href="../Lwt/index.html#/key.typ">Lwt.key</a></div><div class="doc">The key for storing the local async method.</div></div></div><div class="region" id="/with_async_none.val"><a href="#/with_async_none.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>with_async_none : (unit -&gt; 'a) -&gt; 'a</div><div class="doc"><code>with_async_none f</code> is a shorthand for:<br/><pre>
        Lwt.with_value async_method_key (Some Async_none) f
      </pre></div></div></div><div class="region" id="/with_async_detach.val"><a href="#/with_async_detach.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>with_async_detach : (unit -&gt; 'a) -&gt; 'a</div><div class="doc"><code>with_async_detach f</code> is a shorthand for:<br/><pre>
        Lwt.with_value async_method_key (Some Async_detach) f
      </pre></div></div></div><div class="region" id="/with_async_switch.val"><a href="#/with_async_switch.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>with_async_switch : (unit -&gt; 'a) -&gt; 'a</div><div class="doc"><code>with_async_switch f</code> is a shorthand for:<br/><pre>
        Lwt.with_value async_method_key (Some Async_switch) f
      </pre></div></div></div><div class="doc"><h2>Sleeping</h2></div><div class="region" id="/sleep.val"><a href="#/sleep.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>sleep : float -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>sleep d</code> is a thread that remains suspended for <code>d</code> seconds
and then terminates.</div></div></div><div class="region" id="/yield.val"><a href="#/yield.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>yield : unit -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>yield ()</code> is a thread that suspends itself and then resumes
as soon as possible and terminates.</div></div></div><div class="region" id="/auto_yield.val"><a href="#/auto_yield.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>auto_yield : float -&gt; unit -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>auto_yield timeout</code> returns a function <code>f</code> that will yield
every <code>timeout</code> seconds.</div></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Timeout</div><div class="doc">Exception raised by timeout operations</div></div><div class="region" id="/timeout.val"><a href="#/timeout.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>timeout : float -&gt; 'a <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>timeout d</code> is a thread that remains suspended for <code>d</code> seconds
and then fails with Timeout.</div></div></div><div class="region" id="/with_timeout.val"><a href="#/with_timeout.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>with_timeout : float -&gt; (unit -&gt; 'a <a href="../Lwt/index.html#/t.typ">Lwt.t</a>) -&gt; 'a <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>with_timeout d f</code> is a short-hand for:<br/><pre>
        Lwt.pick [Lwt_unix.timeout d; f ()]
      </pre></div></div></div><div class="doc"><h2>Operation on file-descriptors</h2></div><div class="region" id="/file_descr.typ"><a href="#/file_descr.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>file_descr</div><div class="doc">The abstract type for <span style="font-weight: bold">file descriptor</span>s. A Lwt <span style="font-weight: bold">file
descriptor</span> is a pair of a unix <span style="font-weight: bold">file descriptor</span> (of type
<code>Unix.file_descr</code>) and a <span style="font-weight: bold">state</span>.<br/>A <span style="font-weight: bold">file descriptor</span> may be:<br/><ul><li><span style="font-weight: bold">opened</span>, in which case it is fully usable</li><li><span style="font-weight: bold">closed</span> or <span style="font-weight: bold">aborted</span>, in which case it is no longer
usable</li></ul></div></div></div><div class="region" id="/state.typ"><a href="#/state.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>state = <table><tr class="cons"><td><div class="region" id="/state.typ/Opened.cons"><a href="#/state.typ/Opened.cons" class="anchor"></a>| Opened</div></td><td>(*</td><td><div class="doc">The <span style="font-weight: bold">file descriptor</span> is opened</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/state.typ/Closed.cons"><a href="#/state.typ/Closed.cons" class="anchor"></a>| Closed</div></td><td>(*</td><td><div class="doc">The <span style="font-weight: bold">file descriptor</span> has been closed by close. It must
not be used for any operation.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/state.typ/Aborted.cons"><a href="#/state.typ/Aborted.cons" class="anchor"></a>| Aborted of exn</div></td><td>(*</td><td><div class="doc">The <span style="font-weight: bold">file descriptor</span> has been aborted, the only operation
possible is close, all others will fail.</div></td><td>*)</td></tr></table></div><div class="doc">State of a <span style="font-weight: bold">file descriptor</span></div></div></div><div class="region" id="/state.val"><a href="#/state.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>state : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/state.typ">state</a></div><div class="doc"><code>state fd</code> returns the state of <code>fd</code></div></div></div><div class="region" id="/unix_file_descr.val"><a href="#/unix_file_descr.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>unix_file_descr : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; Unix.file_descr</div><div class="doc">Returns the underlying unix <span style="font-weight: bold">file descriptor</span>. It always
succeeds, even if the <span style="font-weight: bold">file descriptor</span>'s state is not
Open.</div></div></div><div class="region" id="/of_unix_file_descr.val"><a href="#/of_unix_file_descr.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>of_unix_file_descr : ?blocking:bool -&gt; ?set_flags:bool -&gt; Unix.file_descr -&gt; <a href="index.html#/file_descr.typ">file_descr</a></div><div class="doc">Creates a lwt <span style="font-weight: bold">file descriptor</span> from a unix one.<br/><code>blocking</code> is the blocking mode of the file-descriptor, and
describes how Lwt will use it. In non-blocking mode, read/write
on this file descriptor are made using non-blocking IO; in
blocking mode they are made using the current async method. If
<code>blocking</code> is not specified it is guessed according to the file
kind: socket and pipes are in non-blocking mode and others are
in blocking mode.<br/>If <code>set_flags</code> is <code>true</code> (the default) then the file flags are
modified according to the <code>blocking</code> argument, otherwise they
are left unchanged.<br/>Note that the blocking mode is less efficient than the
non-blocking one, so it should be used only for file descriptors
that does not support asynchronous operations, such as regular
files, or for shared descriptors such as stdout, stderr or
stdin.</div></div></div><div class="region" id="/blocking.val"><a href="#/blocking.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>blocking : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; bool <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>blocking fd</code> returns whether <code>fd</code> is used in blocking or
non-blocking mode.</div></div></div><div class="region" id="/set_blocking.val"><a href="#/set_blocking.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>set_blocking : ?set_flags:bool -&gt; <a href="index.html#/file_descr.typ">file_descr</a> -&gt; bool -&gt; unit</div><div class="doc"><code>set_blocking fd b</code> puts <code>fd</code> in blocking or non-blocking
mode. If <code>set_flags</code> is <code>true</code> (the default) then the file flags
are modified, otherwise the modification is only done at the
application level.</div></div></div><div class="region" id="/abort.val"><a href="#/abort.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>abort : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; exn -&gt; unit</div><div class="doc"><code>abort fd exn</code> makes all current and further uses of the file
descriptor fail with the given exception. This put the <span style="font-weight: bold">file
descriptor</span> into the Aborted state.<br/>If the <span style="font-weight: bold">file descriptor</span> is closed, this does nothing, if it is
aborted, this replace the abort exception by <code>exn</code>.<br/>Note that this only works for reading and writing operations on
file descriptors supporting non-blocking mode.</div></div></div><div class="doc"><h2>Process handling</h2></div><div class="region" id="/fork.val"><a href="#/fork.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fork : unit -&gt; int</div><div class="doc"><code>fork ()</code> does the same as <code>Unix.fork</code>. You must use this
function instead of <code>Unix.fork</code> when you want to use Lwt in the
child process.<br/>Notes:
<ul><li>in the child process all pending jobs are canceled,</li><li>if you are going to use Lwt in the parent and the child, it is
a good idea to call Lwt_io.flush_all before callling
fork to avoid double-flush.</li></ul></div></div></div><div class="region" id="/process_status.typ"><a href="#/process_status.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>process_status = Unix.process_status = <table><tr class="cons"><td><div class="region" id="/process_status.typ/WEXITED.cons"><a href="#/process_status.typ/WEXITED.cons" class="anchor"></a>| WEXITED of int</div></td></tr><tr class="cons"><td><div class="region" id="/process_status.typ/WSIGNALED.cons"><a href="#/process_status.typ/WSIGNALED.cons" class="anchor"></a>| WSIGNALED of int</div></td></tr><tr class="cons"><td><div class="region" id="/process_status.typ/WSTOPPED.cons"><a href="#/process_status.typ/WSTOPPED.cons" class="anchor"></a>| WSTOPPED of int</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/wait_flag.typ"><a href="#/wait_flag.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>wait_flag = Unix.wait_flag = <table><tr class="cons"><td><div class="region" id="/wait_flag.typ/WNOHANG.cons"><a href="#/wait_flag.typ/WNOHANG.cons" class="anchor"></a>| WNOHANG</div></td></tr><tr class="cons"><td><div class="region" id="/wait_flag.typ/WUNTRACED.cons"><a href="#/wait_flag.typ/WUNTRACED.cons" class="anchor"></a>| WUNTRACED</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/wait.val"><a href="#/wait.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>wait : unit -&gt; (int * <a href="index.html#/process_status.typ">process_status</a>) <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.wait</code></div></div></div><div class="region" id="/waitpid.val"><a href="#/waitpid.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>waitpid : <a href="index.html#/wait_flag.typ">wait_flag</a> list -&gt; int -&gt; (int * <a href="index.html#/process_status.typ">process_status</a>) <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.waitpid</code></div></div></div><div class="region" id="/resource_usage.typ"><a href="#/resource_usage.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>resource_usage = {<table><tr class="fld"><td><div class="region" id="/resource_usage.typ/ru_utime.fld"><a href="#/resource_usage.typ/ru_utime.fld" class="anchor"></a>ru_utime</div></td><td> : </td><td>float;</td><td>(*</td><td><div class="doc">User time used</div></td><td>*)</td></tr><tr class="fld"><td><div class="region" id="/resource_usage.typ/ru_stime.fld"><a href="#/resource_usage.typ/ru_stime.fld" class="anchor"></a>ru_stime</div></td><td> : </td><td>float;</td><td>(*</td><td><div class="doc">System time used</div></td><td>*)</td></tr></table>}</div><div class="doc">Resource usages</div></div></div><div class="region" id="/wait4.val"><a href="#/wait4.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>wait4 : <a href="index.html#/wait_flag.typ">wait_flag</a> list -&gt; int -&gt; (int * <a href="index.html#/process_status.typ">process_status</a> * <a href="index.html#/resource_usage.typ">resource_usage</a>) <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>wait4 flags pid</code> returns <code>(pid, status, rusage)</code> where <code>(pid,
      status)</code> is the same result as <code>Unix.waitpid flags pid</code>, and
<code>rusage</code> contains accounting information about the child.<br/>On windows it will always returns <code>{ utime = 0.0; stime = 0.0 }</code>.</div></div></div><div class="region" id="/wait_count.val"><a href="#/wait_count.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>wait_count : unit -&gt; int</div><div class="doc">Returns the number of threads waiting for a child to
terminate.</div></div></div><div class="region" id="/system.val"><a href="#/system.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>system : string -&gt; <a href="index.html#/process_status.typ">process_status</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Executes the given command, waits until it terminates, and
return its termination status. The string is interpreted by the
shell <code>/bin/sh</code> on Unix and <code>cmd.exe</code> on Windows. The result
<code>WEXITED 127</code> indicates that the shell couldn't be executed.</div></div></div><div class="doc"><h2>Basic file input/output</h2></div><div class="region" id="/stdin.val"><a href="#/stdin.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>stdin : <a href="index.html#/file_descr.typ">file_descr</a></div><div class="doc">The standard <span style="font-weight: bold">file descriptor</span> for input. This one is usually
a terminal is the program is started from a terminal.</div></div></div><div class="region" id="/stdout.val"><a href="#/stdout.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>stdout : <a href="index.html#/file_descr.typ">file_descr</a></div><div class="doc">The standard <span style="font-weight: bold">file descriptor</span> for output</div></div></div><div class="region" id="/stderr.val"><a href="#/stderr.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>stderr : <a href="index.html#/file_descr.typ">file_descr</a></div><div class="doc">The standard <span style="font-weight: bold">file descriptor</span> for printing error messages</div></div></div><div class="region" id="/file_perm.typ"><a href="#/file_perm.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>file_perm = Unix.file_perm</div><div class="doc"></div></div></div><div class="region" id="/open_flag.typ"><a href="#/open_flag.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>open_flag = Unix.open_flag = <table><tr class="cons"><td><div class="region" id="/open_flag.typ/O_RDONLY.cons"><a href="#/open_flag.typ/O_RDONLY.cons" class="anchor"></a>| O_RDONLY</div></td></tr><tr class="cons"><td><div class="region" id="/open_flag.typ/O_WRONLY.cons"><a href="#/open_flag.typ/O_WRONLY.cons" class="anchor"></a>| O_WRONLY</div></td></tr><tr class="cons"><td><div class="region" id="/open_flag.typ/O_RDWR.cons"><a href="#/open_flag.typ/O_RDWR.cons" class="anchor"></a>| O_RDWR</div></td></tr><tr class="cons"><td><div class="region" id="/open_flag.typ/O_NONBLOCK.cons"><a href="#/open_flag.typ/O_NONBLOCK.cons" class="anchor"></a>| O_NONBLOCK</div></td></tr><tr class="cons"><td><div class="region" id="/open_flag.typ/O_APPEND.cons"><a href="#/open_flag.typ/O_APPEND.cons" class="anchor"></a>| O_APPEND</div></td></tr><tr class="cons"><td><div class="region" id="/open_flag.typ/O_CREAT.cons"><a href="#/open_flag.typ/O_CREAT.cons" class="anchor"></a>| O_CREAT</div></td></tr><tr class="cons"><td><div class="region" id="/open_flag.typ/O_TRUNC.cons"><a href="#/open_flag.typ/O_TRUNC.cons" class="anchor"></a>| O_TRUNC</div></td></tr><tr class="cons"><td><div class="region" id="/open_flag.typ/O_EXCL.cons"><a href="#/open_flag.typ/O_EXCL.cons" class="anchor"></a>| O_EXCL</div></td></tr><tr class="cons"><td><div class="region" id="/open_flag.typ/O_NOCTTY.cons"><a href="#/open_flag.typ/O_NOCTTY.cons" class="anchor"></a>| O_NOCTTY</div></td></tr><tr class="cons"><td><div class="region" id="/open_flag.typ/O_DSYNC.cons"><a href="#/open_flag.typ/O_DSYNC.cons" class="anchor"></a>| O_DSYNC</div></td></tr><tr class="cons"><td><div class="region" id="/open_flag.typ/O_SYNC.cons"><a href="#/open_flag.typ/O_SYNC.cons" class="anchor"></a>| O_SYNC</div></td></tr><tr class="cons"><td><div class="region" id="/open_flag.typ/O_RSYNC.cons"><a href="#/open_flag.typ/O_RSYNC.cons" class="anchor"></a>| O_RSYNC</div></td></tr><tr class="cons"><td><div class="region" id="/open_flag.typ/O_SHARE_DELETE.cons"><a href="#/open_flag.typ/O_SHARE_DELETE.cons" class="anchor"></a>| O_SHARE_DELETE</div></td></tr><tr class="cons"><td><div class="region" id="/open_flag.typ/O_CLOEXEC.cons"><a href="#/open_flag.typ/O_CLOEXEC.cons" class="anchor"></a>| O_CLOEXEC</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/openfile.val"><a href="#/openfile.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>openfile : string -&gt; <a href="index.html#/open_flag.typ">open_flag</a> list -&gt; <a href="index.html#/file_perm.typ">file_perm</a> -&gt; <a href="index.html#/file_descr.typ">file_descr</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.openfile</code>.</div></div></div><div class="region" id="/close.val"><a href="#/close.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>close : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Close a <span style="font-weight: bold">file descriptor</span>. This close the underlying unix <span style="font-weight: bold">file descriptor</span> and set its state to Closed</div></div></div><div class="region" id="/read.val"><a href="#/read.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>read : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="../../ocaml/Bytes/index.html#/t.typ">Bytes.t</a> -&gt; int -&gt; int -&gt; int <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>read fd buf ofs len</code> has the same semantic as <code>Unix.read</code>, but
is cooperative</div></div></div><div class="region" id="/write.val"><a href="#/write.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>write : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="../../ocaml/Bytes/index.html#/t.typ">Bytes.t</a> -&gt; int -&gt; int -&gt; int <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>write fd buf ofs len</code> has the same semantic as <code>Unix.write</code>, but
is cooperative</div></div></div><div class="region" id="/write_string.val"><a href="#/write_string.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>write_string : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; string -&gt; int -&gt; int -&gt; int <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">See write.</div></div></div><div class="region" id="/readable.val"><a href="#/readable.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>readable : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; bool</div><div class="doc">Returns whether the given file descriptor is currently
readable.</div></div></div><div class="region" id="/writable.val"><a href="#/writable.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>writable : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; bool</div><div class="doc">Returns whether the given file descriptor is currently
writable.</div></div></div><div class="region" id="/wait_read.val"><a href="#/wait_read.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>wait_read : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">waits (without blocking other threads) until there is something
to read on the file descriptor</div></div></div><div class="region" id="/wait_write.val"><a href="#/wait_write.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>wait_write : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">waits (without blocking other threads) until it is possible to
write on the file descriptor</div></div></div><div class="doc"><h2>Seeking and truncating</h2></div><div class="region" id="/seek_command.typ"><a href="#/seek_command.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>seek_command = Unix.seek_command = <table><tr class="cons"><td><div class="region" id="/seek_command.typ/SEEK_SET.cons"><a href="#/seek_command.typ/SEEK_SET.cons" class="anchor"></a>| SEEK_SET</div></td></tr><tr class="cons"><td><div class="region" id="/seek_command.typ/SEEK_CUR.cons"><a href="#/seek_command.typ/SEEK_CUR.cons" class="anchor"></a>| SEEK_CUR</div></td></tr><tr class="cons"><td><div class="region" id="/seek_command.typ/SEEK_END.cons"><a href="#/seek_command.typ/SEEK_END.cons" class="anchor"></a>| SEEK_END</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/lseek.val"><a href="#/lseek.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>lseek : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; int -&gt; <a href="index.html#/seek_command.typ">seek_command</a> -&gt; int <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.lseek</code></div></div></div><div class="region" id="/truncate.val"><a href="#/truncate.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>truncate : string -&gt; int -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.truncate</code></div></div></div><div class="region" id="/ftruncate.val"><a href="#/ftruncate.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>ftruncate : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; int -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.ftruncate</code></div></div></div><div class="doc"><h2>Syncing</h2></div><div class="region" id="/fsync.val"><a href="#/fsync.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fsync : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Synchronise all data and metadata of the file descriptor with
the disk. On Windows it uses <code>FlushFileBuffers</code>.</div></div></div><div class="region" id="/fdatasync.val"><a href="#/fdatasync.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fdatasync : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Synchronise all data (but not metadata) of the file descriptor
with the disk.<br/>Note that <code>fdatasync</code> is not available on all platforms.</div></div></div><div class="doc"><h2>File status</h2></div><div class="region" id="/file_kind.typ"><a href="#/file_kind.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>file_kind = Unix.file_kind = <table><tr class="cons"><td><div class="region" id="/file_kind.typ/S_REG.cons"><a href="#/file_kind.typ/S_REG.cons" class="anchor"></a>| S_REG</div></td></tr><tr class="cons"><td><div class="region" id="/file_kind.typ/S_DIR.cons"><a href="#/file_kind.typ/S_DIR.cons" class="anchor"></a>| S_DIR</div></td></tr><tr class="cons"><td><div class="region" id="/file_kind.typ/S_CHR.cons"><a href="#/file_kind.typ/S_CHR.cons" class="anchor"></a>| S_CHR</div></td></tr><tr class="cons"><td><div class="region" id="/file_kind.typ/S_BLK.cons"><a href="#/file_kind.typ/S_BLK.cons" class="anchor"></a>| S_BLK</div></td></tr><tr class="cons"><td><div class="region" id="/file_kind.typ/S_LNK.cons"><a href="#/file_kind.typ/S_LNK.cons" class="anchor"></a>| S_LNK</div></td></tr><tr class="cons"><td><div class="region" id="/file_kind.typ/S_FIFO.cons"><a href="#/file_kind.typ/S_FIFO.cons" class="anchor"></a>| S_FIFO</div></td></tr><tr class="cons"><td><div class="region" id="/file_kind.typ/S_SOCK.cons"><a href="#/file_kind.typ/S_SOCK.cons" class="anchor"></a>| S_SOCK</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/stats.typ"><a href="#/stats.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>stats = Unix.stats = {<table><tr class="fld"><td><div class="region" id="/stats.typ/st_dev.fld"><a href="#/stats.typ/st_dev.fld" class="anchor"></a>st_dev</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/stats.typ/st_ino.fld"><a href="#/stats.typ/st_ino.fld" class="anchor"></a>st_ino</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/stats.typ/st_kind.fld"><a href="#/stats.typ/st_kind.fld" class="anchor"></a>st_kind</div></td><td> : </td><td><a href="index.html#/file_kind.typ">file_kind</a>;</td></tr><tr class="fld"><td><div class="region" id="/stats.typ/st_perm.fld"><a href="#/stats.typ/st_perm.fld" class="anchor"></a>st_perm</div></td><td> : </td><td><a href="index.html#/file_perm.typ">file_perm</a>;</td></tr><tr class="fld"><td><div class="region" id="/stats.typ/st_nlink.fld"><a href="#/stats.typ/st_nlink.fld" class="anchor"></a>st_nlink</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/stats.typ/st_uid.fld"><a href="#/stats.typ/st_uid.fld" class="anchor"></a>st_uid</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/stats.typ/st_gid.fld"><a href="#/stats.typ/st_gid.fld" class="anchor"></a>st_gid</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/stats.typ/st_rdev.fld"><a href="#/stats.typ/st_rdev.fld" class="anchor"></a>st_rdev</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/stats.typ/st_size.fld"><a href="#/stats.typ/st_size.fld" class="anchor"></a>st_size</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/stats.typ/st_atime.fld"><a href="#/stats.typ/st_atime.fld" class="anchor"></a>st_atime</div></td><td> : </td><td>float;</td></tr><tr class="fld"><td><div class="region" id="/stats.typ/st_mtime.fld"><a href="#/stats.typ/st_mtime.fld" class="anchor"></a>st_mtime</div></td><td> : </td><td>float;</td></tr><tr class="fld"><td><div class="region" id="/stats.typ/st_ctime.fld"><a href="#/stats.typ/st_ctime.fld" class="anchor"></a>st_ctime</div></td><td> : </td><td>float;</td></tr></table>}</div><div class="doc"></div></div></div><div class="region" id="/stat.val"><a href="#/stat.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>stat : string -&gt; <a href="index.html#/stats.typ">stats</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.stat</code></div></div></div><div class="region" id="/lstat.val"><a href="#/lstat.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>lstat : string -&gt; <a href="index.html#/stats.typ">stats</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.lstat</code></div></div></div><div class="region" id="/fstat.val"><a href="#/fstat.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fstat : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/stats.typ">stats</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.fstat</code></div></div></div><div class="region" id="/file_exists.val"><a href="#/file_exists.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>file_exists : string -&gt; bool <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>file_exists name</code> tests if a file named <code>name</code> exists.</div></div></div><div class="region" id="/isatty.val"><a href="#/isatty.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>isatty : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; bool <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.isatty</code></div></div></div><div class="doc"><h2>File operations on large files</h2></div><div class="region" id="/LargeFile"><a href="#/LargeFile" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="LargeFile/index.html">LargeFile</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></div><div class="doc"></div></div></div><div class="doc"><h2>Operations on file names</h2></div><div class="region" id="/unlink.val"><a href="#/unlink.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>unlink : string -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.unlink</code></div></div></div><div class="region" id="/rename.val"><a href="#/rename.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rename : string -&gt; string -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.rename</code></div></div></div><div class="region" id="/link.val"><a href="#/link.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>link : string -&gt; string -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.link</code></div></div></div><div class="doc"><h2>File permissions and ownership</h2></div><div class="region" id="/chmod.val"><a href="#/chmod.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>chmod : string -&gt; <a href="index.html#/file_perm.typ">file_perm</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.chmod</code></div></div></div><div class="region" id="/fchmod.val"><a href="#/fchmod.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fchmod : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/file_perm.typ">file_perm</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.fchmod</code></div></div></div><div class="region" id="/chown.val"><a href="#/chown.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>chown : string -&gt; int -&gt; int -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.chown</code></div></div></div><div class="region" id="/fchown.val"><a href="#/fchown.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fchown : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; int -&gt; int -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.fchown</code></div></div></div><div class="region" id="/access_permission.typ"><a href="#/access_permission.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>access_permission = Unix.access_permission = <table><tr class="cons"><td><div class="region" id="/access_permission.typ/R_OK.cons"><a href="#/access_permission.typ/R_OK.cons" class="anchor"></a>| R_OK</div></td></tr><tr class="cons"><td><div class="region" id="/access_permission.typ/W_OK.cons"><a href="#/access_permission.typ/W_OK.cons" class="anchor"></a>| W_OK</div></td></tr><tr class="cons"><td><div class="region" id="/access_permission.typ/X_OK.cons"><a href="#/access_permission.typ/X_OK.cons" class="anchor"></a>| X_OK</div></td></tr><tr class="cons"><td><div class="region" id="/access_permission.typ/F_OK.cons"><a href="#/access_permission.typ/F_OK.cons" class="anchor"></a>| F_OK</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/access.val"><a href="#/access.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>access : string -&gt; <a href="index.html#/access_permission.typ">access_permission</a> list -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.access</code></div></div></div><div class="doc"><h2>Operations on file descriptors</h2></div><div class="region" id="/dup.val"><a href="#/dup.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>dup : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/file_descr.typ">file_descr</a></div><div class="doc">Wrapper for <code>Unix.dup</code></div></div></div><div class="region" id="/dup2.val"><a href="#/dup2.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>dup2 : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/file_descr.typ">file_descr</a> -&gt; unit</div><div class="doc">Wrapper for <code>Unix.dup2</code></div></div></div><div class="region" id="/set_close_on_exec.val"><a href="#/set_close_on_exec.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>set_close_on_exec : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; unit</div><div class="doc">Wrapper for <code>Unix.set_close_on_exec</code></div></div></div><div class="region" id="/clear_close_on_exec.val"><a href="#/clear_close_on_exec.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>clear_close_on_exec : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; unit</div><div class="doc">Wrapper for <code>Unix.clear_close_on_exec</code></div></div></div><div class="doc"><h2>Directories</h2></div><div class="region" id="/mkdir.val"><a href="#/mkdir.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>mkdir : string -&gt; <a href="index.html#/file_perm.typ">file_perm</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.mkdir</code></div></div></div><div class="region" id="/rmdir.val"><a href="#/rmdir.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rmdir : string -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.rmdir</code></div></div></div><div class="region" id="/chdir.val"><a href="#/chdir.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>chdir : string -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.chdir</code></div></div></div><div class="region" id="/chroot.val"><a href="#/chroot.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>chroot : string -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.chroot</code></div></div></div><div class="region" id="/dir_handle.typ"><a href="#/dir_handle.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>dir_handle = Unix.dir_handle</div><div class="doc"></div></div></div><div class="region" id="/opendir.val"><a href="#/opendir.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>opendir : string -&gt; <a href="index.html#/dir_handle.typ">dir_handle</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.opendir</code></div></div></div><div class="region" id="/readdir.val"><a href="#/readdir.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>readdir : <a href="index.html#/dir_handle.typ">dir_handle</a> -&gt; string <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.readdir</code>.</div></div></div><div class="region" id="/readdir_n.val"><a href="#/readdir_n.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>readdir_n : <a href="index.html#/dir_handle.typ">dir_handle</a> -&gt; int -&gt; string array <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>readdir_n handle count</code> reads at most <code>count</code> entry from the
given directory. It is more efficient than calling <code>readdir</code>
<code>count</code> times. If the length of the returned array is smaller
than <code>count</code>, this means that the end of the directory has been
reached.</div></div></div><div class="region" id="/rewinddir.val"><a href="#/rewinddir.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rewinddir : <a href="index.html#/dir_handle.typ">dir_handle</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.rewinddir</code></div></div></div><div class="region" id="/closedir.val"><a href="#/closedir.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>closedir : <a href="index.html#/dir_handle.typ">dir_handle</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.closedir</code></div></div></div><div class="region" id="/files_of_directory.val"><a href="#/files_of_directory.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>files_of_directory : string -&gt; string <a href="../Lwt_stream/index.html#/t.typ">Lwt_stream.t</a></div><div class="doc"><code>files_of_directory dir</code> returns the stream of all files of
<code>dir</code>.</div></div></div><div class="doc"><h2>Pipes and redirections</h2></div><div class="region" id="/pipe.val"><a href="#/pipe.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>pipe : unit -&gt; <a href="index.html#/file_descr.typ">file_descr</a> * <a href="index.html#/file_descr.typ">file_descr</a></div><div class="doc"><code>pipe ()</code> creates pipe using <code>Unix.pipe</code> and returns two lwt <span style="font-weight: bold">file descriptor</span>s created from unix <span style="font-weight: bold">file_descriptor</span></div></div></div><div class="region" id="/pipe_in.val"><a href="#/pipe_in.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>pipe_in : unit -&gt; <a href="index.html#/file_descr.typ">file_descr</a> * Unix.file_descr</div><div class="doc"><code>pipe_in ()</code> is the same as pipe but maps only the unix <span style="font-weight: bold">file descriptor</span> for reading into a lwt one. The second is not
put into non-blocking mode. You usually want to use this before
forking to receive data from the child process.</div></div></div><div class="region" id="/pipe_out.val"><a href="#/pipe_out.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>pipe_out : unit -&gt; Unix.file_descr * <a href="index.html#/file_descr.typ">file_descr</a></div><div class="doc"><code>pipe_out ()</code> is the inverse of pipe_in. You usually want to
use this before forking to send data to the child process</div></div></div><div class="region" id="/mkfifo.val"><a href="#/mkfifo.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>mkfifo : string -&gt; <a href="index.html#/file_perm.typ">file_perm</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.mkfifo</code></div></div></div><div class="doc"><h2>Symbolic links</h2></div><div class="region" id="/symlink.val"><a href="#/symlink.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>symlink : string -&gt; string -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.symlink</code></div></div></div><div class="region" id="/readlink.val"><a href="#/readlink.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>readlink : string -&gt; string <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.readlink</code></div></div></div><div class="doc"><h2>Locking</h2></div><div class="region" id="/lock_command.typ"><a href="#/lock_command.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>lock_command = Unix.lock_command = <table><tr class="cons"><td><div class="region" id="/lock_command.typ/F_ULOCK.cons"><a href="#/lock_command.typ/F_ULOCK.cons" class="anchor"></a>| F_ULOCK</div></td></tr><tr class="cons"><td><div class="region" id="/lock_command.typ/F_LOCK.cons"><a href="#/lock_command.typ/F_LOCK.cons" class="anchor"></a>| F_LOCK</div></td></tr><tr class="cons"><td><div class="region" id="/lock_command.typ/F_TLOCK.cons"><a href="#/lock_command.typ/F_TLOCK.cons" class="anchor"></a>| F_TLOCK</div></td></tr><tr class="cons"><td><div class="region" id="/lock_command.typ/F_TEST.cons"><a href="#/lock_command.typ/F_TEST.cons" class="anchor"></a>| F_TEST</div></td></tr><tr class="cons"><td><div class="region" id="/lock_command.typ/F_RLOCK.cons"><a href="#/lock_command.typ/F_RLOCK.cons" class="anchor"></a>| F_RLOCK</div></td></tr><tr class="cons"><td><div class="region" id="/lock_command.typ/F_TRLOCK.cons"><a href="#/lock_command.typ/F_TRLOCK.cons" class="anchor"></a>| F_TRLOCK</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/lockf.val"><a href="#/lockf.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>lockf : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/lock_command.typ">lock_command</a> -&gt; int -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.lockf</code></div></div></div><div class="doc"><h2>User id, group id</h2></div><div class="region" id="/passwd_entry.typ"><a href="#/passwd_entry.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>passwd_entry = Unix.passwd_entry = {<table><tr class="fld"><td><div class="region" id="/passwd_entry.typ/pw_name.fld"><a href="#/passwd_entry.typ/pw_name.fld" class="anchor"></a>pw_name</div></td><td> : </td><td>string;</td></tr><tr class="fld"><td><div class="region" id="/passwd_entry.typ/pw_passwd.fld"><a href="#/passwd_entry.typ/pw_passwd.fld" class="anchor"></a>pw_passwd</div></td><td> : </td><td>string;</td></tr><tr class="fld"><td><div class="region" id="/passwd_entry.typ/pw_uid.fld"><a href="#/passwd_entry.typ/pw_uid.fld" class="anchor"></a>pw_uid</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/passwd_entry.typ/pw_gid.fld"><a href="#/passwd_entry.typ/pw_gid.fld" class="anchor"></a>pw_gid</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/passwd_entry.typ/pw_gecos.fld"><a href="#/passwd_entry.typ/pw_gecos.fld" class="anchor"></a>pw_gecos</div></td><td> : </td><td>string;</td></tr><tr class="fld"><td><div class="region" id="/passwd_entry.typ/pw_dir.fld"><a href="#/passwd_entry.typ/pw_dir.fld" class="anchor"></a>pw_dir</div></td><td> : </td><td>string;</td></tr><tr class="fld"><td><div class="region" id="/passwd_entry.typ/pw_shell.fld"><a href="#/passwd_entry.typ/pw_shell.fld" class="anchor"></a>pw_shell</div></td><td> : </td><td>string;</td></tr></table>}</div><div class="doc"></div></div></div><div class="region" id="/group_entry.typ"><a href="#/group_entry.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>group_entry = Unix.group_entry = {<table><tr class="fld"><td><div class="region" id="/group_entry.typ/gr_name.fld"><a href="#/group_entry.typ/gr_name.fld" class="anchor"></a>gr_name</div></td><td> : </td><td>string;</td></tr><tr class="fld"><td><div class="region" id="/group_entry.typ/gr_passwd.fld"><a href="#/group_entry.typ/gr_passwd.fld" class="anchor"></a>gr_passwd</div></td><td> : </td><td>string;</td></tr><tr class="fld"><td><div class="region" id="/group_entry.typ/gr_gid.fld"><a href="#/group_entry.typ/gr_gid.fld" class="anchor"></a>gr_gid</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/group_entry.typ/gr_mem.fld"><a href="#/group_entry.typ/gr_mem.fld" class="anchor"></a>gr_mem</div></td><td> : </td><td>string array;</td></tr></table>}</div><div class="doc"></div></div></div><div class="region" id="/getlogin.val"><a href="#/getlogin.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getlogin : unit -&gt; string <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.getlogin</code></div></div></div><div class="region" id="/getpwnam.val"><a href="#/getpwnam.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getpwnam : string -&gt; <a href="index.html#/passwd_entry.typ">passwd_entry</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.getpwnam</code></div></div></div><div class="region" id="/getgrnam.val"><a href="#/getgrnam.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getgrnam : string -&gt; <a href="index.html#/group_entry.typ">group_entry</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.getgrnam</code></div></div></div><div class="region" id="/getpwuid.val"><a href="#/getpwuid.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getpwuid : int -&gt; <a href="index.html#/passwd_entry.typ">passwd_entry</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.getpwuid</code></div></div></div><div class="region" id="/getgrgid.val"><a href="#/getgrgid.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getgrgid : int -&gt; <a href="index.html#/group_entry.typ">group_entry</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.getgrgid</code></div></div></div><div class="doc"><h2>Signals</h2></div><div class="region" id="/signal_handler_id.typ"><a href="#/signal_handler_id.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>signal_handler_id</div><div class="doc">Id of a signal handler, used to cancel it</div></div></div><div class="region" id="/on_signal.val"><a href="#/on_signal.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>on_signal : int -&gt; (int -&gt; unit) -&gt; <a href="index.html#/signal_handler_id.typ">signal_handler_id</a></div><div class="doc"><code>on_signal signum f</code> calls <code>f</code> each time the signal with numnber
<code>signum</code> is received by the process. It returns a signal handler
identifier that can be used to stop monitoring <code>signum</code>.</div></div></div><div class="region" id="/on_signal_full.val"><a href="#/on_signal_full.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>on_signal_full : int -&gt; (<a href="index.html#/signal_handler_id.typ">signal_handler_id</a> -&gt; int -&gt; unit) -&gt; <a href="index.html#/signal_handler_id.typ">signal_handler_id</a></div><div class="doc"><code>on_signal_full f</code> is the same as <code>on_signal f</code> except that <code>f</code>
also receive the signal handler identifier as argument so it can
disable it.</div></div></div><div class="region" id="/disable_signal_handler.val"><a href="#/disable_signal_handler.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>disable_signal_handler : <a href="index.html#/signal_handler_id.typ">signal_handler_id</a> -&gt; unit</div><div class="doc">Stops receiving this signal</div></div></div><div class="region" id="/signal_count.val"><a href="#/signal_count.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>signal_count : unit -&gt; int</div><div class="doc">Returns the number of registered signal handler.</div></div></div><div class="region" id="/reinstall_signal_handler.val"><a href="#/reinstall_signal_handler.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>reinstall_signal_handler : int -&gt; unit</div><div class="doc"><code>reinstall_signal_handler signum</code> if any signal handler is
registered for this signal with on_signal, it reinstall the
signal handler (with <code>Sys.set_signal</code>). This is usefull in case
another part of the program install another signal handler.</div></div></div><div class="doc"><h2>Sockets</h2></div><div class="region" id="/inet_addr.typ"><a href="#/inet_addr.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>inet_addr = Unix.inet_addr</div><div class="doc"></div></div></div><div class="region" id="/socket_domain.typ"><a href="#/socket_domain.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>socket_domain = Unix.socket_domain = <table><tr class="cons"><td><div class="region" id="/socket_domain.typ/PF_UNIX.cons"><a href="#/socket_domain.typ/PF_UNIX.cons" class="anchor"></a>| PF_UNIX</div></td></tr><tr class="cons"><td><div class="region" id="/socket_domain.typ/PF_INET.cons"><a href="#/socket_domain.typ/PF_INET.cons" class="anchor"></a>| PF_INET</div></td></tr><tr class="cons"><td><div class="region" id="/socket_domain.typ/PF_INET6.cons"><a href="#/socket_domain.typ/PF_INET6.cons" class="anchor"></a>| PF_INET6</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/socket_type.typ"><a href="#/socket_type.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>socket_type = Unix.socket_type = <table><tr class="cons"><td><div class="region" id="/socket_type.typ/SOCK_STREAM.cons"><a href="#/socket_type.typ/SOCK_STREAM.cons" class="anchor"></a>| SOCK_STREAM</div></td></tr><tr class="cons"><td><div class="region" id="/socket_type.typ/SOCK_DGRAM.cons"><a href="#/socket_type.typ/SOCK_DGRAM.cons" class="anchor"></a>| SOCK_DGRAM</div></td></tr><tr class="cons"><td><div class="region" id="/socket_type.typ/SOCK_RAW.cons"><a href="#/socket_type.typ/SOCK_RAW.cons" class="anchor"></a>| SOCK_RAW</div></td></tr><tr class="cons"><td><div class="region" id="/socket_type.typ/SOCK_SEQPACKET.cons"><a href="#/socket_type.typ/SOCK_SEQPACKET.cons" class="anchor"></a>| SOCK_SEQPACKET</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/sockaddr.typ"><a href="#/sockaddr.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>sockaddr = Unix.sockaddr = <table><tr class="cons"><td><div class="region" id="/sockaddr.typ/ADDR_UNIX.cons"><a href="#/sockaddr.typ/ADDR_UNIX.cons" class="anchor"></a>| ADDR_UNIX of string</div></td></tr><tr class="cons"><td><div class="region" id="/sockaddr.typ/ADDR_INET.cons"><a href="#/sockaddr.typ/ADDR_INET.cons" class="anchor"></a>| ADDR_INET of <a href="index.html#/inet_addr.typ">inet_addr</a> * int</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/socket.val"><a href="#/socket.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>socket : <a href="index.html#/socket_domain.typ">socket_domain</a> -&gt; <a href="index.html#/socket_type.typ">socket_type</a> -&gt; int -&gt; <a href="index.html#/file_descr.typ">file_descr</a></div><div class="doc"><code>socket domain type proto</code> is the same as <code>Unix.socket</code> but maps
the result into a lwt <span style="font-weight: bold">file descriptor</span></div></div></div><div class="region" id="/socketpair.val"><a href="#/socketpair.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>socketpair : <a href="index.html#/socket_domain.typ">socket_domain</a> -&gt; <a href="index.html#/socket_type.typ">socket_type</a> -&gt; int -&gt; <a href="index.html#/file_descr.typ">file_descr</a> * <a href="index.html#/file_descr.typ">file_descr</a></div><div class="doc">Wrapper for <code>Unix.socketpair</code></div></div></div><div class="region" id="/bind.val"><a href="#/bind.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>bind : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/sockaddr.typ">sockaddr</a> -&gt; unit</div><div class="doc">Wrapper for <code>Unix.bind</code></div></div></div><div class="region" id="/listen.val"><a href="#/listen.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>listen : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; int -&gt; unit</div><div class="doc">Wrapper for <code>Unix.listen</code></div></div></div><div class="region" id="/accept.val"><a href="#/accept.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>accept : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; (<a href="index.html#/file_descr.typ">file_descr</a> * <a href="index.html#/sockaddr.typ">sockaddr</a>) <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.accept</code></div></div></div><div class="region" id="/accept_n.val"><a href="#/accept_n.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>accept_n : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; int -&gt; ((<a href="index.html#/file_descr.typ">file_descr</a> * <a href="index.html#/sockaddr.typ">sockaddr</a>) list * exn option) <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>accept_n fd count</code> accepts up to <code>count</code> connections at one time.<br/><ul><li>if no connection is available right now, it returns a sleeping
thread</li></ul><ul><li>if more than 1 and less than <code>count</code> are available, it returns
all of them</li></ul><ul><li>if more than <code>count</code> are available, it returns the next
<code>count</code> of them</li></ul><ul><li>if an error happens, it returns the connections that have been
successfully accepted so far and the error</li></ul><code>accept_n</code> has the advantage of improving performance. If you
want a more detailed description, you can have a look at:<br/><a href="http://portal.acm.org/citation.cfm?id=1247435">Acceptable strategies for improving web server performance</a></div></div></div><div class="region" id="/connect.val"><a href="#/connect.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>connect : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/sockaddr.typ">sockaddr</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.connect</code></div></div></div><div class="region" id="/shutdown_command.typ"><a href="#/shutdown_command.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>shutdown_command = Unix.shutdown_command = <table><tr class="cons"><td><div class="region" id="/shutdown_command.typ/SHUTDOWN_RECEIVE.cons"><a href="#/shutdown_command.typ/SHUTDOWN_RECEIVE.cons" class="anchor"></a>| SHUTDOWN_RECEIVE</div></td></tr><tr class="cons"><td><div class="region" id="/shutdown_command.typ/SHUTDOWN_SEND.cons"><a href="#/shutdown_command.typ/SHUTDOWN_SEND.cons" class="anchor"></a>| SHUTDOWN_SEND</div></td></tr><tr class="cons"><td><div class="region" id="/shutdown_command.typ/SHUTDOWN_ALL.cons"><a href="#/shutdown_command.typ/SHUTDOWN_ALL.cons" class="anchor"></a>| SHUTDOWN_ALL</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/shutdown.val"><a href="#/shutdown.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>shutdown : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/shutdown_command.typ">shutdown_command</a> -&gt; unit</div><div class="doc">Wrapper for <code>Unix.shutdown</code></div></div></div><div class="region" id="/getsockname.val"><a href="#/getsockname.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getsockname : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/sockaddr.typ">sockaddr</a></div><div class="doc">Wrapper for <code>Unix.getsockname</code></div></div></div><div class="region" id="/getpeername.val"><a href="#/getpeername.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getpeername : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/sockaddr.typ">sockaddr</a></div><div class="doc">Wrapper for <code>Unix.getpeername</code></div></div></div><div class="region" id="/msg_flag.typ"><a href="#/msg_flag.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>msg_flag = Unix.msg_flag = <table><tr class="cons"><td><div class="region" id="/msg_flag.typ/MSG_OOB.cons"><a href="#/msg_flag.typ/MSG_OOB.cons" class="anchor"></a>| MSG_OOB</div></td></tr><tr class="cons"><td><div class="region" id="/msg_flag.typ/MSG_DONTROUTE.cons"><a href="#/msg_flag.typ/MSG_DONTROUTE.cons" class="anchor"></a>| MSG_DONTROUTE</div></td></tr><tr class="cons"><td><div class="region" id="/msg_flag.typ/MSG_PEEK.cons"><a href="#/msg_flag.typ/MSG_PEEK.cons" class="anchor"></a>| MSG_PEEK</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/recv.val"><a href="#/recv.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>recv : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="../../ocaml/Bytes/index.html#/t.typ">Bytes.t</a> -&gt; int -&gt; int -&gt; <a href="index.html#/msg_flag.typ">msg_flag</a> list -&gt; int <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.recv</code></div></div></div><div class="region" id="/recvfrom.val"><a href="#/recvfrom.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>recvfrom : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="../../ocaml/Bytes/index.html#/t.typ">Bytes.t</a> -&gt; int -&gt; int -&gt; <a href="index.html#/msg_flag.typ">msg_flag</a> list -&gt; (int * <a href="index.html#/sockaddr.typ">sockaddr</a>) <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.recvfrom</code></div></div></div><div class="region" id="/send.val"><a href="#/send.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>send : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="../../ocaml/Bytes/index.html#/t.typ">Bytes.t</a> -&gt; int -&gt; int -&gt; <a href="index.html#/msg_flag.typ">msg_flag</a> list -&gt; int <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.send</code></div></div></div><div class="region" id="/sendto.val"><a href="#/sendto.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>sendto : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="../../ocaml/Bytes/index.html#/t.typ">Bytes.t</a> -&gt; int -&gt; int -&gt; <a href="index.html#/msg_flag.typ">msg_flag</a> list -&gt; <a href="index.html#/sockaddr.typ">sockaddr</a> -&gt; int <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.sendto</code></div></div></div><div class="region" id="/io_vector.typ"><a href="#/io_vector.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>io_vector = {<table><tr class="fld"><td><div class="region" id="/io_vector.typ/iov_buffer.fld"><a href="#/io_vector.typ/iov_buffer.fld" class="anchor"></a>iov_buffer</div></td><td> : </td><td>string;</td></tr><tr class="fld"><td><div class="region" id="/io_vector.typ/iov_offset.fld"><a href="#/io_vector.typ/iov_offset.fld" class="anchor"></a>iov_offset</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/io_vector.typ/iov_length.fld"><a href="#/io_vector.typ/iov_length.fld" class="anchor"></a>iov_length</div></td><td> : </td><td>int;</td></tr></table>}</div><div class="doc">An io-vector. Used by recv_msg and send_msg.</div></div></div><div class="region" id="/io_vector.val"><a href="#/io_vector.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>io_vector : buffer:string -&gt; offset:int -&gt; length:int -&gt; <a href="index.html#/io_vector.typ">io_vector</a></div><div class="doc">Creates an io-vector</div></div></div><div class="region" id="/recv_msg.val"><a href="#/recv_msg.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>recv_msg : socket:<a href="index.html#/file_descr.typ">file_descr</a> -&gt; io_vectors:<a href="index.html#/io_vector.typ">io_vector</a> list -&gt; (int * Unix.file_descr list) <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>recv_msg ~socket ~io_vectors</code> receives data into a list of
io-vectors, plus any file-descriptors that may accompany the
messages. It returns a tuple whose first field is the number of
bytes received and second is a list of received file
descriptors. The messages themselves will be recorded in the
provided <code>io_vectors</code> list.<br/>This call is not available on windows.</div></div></div><div class="region" id="/send_msg.val"><a href="#/send_msg.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>send_msg : socket:<a href="index.html#/file_descr.typ">file_descr</a> -&gt; io_vectors:<a href="index.html#/io_vector.typ">io_vector</a> list -&gt; fds:Unix.file_descr list -&gt; int <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>send_msg ~socket ~io_vectors ~fds</code> sends data from a list of
io-vectors, accompanied with a list of file-descriptors. It
returns the number of bytes sent. If fd-passing is not possible on
the current system and <code>fds</code> is not empty, it raises
<code>Lwt_sys.Not_available &quot;fd_passing&quot;</code>.<br/>This call is not available on windows.</div></div></div><div class="region" id="/credentials.typ"><a href="#/credentials.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>credentials = {<table><tr class="fld"><td><div class="region" id="/credentials.typ/cred_pid.fld"><a href="#/credentials.typ/cred_pid.fld" class="anchor"></a>cred_pid</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/credentials.typ/cred_uid.fld"><a href="#/credentials.typ/cred_uid.fld" class="anchor"></a>cred_uid</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/credentials.typ/cred_gid.fld"><a href="#/credentials.typ/cred_gid.fld" class="anchor"></a>cred_gid</div></td><td> : </td><td>int;</td></tr></table>}</div><div class="doc"></div></div></div><div class="region" id="/get_credentials.val"><a href="#/get_credentials.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>get_credentials : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/credentials.typ">credentials</a></div><div class="doc"><code>get_credentials fd</code> returns credentials information from the
given socket. On some platforms, obtaining the peer pid is not
possible and it will be set to <code>-1</code>. If obtaining credentials
is not possible on the current system, it raises
<code>Lwt_sys.Not_available &quot;get_credentials&quot;</code>.<br/>This call is not available on windows.</div></div></div><div class="doc"><h3>Socket options</h3></div><div class="region" id="/socket_bool_option.typ"><a href="#/socket_bool_option.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>socket_bool_option = Unix.socket_bool_option = <table><tr class="cons"><td><div class="region" id="/socket_bool_option.typ/SO_DEBUG.cons"><a href="#/socket_bool_option.typ/SO_DEBUG.cons" class="anchor"></a>| SO_DEBUG</div></td></tr><tr class="cons"><td><div class="region" id="/socket_bool_option.typ/SO_BROADCAST.cons"><a href="#/socket_bool_option.typ/SO_BROADCAST.cons" class="anchor"></a>| SO_BROADCAST</div></td></tr><tr class="cons"><td><div class="region" id="/socket_bool_option.typ/SO_REUSEADDR.cons"><a href="#/socket_bool_option.typ/SO_REUSEADDR.cons" class="anchor"></a>| SO_REUSEADDR</div></td></tr><tr class="cons"><td><div class="region" id="/socket_bool_option.typ/SO_KEEPALIVE.cons"><a href="#/socket_bool_option.typ/SO_KEEPALIVE.cons" class="anchor"></a>| SO_KEEPALIVE</div></td></tr><tr class="cons"><td><div class="region" id="/socket_bool_option.typ/SO_DONTROUTE.cons"><a href="#/socket_bool_option.typ/SO_DONTROUTE.cons" class="anchor"></a>| SO_DONTROUTE</div></td></tr><tr class="cons"><td><div class="region" id="/socket_bool_option.typ/SO_OOBINLINE.cons"><a href="#/socket_bool_option.typ/SO_OOBINLINE.cons" class="anchor"></a>| SO_OOBINLINE</div></td></tr><tr class="cons"><td><div class="region" id="/socket_bool_option.typ/SO_ACCEPTCONN.cons"><a href="#/socket_bool_option.typ/SO_ACCEPTCONN.cons" class="anchor"></a>| SO_ACCEPTCONN</div></td></tr><tr class="cons"><td><div class="region" id="/socket_bool_option.typ/TCP_NODELAY.cons"><a href="#/socket_bool_option.typ/TCP_NODELAY.cons" class="anchor"></a>| TCP_NODELAY</div></td></tr><tr class="cons"><td><div class="region" id="/socket_bool_option.typ/IPV6_ONLY.cons"><a href="#/socket_bool_option.typ/IPV6_ONLY.cons" class="anchor"></a>| IPV6_ONLY</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/socket_int_option.typ"><a href="#/socket_int_option.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>socket_int_option = Unix.socket_int_option = <table><tr class="cons"><td><div class="region" id="/socket_int_option.typ/SO_SNDBUF.cons"><a href="#/socket_int_option.typ/SO_SNDBUF.cons" class="anchor"></a>| SO_SNDBUF</div></td></tr><tr class="cons"><td><div class="region" id="/socket_int_option.typ/SO_RCVBUF.cons"><a href="#/socket_int_option.typ/SO_RCVBUF.cons" class="anchor"></a>| SO_RCVBUF</div></td></tr><tr class="cons"><td><div class="region" id="/socket_int_option.typ/SO_ERROR.cons"><a href="#/socket_int_option.typ/SO_ERROR.cons" class="anchor"></a>| SO_ERROR</div></td></tr><tr class="cons"><td><div class="region" id="/socket_int_option.typ/SO_TYPE.cons"><a href="#/socket_int_option.typ/SO_TYPE.cons" class="anchor"></a>| SO_TYPE</div></td></tr><tr class="cons"><td><div class="region" id="/socket_int_option.typ/SO_RCVLOWAT.cons"><a href="#/socket_int_option.typ/SO_RCVLOWAT.cons" class="anchor"></a>| SO_RCVLOWAT</div></td></tr><tr class="cons"><td><div class="region" id="/socket_int_option.typ/SO_SNDLOWAT.cons"><a href="#/socket_int_option.typ/SO_SNDLOWAT.cons" class="anchor"></a>| SO_SNDLOWAT</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/socket_optint_option.typ"><a href="#/socket_optint_option.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>socket_optint_option = Unix.socket_optint_option = <table><tr class="cons"><td><div class="region" id="/socket_optint_option.typ/SO_LINGER.cons"><a href="#/socket_optint_option.typ/SO_LINGER.cons" class="anchor"></a>| SO_LINGER</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/socket_float_option.typ"><a href="#/socket_float_option.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>socket_float_option = Unix.socket_float_option = <table><tr class="cons"><td><div class="region" id="/socket_float_option.typ/SO_RCVTIMEO.cons"><a href="#/socket_float_option.typ/SO_RCVTIMEO.cons" class="anchor"></a>| SO_RCVTIMEO</div></td></tr><tr class="cons"><td><div class="region" id="/socket_float_option.typ/SO_SNDTIMEO.cons"><a href="#/socket_float_option.typ/SO_SNDTIMEO.cons" class="anchor"></a>| SO_SNDTIMEO</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/getsockopt.val"><a href="#/getsockopt.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getsockopt : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/socket_bool_option.typ">socket_bool_option</a> -&gt; bool</div><div class="doc">Wrapper for <code>Unix.getsockopt</code></div></div></div><div class="region" id="/setsockopt.val"><a href="#/setsockopt.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>setsockopt : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/socket_bool_option.typ">socket_bool_option</a> -&gt; bool -&gt; unit</div><div class="doc">Wrapper for <code>Unix.setsockopt</code></div></div></div><div class="region" id="/getsockopt_int.val"><a href="#/getsockopt_int.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getsockopt_int : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/socket_int_option.typ">socket_int_option</a> -&gt; int</div><div class="doc">Wrapper for <code>Unix.getsockopt_int</code></div></div></div><div class="region" id="/setsockopt_int.val"><a href="#/setsockopt_int.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>setsockopt_int : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/socket_int_option.typ">socket_int_option</a> -&gt; int -&gt; unit</div><div class="doc">Wrapper for <code>Unix.setsockopt_int</code></div></div></div><div class="region" id="/getsockopt_optint.val"><a href="#/getsockopt_optint.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getsockopt_optint : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/socket_optint_option.typ">socket_optint_option</a> -&gt; int option</div><div class="doc">Wrapper for <code>Unix.getsockopt_optint</code></div></div></div><div class="region" id="/setsockopt_optint.val"><a href="#/setsockopt_optint.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>setsockopt_optint : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/socket_optint_option.typ">socket_optint_option</a> -&gt; int option -&gt; unit</div><div class="doc">Wrapper for <code>Unix.setsockopt_optint</code></div></div></div><div class="region" id="/getsockopt_float.val"><a href="#/getsockopt_float.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getsockopt_float : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/socket_float_option.typ">socket_float_option</a> -&gt; float</div><div class="doc">Wrapper for <code>Unix.getsockopt_float</code></div></div></div><div class="region" id="/setsockopt_float.val"><a href="#/setsockopt_float.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>setsockopt_float : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/socket_float_option.typ">socket_float_option</a> -&gt; float -&gt; unit</div><div class="doc">Wrapper for <code>Unix.setsockopt_float</code></div></div></div><div class="region" id="/getsockopt_error.val"><a href="#/getsockopt_error.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getsockopt_error : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; Unix.error option</div><div class="doc">Wrapper for <code>Unix.getsockopt_error</code></div></div></div><div class="doc"><h3>Multicast functions</h3></div><div class="region" id="/mcast_set_loop.val"><a href="#/mcast_set_loop.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>mcast_set_loop : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; bool -&gt; unit</div><div class="doc">Whether sent multicast messages are received by the sending host</div></div></div><div class="region" id="/mcast_set_ttl.val"><a href="#/mcast_set_ttl.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>mcast_set_ttl : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; int -&gt; unit</div><div class="doc">Set TTL/hops value</div></div></div><div class="region" id="/mcast_add_membership.val"><a href="#/mcast_add_membership.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>mcast_add_membership : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; ?ifname:Unix.inet_addr -&gt; Unix.inet_addr -&gt; unit</div><div class="doc"><code>mcast_add_membership fd ~ifname addr</code> joins the multicast group <code>addr</code>
on the network interface <code>ifname</code>.</div></div></div><div class="region" id="/mcast_drop_membership.val"><a href="#/mcast_drop_membership.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>mcast_drop_membership : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; ?ifname:Unix.inet_addr -&gt; Unix.inet_addr -&gt; unit</div><div class="doc"><code>mcast_drop_membership fd ~ifname addr</code> leaves the multicast group <code>addr</code>
on the network interface <code>ifname</code>.</div></div></div><div class="doc"><h2>Host and protocol databases</h2></div><div class="region" id="/host_entry.typ"><a href="#/host_entry.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>host_entry = Unix.host_entry = {<table><tr class="fld"><td><div class="region" id="/host_entry.typ/h_name.fld"><a href="#/host_entry.typ/h_name.fld" class="anchor"></a>h_name</div></td><td> : </td><td>string;</td></tr><tr class="fld"><td><div class="region" id="/host_entry.typ/h_aliases.fld"><a href="#/host_entry.typ/h_aliases.fld" class="anchor"></a>h_aliases</div></td><td> : </td><td>string array;</td></tr><tr class="fld"><td><div class="region" id="/host_entry.typ/h_addrtype.fld"><a href="#/host_entry.typ/h_addrtype.fld" class="anchor"></a>h_addrtype</div></td><td> : </td><td><a href="index.html#/socket_domain.typ">socket_domain</a>;</td></tr><tr class="fld"><td><div class="region" id="/host_entry.typ/h_addr_list.fld"><a href="#/host_entry.typ/h_addr_list.fld" class="anchor"></a>h_addr_list</div></td><td> : </td><td><a href="index.html#/inet_addr.typ">inet_addr</a> array;</td></tr></table>}</div><div class="doc"></div></div></div><div class="region" id="/protocol_entry.typ"><a href="#/protocol_entry.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>protocol_entry = Unix.protocol_entry = {<table><tr class="fld"><td><div class="region" id="/protocol_entry.typ/p_name.fld"><a href="#/protocol_entry.typ/p_name.fld" class="anchor"></a>p_name</div></td><td> : </td><td>string;</td></tr><tr class="fld"><td><div class="region" id="/protocol_entry.typ/p_aliases.fld"><a href="#/protocol_entry.typ/p_aliases.fld" class="anchor"></a>p_aliases</div></td><td> : </td><td>string array;</td></tr><tr class="fld"><td><div class="region" id="/protocol_entry.typ/p_proto.fld"><a href="#/protocol_entry.typ/p_proto.fld" class="anchor"></a>p_proto</div></td><td> : </td><td>int;</td></tr></table>}</div><div class="doc"></div></div></div><div class="region" id="/service_entry.typ"><a href="#/service_entry.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>service_entry = Unix.service_entry = {<table><tr class="fld"><td><div class="region" id="/service_entry.typ/s_name.fld"><a href="#/service_entry.typ/s_name.fld" class="anchor"></a>s_name</div></td><td> : </td><td>string;</td></tr><tr class="fld"><td><div class="region" id="/service_entry.typ/s_aliases.fld"><a href="#/service_entry.typ/s_aliases.fld" class="anchor"></a>s_aliases</div></td><td> : </td><td>string array;</td></tr><tr class="fld"><td><div class="region" id="/service_entry.typ/s_port.fld"><a href="#/service_entry.typ/s_port.fld" class="anchor"></a>s_port</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/service_entry.typ/s_proto.fld"><a href="#/service_entry.typ/s_proto.fld" class="anchor"></a>s_proto</div></td><td> : </td><td>string;</td></tr></table>}</div><div class="doc"></div></div></div><div class="region" id="/gethostname.val"><a href="#/gethostname.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>gethostname : unit -&gt; string <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.gethostname</code></div></div></div><div class="region" id="/gethostbyname.val"><a href="#/gethostbyname.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>gethostbyname : string -&gt; <a href="index.html#/host_entry.typ">host_entry</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.gethostbyname</code></div></div></div><div class="region" id="/gethostbyaddr.val"><a href="#/gethostbyaddr.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>gethostbyaddr : <a href="index.html#/inet_addr.typ">inet_addr</a> -&gt; <a href="index.html#/host_entry.typ">host_entry</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.gethostbyaddr</code></div></div></div><div class="region" id="/getprotobyname.val"><a href="#/getprotobyname.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getprotobyname : string -&gt; <a href="index.html#/protocol_entry.typ">protocol_entry</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.getprotobyname</code></div></div></div><div class="region" id="/getprotobynumber.val"><a href="#/getprotobynumber.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getprotobynumber : int -&gt; <a href="index.html#/protocol_entry.typ">protocol_entry</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.getprotobynumber</code></div></div></div><div class="region" id="/getservbyname.val"><a href="#/getservbyname.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getservbyname : string -&gt; string -&gt; <a href="index.html#/service_entry.typ">service_entry</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.getservbyname</code></div></div></div><div class="region" id="/getservbyport.val"><a href="#/getservbyport.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getservbyport : int -&gt; string -&gt; <a href="index.html#/service_entry.typ">service_entry</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.getservbyport</code></div></div></div><div class="region" id="/addr_info.typ"><a href="#/addr_info.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>addr_info = Unix.addr_info = {<table><tr class="fld"><td><div class="region" id="/addr_info.typ/ai_family.fld"><a href="#/addr_info.typ/ai_family.fld" class="anchor"></a>ai_family</div></td><td> : </td><td><a href="index.html#/socket_domain.typ">socket_domain</a>;</td></tr><tr class="fld"><td><div class="region" id="/addr_info.typ/ai_socktype.fld"><a href="#/addr_info.typ/ai_socktype.fld" class="anchor"></a>ai_socktype</div></td><td> : </td><td><a href="index.html#/socket_type.typ">socket_type</a>;</td></tr><tr class="fld"><td><div class="region" id="/addr_info.typ/ai_protocol.fld"><a href="#/addr_info.typ/ai_protocol.fld" class="anchor"></a>ai_protocol</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/addr_info.typ/ai_addr.fld"><a href="#/addr_info.typ/ai_addr.fld" class="anchor"></a>ai_addr</div></td><td> : </td><td><a href="index.html#/sockaddr.typ">sockaddr</a>;</td></tr><tr class="fld"><td><div class="region" id="/addr_info.typ/ai_canonname.fld"><a href="#/addr_info.typ/ai_canonname.fld" class="anchor"></a>ai_canonname</div></td><td> : </td><td>string;</td></tr></table>}</div><div class="doc"></div></div></div><div class="region" id="/getaddrinfo_option.typ"><a href="#/getaddrinfo_option.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>getaddrinfo_option = Unix.getaddrinfo_option = <table><tr class="cons"><td><div class="region" id="/getaddrinfo_option.typ/AI_FAMILY.cons"><a href="#/getaddrinfo_option.typ/AI_FAMILY.cons" class="anchor"></a>| AI_FAMILY of <a href="index.html#/socket_domain.typ">socket_domain</a></div></td></tr><tr class="cons"><td><div class="region" id="/getaddrinfo_option.typ/AI_SOCKTYPE.cons"><a href="#/getaddrinfo_option.typ/AI_SOCKTYPE.cons" class="anchor"></a>| AI_SOCKTYPE of <a href="index.html#/socket_type.typ">socket_type</a></div></td></tr><tr class="cons"><td><div class="region" id="/getaddrinfo_option.typ/AI_PROTOCOL.cons"><a href="#/getaddrinfo_option.typ/AI_PROTOCOL.cons" class="anchor"></a>| AI_PROTOCOL of int</div></td></tr><tr class="cons"><td><div class="region" id="/getaddrinfo_option.typ/AI_NUMERICHOST.cons"><a href="#/getaddrinfo_option.typ/AI_NUMERICHOST.cons" class="anchor"></a>| AI_NUMERICHOST</div></td></tr><tr class="cons"><td><div class="region" id="/getaddrinfo_option.typ/AI_CANONNAME.cons"><a href="#/getaddrinfo_option.typ/AI_CANONNAME.cons" class="anchor"></a>| AI_CANONNAME</div></td></tr><tr class="cons"><td><div class="region" id="/getaddrinfo_option.typ/AI_PASSIVE.cons"><a href="#/getaddrinfo_option.typ/AI_PASSIVE.cons" class="anchor"></a>| AI_PASSIVE</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/getaddrinfo.val"><a href="#/getaddrinfo.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getaddrinfo : string -&gt; string -&gt; <a href="index.html#/getaddrinfo_option.typ">getaddrinfo_option</a> list -&gt; <a href="index.html#/addr_info.typ">addr_info</a> list <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.getaddrinfo</code></div></div></div><div class="region" id="/name_info.typ"><a href="#/name_info.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>name_info = Unix.name_info = {<table><tr class="fld"><td><div class="region" id="/name_info.typ/ni_hostname.fld"><a href="#/name_info.typ/ni_hostname.fld" class="anchor"></a>ni_hostname</div></td><td> : </td><td>string;</td></tr><tr class="fld"><td><div class="region" id="/name_info.typ/ni_service.fld"><a href="#/name_info.typ/ni_service.fld" class="anchor"></a>ni_service</div></td><td> : </td><td>string;</td></tr></table>}</div><div class="doc"></div></div></div><div class="region" id="/getnameinfo_option.typ"><a href="#/getnameinfo_option.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>getnameinfo_option = Unix.getnameinfo_option = <table><tr class="cons"><td><div class="region" id="/getnameinfo_option.typ/NI_NOFQDN.cons"><a href="#/getnameinfo_option.typ/NI_NOFQDN.cons" class="anchor"></a>| NI_NOFQDN</div></td></tr><tr class="cons"><td><div class="region" id="/getnameinfo_option.typ/NI_NUMERICHOST.cons"><a href="#/getnameinfo_option.typ/NI_NUMERICHOST.cons" class="anchor"></a>| NI_NUMERICHOST</div></td></tr><tr class="cons"><td><div class="region" id="/getnameinfo_option.typ/NI_NAMEREQD.cons"><a href="#/getnameinfo_option.typ/NI_NAMEREQD.cons" class="anchor"></a>| NI_NAMEREQD</div></td></tr><tr class="cons"><td><div class="region" id="/getnameinfo_option.typ/NI_NUMERICSERV.cons"><a href="#/getnameinfo_option.typ/NI_NUMERICSERV.cons" class="anchor"></a>| NI_NUMERICSERV</div></td></tr><tr class="cons"><td><div class="region" id="/getnameinfo_option.typ/NI_DGRAM.cons"><a href="#/getnameinfo_option.typ/NI_DGRAM.cons" class="anchor"></a>| NI_DGRAM</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/getnameinfo.val"><a href="#/getnameinfo.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>getnameinfo : <a href="index.html#/sockaddr.typ">sockaddr</a> -&gt; <a href="index.html#/getnameinfo_option.typ">getnameinfo_option</a> list -&gt; <a href="index.html#/name_info.typ">name_info</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.getnameinfo</code></div></div></div><div class="doc"><h2>Terminal interface</h2></div><div class="region" id="/terminal_io.typ"><a href="#/terminal_io.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>terminal_io = Unix.terminal_io = {<table><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_ignbrk.fld"><a href="#/terminal_io.typ/c_ignbrk.fld" class="anchor"></a><span class="keyword">mutable </span>c_ignbrk</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_brkint.fld"><a href="#/terminal_io.typ/c_brkint.fld" class="anchor"></a><span class="keyword">mutable </span>c_brkint</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_ignpar.fld"><a href="#/terminal_io.typ/c_ignpar.fld" class="anchor"></a><span class="keyword">mutable </span>c_ignpar</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_parmrk.fld"><a href="#/terminal_io.typ/c_parmrk.fld" class="anchor"></a><span class="keyword">mutable </span>c_parmrk</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_inpck.fld"><a href="#/terminal_io.typ/c_inpck.fld" class="anchor"></a><span class="keyword">mutable </span>c_inpck</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_istrip.fld"><a href="#/terminal_io.typ/c_istrip.fld" class="anchor"></a><span class="keyword">mutable </span>c_istrip</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_inlcr.fld"><a href="#/terminal_io.typ/c_inlcr.fld" class="anchor"></a><span class="keyword">mutable </span>c_inlcr</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_igncr.fld"><a href="#/terminal_io.typ/c_igncr.fld" class="anchor"></a><span class="keyword">mutable </span>c_igncr</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_icrnl.fld"><a href="#/terminal_io.typ/c_icrnl.fld" class="anchor"></a><span class="keyword">mutable </span>c_icrnl</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_ixon.fld"><a href="#/terminal_io.typ/c_ixon.fld" class="anchor"></a><span class="keyword">mutable </span>c_ixon</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_ixoff.fld"><a href="#/terminal_io.typ/c_ixoff.fld" class="anchor"></a><span class="keyword">mutable </span>c_ixoff</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_opost.fld"><a href="#/terminal_io.typ/c_opost.fld" class="anchor"></a><span class="keyword">mutable </span>c_opost</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_obaud.fld"><a href="#/terminal_io.typ/c_obaud.fld" class="anchor"></a><span class="keyword">mutable </span>c_obaud</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_ibaud.fld"><a href="#/terminal_io.typ/c_ibaud.fld" class="anchor"></a><span class="keyword">mutable </span>c_ibaud</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_csize.fld"><a href="#/terminal_io.typ/c_csize.fld" class="anchor"></a><span class="keyword">mutable </span>c_csize</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_cstopb.fld"><a href="#/terminal_io.typ/c_cstopb.fld" class="anchor"></a><span class="keyword">mutable </span>c_cstopb</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_cread.fld"><a href="#/terminal_io.typ/c_cread.fld" class="anchor"></a><span class="keyword">mutable </span>c_cread</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_parenb.fld"><a href="#/terminal_io.typ/c_parenb.fld" class="anchor"></a><span class="keyword">mutable </span>c_parenb</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_parodd.fld"><a href="#/terminal_io.typ/c_parodd.fld" class="anchor"></a><span class="keyword">mutable </span>c_parodd</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_hupcl.fld"><a href="#/terminal_io.typ/c_hupcl.fld" class="anchor"></a><span class="keyword">mutable </span>c_hupcl</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_clocal.fld"><a href="#/terminal_io.typ/c_clocal.fld" class="anchor"></a><span class="keyword">mutable </span>c_clocal</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_isig.fld"><a href="#/terminal_io.typ/c_isig.fld" class="anchor"></a><span class="keyword">mutable </span>c_isig</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_icanon.fld"><a href="#/terminal_io.typ/c_icanon.fld" class="anchor"></a><span class="keyword">mutable </span>c_icanon</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_noflsh.fld"><a href="#/terminal_io.typ/c_noflsh.fld" class="anchor"></a><span class="keyword">mutable </span>c_noflsh</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_echo.fld"><a href="#/terminal_io.typ/c_echo.fld" class="anchor"></a><span class="keyword">mutable </span>c_echo</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_echoe.fld"><a href="#/terminal_io.typ/c_echoe.fld" class="anchor"></a><span class="keyword">mutable </span>c_echoe</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_echok.fld"><a href="#/terminal_io.typ/c_echok.fld" class="anchor"></a><span class="keyword">mutable </span>c_echok</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_echonl.fld"><a href="#/terminal_io.typ/c_echonl.fld" class="anchor"></a><span class="keyword">mutable </span>c_echonl</div></td><td> : </td><td>bool;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_vintr.fld"><a href="#/terminal_io.typ/c_vintr.fld" class="anchor"></a><span class="keyword">mutable </span>c_vintr</div></td><td> : </td><td>char;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_vquit.fld"><a href="#/terminal_io.typ/c_vquit.fld" class="anchor"></a><span class="keyword">mutable </span>c_vquit</div></td><td> : </td><td>char;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_verase.fld"><a href="#/terminal_io.typ/c_verase.fld" class="anchor"></a><span class="keyword">mutable </span>c_verase</div></td><td> : </td><td>char;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_vkill.fld"><a href="#/terminal_io.typ/c_vkill.fld" class="anchor"></a><span class="keyword">mutable </span>c_vkill</div></td><td> : </td><td>char;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_veof.fld"><a href="#/terminal_io.typ/c_veof.fld" class="anchor"></a><span class="keyword">mutable </span>c_veof</div></td><td> : </td><td>char;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_veol.fld"><a href="#/terminal_io.typ/c_veol.fld" class="anchor"></a><span class="keyword">mutable </span>c_veol</div></td><td> : </td><td>char;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_vmin.fld"><a href="#/terminal_io.typ/c_vmin.fld" class="anchor"></a><span class="keyword">mutable </span>c_vmin</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_vtime.fld"><a href="#/terminal_io.typ/c_vtime.fld" class="anchor"></a><span class="keyword">mutable </span>c_vtime</div></td><td> : </td><td>int;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_vstart.fld"><a href="#/terminal_io.typ/c_vstart.fld" class="anchor"></a><span class="keyword">mutable </span>c_vstart</div></td><td> : </td><td>char;</td></tr><tr class="fld"><td><div class="region" id="/terminal_io.typ/c_vstop.fld"><a href="#/terminal_io.typ/c_vstop.fld" class="anchor"></a><span class="keyword">mutable </span>c_vstop</div></td><td> : </td><td>char;</td></tr></table>}</div><div class="doc"></div></div></div><div class="region" id="/tcgetattr.val"><a href="#/tcgetattr.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>tcgetattr : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/terminal_io.typ">terminal_io</a> <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.tcgetattr</code></div></div></div><div class="region" id="/setattr_when.typ"><a href="#/setattr_when.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>setattr_when = Unix.setattr_when = <table><tr class="cons"><td><div class="region" id="/setattr_when.typ/TCSANOW.cons"><a href="#/setattr_when.typ/TCSANOW.cons" class="anchor"></a>| TCSANOW</div></td></tr><tr class="cons"><td><div class="region" id="/setattr_when.typ/TCSADRAIN.cons"><a href="#/setattr_when.typ/TCSADRAIN.cons" class="anchor"></a>| TCSADRAIN</div></td></tr><tr class="cons"><td><div class="region" id="/setattr_when.typ/TCSAFLUSH.cons"><a href="#/setattr_when.typ/TCSAFLUSH.cons" class="anchor"></a>| TCSAFLUSH</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/tcsetattr.val"><a href="#/tcsetattr.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>tcsetattr : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/setattr_when.typ">setattr_when</a> -&gt; <a href="index.html#/terminal_io.typ">terminal_io</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.tcsetattr</code></div></div></div><div class="region" id="/tcsendbreak.val"><a href="#/tcsendbreak.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>tcsendbreak : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; int -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.tcsendbreak</code></div></div></div><div class="region" id="/tcdrain.val"><a href="#/tcdrain.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>tcdrain : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.tcdrain</code></div></div></div><div class="region" id="/flush_queue.typ"><a href="#/flush_queue.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>flush_queue = Unix.flush_queue = <table><tr class="cons"><td><div class="region" id="/flush_queue.typ/TCIFLUSH.cons"><a href="#/flush_queue.typ/TCIFLUSH.cons" class="anchor"></a>| TCIFLUSH</div></td></tr><tr class="cons"><td><div class="region" id="/flush_queue.typ/TCOFLUSH.cons"><a href="#/flush_queue.typ/TCOFLUSH.cons" class="anchor"></a>| TCOFLUSH</div></td></tr><tr class="cons"><td><div class="region" id="/flush_queue.typ/TCIOFLUSH.cons"><a href="#/flush_queue.typ/TCIOFLUSH.cons" class="anchor"></a>| TCIOFLUSH</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/tcflush.val"><a href="#/tcflush.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>tcflush : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/flush_queue.typ">flush_queue</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.tcflush</code></div></div></div><div class="region" id="/flow_action.typ"><a href="#/flow_action.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>flow_action = Unix.flow_action = <table><tr class="cons"><td><div class="region" id="/flow_action.typ/TCOOFF.cons"><a href="#/flow_action.typ/TCOOFF.cons" class="anchor"></a>| TCOOFF</div></td></tr><tr class="cons"><td><div class="region" id="/flow_action.typ/TCOON.cons"><a href="#/flow_action.typ/TCOON.cons" class="anchor"></a>| TCOON</div></td></tr><tr class="cons"><td><div class="region" id="/flow_action.typ/TCIOFF.cons"><a href="#/flow_action.typ/TCIOFF.cons" class="anchor"></a>| TCIOFF</div></td></tr><tr class="cons"><td><div class="region" id="/flow_action.typ/TCION.cons"><a href="#/flow_action.typ/TCION.cons" class="anchor"></a>| TCION</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/tcflow.val"><a href="#/tcflow.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>tcflow : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; <a href="index.html#/flow_action.typ">flow_action</a> -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wrapper for <code>Unix.tcflow</code></div></div></div><div class="doc"><h2>Low-level interaction</h2></div><div class="exn"><div class="def"><span class="keyword">exn </span>Retry</div><div class="doc">If an action raises Retry, it will be requeued until the <span style="font-weight: bold">file descriptor</span> becomes readable/writable again.</div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Retry_read</div><div class="doc">If an action raises Retry_read, it will be requeued until the
<span style="font-weight: bold">file descriptor</span> becomes readable.</div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Retry_write</div><div class="doc">If an action raises Retry_read, it will be requeued until the
<span style="font-weight: bold">file descriptor</span> becomes writables.</div></div><div class="region" id="/io_event.typ"><a href="#/io_event.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>io_event = <table><tr class="cons"><td><div class="region" id="/io_event.typ/Read.cons"><a href="#/io_event.typ/Read.cons" class="anchor"></a>| Read</div></td></tr><tr class="cons"><td><div class="region" id="/io_event.typ/Write.cons"><a href="#/io_event.typ/Write.cons" class="anchor"></a>| Write</div></td></tr></table></div><div class="doc"></div></div></div><div class="region" id="/wrap_syscall.val"><a href="#/wrap_syscall.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>wrap_syscall : <a href="index.html#/io_event.typ">io_event</a> -&gt; <a href="index.html#/file_descr.typ">file_descr</a> -&gt; (unit -&gt; 'a) -&gt; 'a <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>wrap_syscall set fd action</code> wrap an action on a <span style="font-weight: bold">file
descriptor</span>. It tries to execute action, and if it can not be
performed immediately without blocking, it is registered for
later.<br/>In the latter case, if the thread is canceled, <code>action</code> is
removed from <code>set</code>.</div></div></div><div class="region" id="/check_descriptor.val"><a href="#/check_descriptor.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>check_descriptor : <a href="index.html#/file_descr.typ">file_descr</a> -&gt; unit</div><div class="doc"><code>check_descriptor fd</code> raise an exception if <code>fd</code> is not in the
state Open</div></div></div><div class="region" id="/register_action.val"><a href="#/register_action.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>register_action : <a href="index.html#/io_event.typ">io_event</a> -&gt; <a href="index.html#/file_descr.typ">file_descr</a> -&gt; (unit -&gt; 'a) -&gt; 'a <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>register_action set fd action</code> registers <code>action</code> on <code>fd</code>. When
<code>fd</code> becomes <code>readable</code>/<code>writable</code> <code>action</code> is called.<br/>Note:<br/><ul><li>you must call <code>check_descriptor fd</code> before calling
<code>register_action</code></li></ul><ul><li>you should prefer using wrap_syscall</li></ul></div></div></div><div class="region" id="/job.typ"><a href="#/job.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>'a job</div><div class="doc">Type of job descriptions. A job description describe how to call
a C function and how to get its result. The C function may be
executed in another system thread.</div></div></div><div class="region" id="/execute_job.val"><a href="#/execute_job.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>execute_job : ?async_method:<a href="index.html#/async_method.typ">async_method</a> -&gt; job:'a <a href="index.html#/job.typ">job</a> -&gt; result:('a <a href="index.html#/job.typ">job</a> -&gt; 'b) -&gt; free:('a <a href="index.html#/job.typ">job</a> -&gt; unit) -&gt; 'b <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">This is the old and deprecated way of running a job. Use
run_job in new code.</div></div></div><div class="region" id="/run_job.val"><a href="#/run_job.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>run_job : ?async_method:<a href="index.html#/async_method.typ">async_method</a> -&gt; 'a <a href="index.html#/job.typ">job</a> -&gt; 'a <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc"><code>run_job ?async_method job</code> starts <code>job</code> and wait for its
termination.<br/>The async method is choosen follow:
<ul><li>if the optional parameter <code>async_method</code> is specified, it is
used,</li><li>otherwise if the local key async_method_key is set in the
current thread, it is used,</li><li>otherwise the default method (returned by
default_async_method) is used.</li></ul>If the method is Async_none then the job is run synchronously
and may block the current system thread, thus blocking all Lwt
threads.<br/>If the method is Async_detach then the job is run in another
system thread, unless the the maximum number of worker threads
has been reached (as given by pool_size).<br/>If the method is Async_switch then the job is run
synchronously and if it blocks, execution will continue in
another system thread (unless the limit is reached).</div></div></div><div class="region" id="/abort_jobs.val"><a href="#/abort_jobs.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>abort_jobs : exn -&gt; unit</div><div class="doc"><code>abort_jobs exn</code> make all pending jobs to fail with exn. Note
that this does not abort the real job (i.e. the C function
executing it), just the lwt thread for it.</div></div></div><div class="region" id="/cancel_jobs.val"><a href="#/cancel_jobs.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>cancel_jobs : unit -&gt; unit</div><div class="doc"><code>cancel_jobs ()</code> is the same as <code>abort_jobs Lwt.Canceled</code>.</div></div></div><div class="region" id="/wait_for_jobs.val"><a href="#/wait_for_jobs.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>wait_for_jobs : unit -&gt; unit <a href="../Lwt/index.html#/t.typ">Lwt.t</a></div><div class="doc">Wait for all pending jobs to terminate.</div></div></div><div class="doc"><h2>Notifications</h2></div><div class="doc">Lwt internally use a pipe to send notification to the main
thread. The following functions allow to use this pipe.</div><div class="region" id="/make_notification.val"><a href="#/make_notification.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>make_notification : ?once:bool -&gt; (unit -&gt; unit) -&gt; int</div><div class="doc"><code>new_notifier ?once f</code> registers a new notifier. It returns the
id of the notifier. Each time a notification with this id is
received, <code>f</code> is called.<br/>if <code>once</code> is specified, then the notification is stopped after
the first time it is received. It defaults to <code>false</code>.</div></div></div><div class="region" id="/send_notification.val"><a href="#/send_notification.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>send_notification : int -&gt; unit</div><div class="doc"><code>send_notification id</code> sends a notification.<br/>This function is thread-safe.</div></div></div><div class="region" id="/stop_notification.val"><a href="#/stop_notification.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>stop_notification : int -&gt; unit</div><div class="doc">Stop the given notification. Note that you should not reuse the
id after the notification has been stopped, the result is
unspecified if you do so.</div></div></div><div class="region" id="/call_notification.val"><a href="#/call_notification.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>call_notification : int -&gt; unit</div><div class="doc">Call the handler associated to the given notification. Note that
if the notification was defined with <code>once = true</code> it is removed.</div></div></div><div class="region" id="/set_notification.val"><a href="#/set_notification.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>set_notification : int -&gt; (unit -&gt; unit) -&gt; unit</div><div class="doc"><code>set_notification id f</code> replace the function associated to the
notification by <code>f</code>. It raises <code>Not_found</code> if the given
notification is not found.</div></div></div><div class="doc"><h2>System threads pool</h2></div><div class="doc">If the program is using the async method Async_detach or
Async_switch, Lwt will launch system threads to execute
blocking system calls asynchronously.</div><div class="region" id="/pool_size.val"><a href="#/pool_size.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>pool_size : unit -&gt; int</div><div class="doc">Maximum number of system threads that can be started. If this
limit is reached, jobs will be executed synchronously.</div></div></div><div class="region" id="/set_pool_size.val"><a href="#/set_pool_size.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>set_pool_size : int -&gt; unit</div><div class="doc">Change the size of the pool.</div></div></div><div class="region" id="/thread_count.val"><a href="#/thread_count.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>thread_count : unit -&gt; int</div><div class="doc">The number of system threads running (excluding this one).</div></div></div><div class="region" id="/thread_waiting_count.val"><a href="#/thread_waiting_count.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>thread_waiting_count : unit -&gt; int</div><div class="doc">The number threads waiting for a job.</div></div></div><div class="doc"><h2>CPUs</h2></div><div class="region" id="/get_cpu.val"><a href="#/get_cpu.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>get_cpu : unit -&gt; int</div><div class="doc"><code>get_cpu ()</code> returns the number of the CPU the current thread is
running on.</div></div></div><div class="region" id="/get_affinity.val"><a href="#/get_affinity.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>get_affinity : ?pid:int -&gt; unit -&gt; int list</div><div class="doc"><code>get_affinity ?pid ()</code> returns the list of CPUs the process with
pid <code>pid</code> is allowed to run on. If <code>pid</code> is not specified then
the affinity of the current process is returned.</div></div></div><div class="region" id="/set_affinity.val"><a href="#/set_affinity.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>set_affinity : ?pid:int -&gt; int list -&gt; unit</div><div class="doc"><code>set_affinity ?pid cpus</code> sets the list of CPUs the given process
is allowed to run on.</div></div></div><div class="region" id="/run.val"><a href="#/run.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>run : 'a <a href="../Lwt/index.html#/t.typ">Lwt.t</a> -&gt; 'a</div><div class="doc"></div></div></div><div class="region" id="/has_wait4.val"><a href="#/has_wait4.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>has_wait4 : bool</div><div class="doc"></div></div></div></div></div></div></body></html>