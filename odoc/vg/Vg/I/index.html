<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>I (vg.Vg.I)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/I">I</a></h1></div><div class="mod"><div class="def"><span class="keyword">module </span>I : <span class="keyword">sig</span> ... <span class="keyword">end</span></div><div class="doc">Images.<br/>Consult their semimages.<br/>The composition operator Vg.(&gt;&gt;) is used to compose images.
For this reason image combinators always take the
image to use as the last argument.</div><hr/><div><div class="doc"><h1>Images</h1></div><div class="region" id="/t.typ"><a href="#/t.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>t = <a href="../index.html#/image.typ">image</a></div><div class="doc">The type for images.</div></div></div><div class="region" id="/void.val"><a href="#/void.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>void : <a href="../index.html#/image.typ">image</a></div><div class="doc"><code>void</code> is <code>const </code>Gg.Color.void, an invisible black image.
<code>void</code> is an identity element for blend.</div></div></div><div class="doc"><h1 id="prims">Primitive images</h1></div><div class="region" id="/const.val"><a href="#/const.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>const : <a href="../../../gg/Gg/index.html#/color.typ">Gg.color</a> -&gt; <a href="../index.html#/image.typ">image</a></div><div class="doc"><code>const c</code> is an image of color <code>c</code>.
<ul><li>[<code>const c</code>]<sub><code>pt</code></sub> <code>= c</code> for any <code>pt</code>.</li></ul></div></div></div><div class="region" id="/axial.val"><a href="#/axial.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>axial : <a href="../../../gg/Gg/Color/index.html#/stops.typ">Gg.Color.stops</a> -&gt; <a href="../../../gg/Gg/index.html#/p2.typ">Gg.p2</a> -&gt; <a href="../../../gg/Gg/index.html#/p2.typ">Gg.p2</a> -&gt; <a href="../index.html#/image.typ">image</a></div><div class="doc"><code>axial stops pt pt'</code> is an image with an axial color gradient
varying between <code>pt</code> and <code>pt'</code> according to semstops
<code>stops</code>.<br/><ul><li>[<code>axial stops pt pt'</code>]<sub><code>q</code></sub> <code>=</code> [<code>stops</code>]<sub><code>t</code></sub> if <code>q</code> is
on the line perpendicular to the line <code>pt</code> and <code>pt'</code> at
the point <code>pt + t * (pt' - pt)</code>.</li></ul></div></div></div><div class="region" id="/radial.val"><a href="#/radial.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>radial : <a href="../../../gg/Gg/Color/index.html#/stops.typ">Gg.Color.stops</a> -&gt; ?f:<a href="../../../gg/Gg/index.html#/p2.typ">Gg.p2</a> -&gt; <a href="../../../gg/Gg/index.html#/p2.typ">Gg.p2</a> -&gt; float -&gt; <a href="../index.html#/image.typ">image</a></div><div class="doc"><code>radial stops ~f c r</code> is an image with a color gradient varying
according to semstops <code>stops</code> on circles whose
center are on the segment from <code>f</code> to <code>c</code> and radius vary,
respectively, from <code>0</code> to <code>r</code>. The focus <code>f</code> defaults to <code>c</code>, it
must be inside the circle <code>(c, r)</code>.<br/><ul><li>[<code>radial stops ~f c r</code>]<sub><code>p</code></sub> <code>=</code> [<code>stops</code>]<sub><code>t</code></sub> if
<code>t</code> is the smallest value such that <code>p</code> is
on the circle defined by radius <code>t * r</code> and center <code>f + t * (c - f)</code>.</li></ul></div></div></div><div class="doc"><h1 id="cut">Cutting images</h1></div><div class="region" id="/cut.val"><a href="#/cut.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>cut : ?area:<a href="../P/index.html#/area.typ">P.area</a> -&gt; <a href="../index.html#/path.typ">path</a> -&gt; <a href="../index.html#/image.typ">image</a> -&gt; <a href="../index.html#/image.typ">image</a></div><div class="doc"><code>cut area p i</code> is <code>i</code> with the sempaths outside
[<code>a</code>, <code>p</code>] cut out, i.e. mapped to Gg.Color.void. <code>area</code>
defaults to <a href="../P/index.html#/area.typ">P.area</a>.
<ul><li>[<code>cut area p i</code>]<sub><code>pt</code></sub> <code>=</code> [<code>i</code>]<sub><code>pt</code></sub> if [<code>a</code>, <code>p</code>]<sub><code>pt</code></sub></li><li>[<code>cut area p i</code>]<sub><code>pt</code></sub> <code>=</code> Gg.Color.void otherwise.</li></ul><br/><span style="font-weight: bold">Warning.</span> For <span style="font-style: italic">outline</span> cuts most renderers support only
cutting into const axial and radial images. Consult
the individual renderer documentation.</div></div></div><div class="region" id="/cut_glyphs.val"><a href="#/cut_glyphs.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>cut_glyphs : ?area:[ `O of <a href="../P/index.html#/outline.typ">P.outline</a> ] -&gt; ?text:string -&gt; ?blocks:(bool * (int * int) list) -&gt; ?advances:<a href="../../../gg/Gg/index.html#/v2.typ">Gg.v2</a> list -&gt; <a href="../index.html#/font.typ">font</a> -&gt; <a href="../index.html#/glyph.typ">glyph</a> list -&gt; <a href="../index.html#/image.typ">image</a> -&gt; <a href="../index.html#/image.typ">image</a></div><div class="doc"><span style="font-weight: bold">WARNING.</span> The interface and specifics of glyph rendering are
still subject to change in the future.<br/><code>cut_glyphs area text blocks advances font glyphs i</code> is like
cut except the path cut is the union of all the paths of the
glyphs <code>glyphs</code> of the font <code>font</code>.<br/>The origin of the first glyph is set to <code>P2.o</code>, the origin of
each subsequent glyph in <code>glyphs</code> is offset by the advance
vector of the previous glyph as provided by <code>font</code>. Advance
vectors for each glyph can be overriden by providing their value
in <code>advances</code>, if the length of <code>advances</code> is smaller than
<code>glyphs</code> the rendering results are undefined.<br/>If provided the <code>text</code> parameter indicates the UTF-8 text
corresponding to the sequence of glyphs. This may be used by
certain renderer to allow text search in the result or to draw
the text if it lacks control over glyph rendering (in which case
an empty list of glyphs may be passed).<br/>If provided <code>blocks</code> is used to specify a sequential map between
<code>glyphs</code> and the characters of <code>text</code>. The number of elements in
the list defines the number of blocks. Starting at the head of
each sequence, each block <code>(char_adv, glyph_adv)</code> indicates the
number of characters and glyphs that make the next block (one or
the other may be 0). If the boolean is <code>true</code> the glyph sequence
is reversed for peforming the map. If <code>blocks</code> is unspecified a
one to one map between glyphs and characters is assumed with
undefined results if the number of glyphs and characters differ.<br/>If <code>area</code> is provided, the outline area of the glyphs are cut as
specified, otherwise the area of the glyphs is determined as
mandated by the font. <span style="font-weight: bold">Warning.</span> Backend support is poor
this may be removed in the future.</div></div></div><div class="doc"><h1 id="blend">Blending images</h1></div><div class="region" id="/blend.val"><a href="#/blend.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>blend : <a href="../index.html#/image.typ">image</a> -&gt; <a href="../index.html#/image.typ">image</a> -&gt; <a href="../index.html#/image.typ">image</a></div><div class="doc"><code>blend src dst</code> is <code>src</code> blended over <code>dst</code> using source over
destination alpha blending.
<ul><li>[<code>blend src dst</code>]<sub><code>p</code></sub> <code>=</code> <code>Color.blend</code>  [<code>src</code>]<sub><code>p</code></sub> 
[<code>dst</code>]<sub><code>p</code></sub></li></ul></div></div></div><div class="doc"><h1 id="transf">Transforming images</h1></div><div class="region" id="/move.val"><a href="#/move.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>move : <a href="../../../gg/Gg/index.html#/v2.typ">Gg.v2</a> -&gt; <a href="../index.html#/image.typ">image</a> -&gt; <a href="../index.html#/image.typ">image</a></div><div class="doc"><code>move v i</code> is <code>i</code> translated by <code>v</code>.
<ul><li>[<code>move v i</code>]<sub><code>pt</code></sub> <code>=</code> [<code>i</code>]<sub><code>pt-v</code></sub> for any <code>pt</code></li></ul></div></div></div><div class="region" id="/rot.val"><a href="#/rot.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rot : float -&gt; <a href="../index.html#/image.typ">image</a> -&gt; <a href="../index.html#/image.typ">image</a></div><div class="doc"><code>rot a i</code> is <code>i</code> rotated by <code>a</code>.
<ul><li>[<code>rot a i</code>]<sub><code>pt</code></sub> <code>=</code> [<code>i</code>]<sub><code>m⋅pt</code></sub> for any <code>pt</code> and with
<code>m = M2.rot -a</code>.</li></ul></div></div></div><div class="region" id="/scale.val"><a href="#/scale.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>scale : <a href="../../../gg/Gg/index.html#/v2.typ">Gg.v2</a> -&gt; <a href="../index.html#/image.typ">image</a> -&gt; <a href="../index.html#/image.typ">image</a></div><div class="doc"><code>scale s i</code> is <code>i</code> scaled by <code>s</code>.
<ul><li>[<code>scale s i</code>]<sub><code>(x,y)</code></sub> <code>=</code> [<code>i</code>]<sub><code>(x/s</code><sub>x</sub><code>,y/s</code><sub>y</sub><code>)</code></sub>
for any <code>(x,y)</code></li></ul></div></div></div><div class="region" id="/tr.val"><a href="#/tr.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>tr : <a href="../../../gg/Gg/index.html#/m3.typ">Gg.m3</a> -&gt; <a href="../index.html#/image.typ">image</a> -&gt; <a href="../index.html#/image.typ">image</a></div><div class="doc"><code>tr m i</code> is the affine transform in homogenous 2D space of
each point of <code>i</code> by <code>m</code> (see Gg.P2.tr).
<ul><li>[<code>tr m i</code>]<sub><code>pt</code></sub> <code>=</code> [<code>i</code>]<sub><code>m</code><sup>-1</sup>⋅<code>pt</code></sub> for any <code>pt</code></li></ul></div></div></div><div class="doc"><h1 id="predicates">Predicates and comparisons</h1><br/><span style="font-weight: bold">Note.</span> These predicates consider the structure of image
values not their denotational interpretation; a single
denotational interpretation can have many structural
representations.</div><div class="region" id="/is_void.val"><a href="#/is_void.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>is_void : <a href="../index.html#/image.typ">image</a> -&gt; bool</div><div class="doc"><code>is_void i</code> is <code>i == void</code>.</div></div></div><div class="region" id="/equal.val"><a href="#/equal.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>equal : <a href="../index.html#/image.typ">image</a> -&gt; <a href="../index.html#/image.typ">image</a> -&gt; bool</div><div class="doc"><code>equal i i'</code> is <code>i = i'</code>.</div></div></div><div class="region" id="/equal_f.val"><a href="#/equal_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>equal_f : (float -&gt; float -&gt; bool) -&gt; <a href="../index.html#/image.typ">image</a> -&gt; <a href="../index.html#/image.typ">image</a> -&gt; bool</div><div class="doc"><code>equal eq i i'</code> is like equal but uses <code>eq</code> to test floating
point values.<br/><span style="font-weight: bold">Note.</span> Raster images are tested with Gg.Raster.equal.</div></div></div><div class="region" id="/compare.val"><a href="#/compare.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>compare : <a href="../index.html#/image.typ">image</a> -&gt; <a href="../index.html#/image.typ">image</a> -&gt; int</div><div class="doc"><code>compare i i'</code> is <code>Pervasives.compare i i'</code>.</div></div></div><div class="region" id="/compare_f.val"><a href="#/compare_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>compare_f : (float -&gt; float -&gt; int) -&gt; <a href="../index.html#/image.typ">image</a> -&gt; <a href="../index.html#/image.typ">image</a> -&gt; int</div><div class="doc"><code>compare_f cmp i i'</code> is like compare but uses <code>cmp</code> to
compare floating point values.<br/><span style="font-weight: bold">Note.</span> Raster images are tested with Gg.Raster.compare.</div></div></div><div class="doc"><h1 id="printers">Printers</h1></div><div class="region" id="/to_string.val"><a href="#/to_string.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>to_string : <a href="../index.html#/image.typ">image</a> -&gt; string</div><div class="doc"><code>to_string i</code> is a textual representation of <code>i</code>.</div></div></div><div class="region" id="/pp.val"><a href="#/pp.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>pp : <a href="../../../ocaml/Format/index.html#/formatter.typ">Format.formatter</a> -&gt; <a href="../index.html#/image.typ">image</a> -&gt; unit</div><div class="doc"><code>pp ppf i</code> prints a textual representation of <code>i</code> on <code>ppf</code>.</div></div></div><div class="region" id="/pp_f.val"><a href="#/pp_f.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>pp_f : (<a href="../../../ocaml/Format/index.html#/formatter.typ">Format.formatter</a> -&gt; float -&gt; unit) -&gt; <a href="../../../ocaml/Format/index.html#/formatter.typ">Format.formatter</a> -&gt; <a href="../index.html#/image.typ">image</a> -&gt; unit</div><div class="doc"><code>pp_f pp_float ppf i</code> prints <code>i</code> like pp but uses <code>pp_float</code>
to print floating point values.</div></div></div></div></div></div></body></html>