<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Zed_lines (zed.Zed_lines)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/Zed_lines">Zed_lines</a></h1></div><div><div class="doc">Sets of line positions.</div><div><div class="doc">This module implement sets of line positions. They allow to
efficiently find the beginning of a line and to convert offset to
line and column number.</div><div class="exn"><div class="def"><span class="keyword">exn </span>Out_of_bounds</div><div class="doc">Exception raised when trying to access a position outside the
bounds of a set.</div></div><div class="region" id="/t.typ"><a href="#/t.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>t</div><div class="doc">Type of sets of line positions.</div></div></div><div class="region" id="/length.val"><a href="#/length.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>length : <a href="index.html#/t.typ">t</a> -&gt; int</div><div class="doc">Returns the length of the set, i.e. the number of characters in
the set.</div></div></div><div class="region" id="/count.val"><a href="#/count.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>count : <a href="index.html#/t.typ">t</a> -&gt; int</div><div class="doc">Returns the number of newlines in the set.</div></div></div><div class="region" id="/of_rope.val"><a href="#/of_rope.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>of_rope : <a href="../Zed_rope/index.html#/t.typ">Zed_rope.t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>of_rope rope</code> returns the set of newline positions in <code>rope</code>.</div></div></div><div class="region" id="/empty.val"><a href="#/empty.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>empty : <a href="index.html#/t.typ">t</a></div><div class="doc">The empty set.</div></div></div><div class="region" id="/line_index.val"><a href="#/line_index.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>line_index : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int</div><div class="doc"><code>line_index set ofs</code> returns the line number of the line
containing <code>ofs</code>.</div></div></div><div class="region" id="/line_start.val"><a href="#/line_start.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>line_start : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int</div><div class="doc"><code>line_start set idx</code> returns the offset of the beginning of the
<code>idx</code>th line of <code>set</code> .</div></div></div><div class="region" id="/line_stop.val"><a href="#/line_stop.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>line_stop : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int</div><div class="doc"><code>line_stop set idx</code> returns the offset of the end of the
<code>idx</code>th line of <code>set</code> .</div></div></div><div class="region" id="/line_length.val"><a href="#/line_length.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>line_length : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int</div><div class="doc"><code>line_length set idx</code> returns the length of the
<code>idx</code>th line of <code>set</code> .</div></div></div><div class="region" id="/append.val"><a href="#/append.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>append : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>append s1 s2</code> concatenates two sets of line positions.</div></div></div><div class="region" id="/insert.val"><a href="#/insert.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>insert : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>insert set offset set'</code> inserts <code>set</code> at given positon in
<code>set'</code>.</div></div></div><div class="region" id="/remove.val"><a href="#/remove.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>remove : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>remove set offet length</code> removes <code>length</code> characters at
<code>offset</code> in set.</div></div></div><div class="region" id="/replace.val"><a href="#/replace.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>replace : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>replace set offset length repl</code> replaces the subset at offset
<code>offset</code> and length <code>length</code> by <code>repl</code> in <code>set</code>.</div></div></div></div></div></div></body></html>