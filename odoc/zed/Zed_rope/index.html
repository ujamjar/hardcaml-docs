<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Zed_rope (zed.Zed_rope)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/Zed_rope">Zed_rope</a></h1></div><div><div class="doc">Unicode ropes</div><div><div class="region" id="/t.typ"><a href="#/t.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>t</div><div class="doc">Type of unicode ropes.</div></div></div><div class="region" id="/rope.typ"><a href="#/rope.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>rope = <a href="index.html#/t.typ">t</a></div><div class="doc">Alias.</div></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Out_of_bounds</div><div class="doc">Exception raised when trying to access a character which is
outside the bounds of a rope.</div></div><div class="doc"><h6>Construction</h6></div><div class="region" id="/empty.val"><a href="#/empty.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>empty : <a href="index.html#/t.typ">t</a></div><div class="doc">The empty rope.</div></div></div><div class="region" id="/make.val"><a href="#/make.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>make : int -&gt; CamomileLibrary.UChar.t -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>make length char</code> creates a rope of length <code>length</code> containing
only <code>char</code>.</div></div></div><div class="region" id="/init.val"><a href="#/init.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>init : int -&gt; (int -&gt; CamomileLibrary.UChar.t) -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>init n f</code> returns the contenation of <code>singleton (f 0)</code>,
<code>singleton (f 1)</code>, ..., <code>singleton (f (n - 1))</code>.</div></div></div><div class="region" id="/rev_init.val"><a href="#/rev_init.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_init : int -&gt; (int -&gt; CamomileLibrary.UChar.t) -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>rev_init n f</code> returns the contenation of <code>singleton (f (n -
      1))</code>, ..., <code>singleton (f 1)</code>, <code>singleton (f 0)</code>.</div></div></div><div class="region" id="/singleton.val"><a href="#/singleton.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>singleton : CamomileLibrary.UChar.t -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>singleton ch</code> creates a rope of length 1 containing only
<code>ch</code>.</div></div></div><div class="doc"><h6>Informations</h6></div><div class="region" id="/length.val"><a href="#/length.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>length : <a href="index.html#/t.typ">t</a> -&gt; int</div><div class="doc">Returns the length of the given rope.</div></div></div><div class="region" id="/is_empty.val"><a href="#/is_empty.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>is_empty : <a href="index.html#/t.typ">t</a> -&gt; bool</div><div class="doc"><code>is_empty rope</code> returns whether <code>str</code> is the empty rope or
not.</div></div></div><div class="region" id="/compare.val"><a href="#/compare.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>compare : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a> -&gt; int</div><div class="doc">Compares two ropes (in code point order).</div></div></div><div class="region" id="/equal.val"><a href="#/equal.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>equal : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a> -&gt; bool</div><div class="doc"><code>equal r1 r2</code> retuns <code>true</code> iff <code>r1</code> is equal to <code>r2</code>.</div></div></div><div class="doc"><h6>To/from strings</h6></div><div class="region" id="/of_string.val"><a href="#/of_string.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>of_string : string -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>of_string str</code> creates a rope from a string. The string must be
UTF-8 encoded and is validated. Note that <code>str</code> must not be
modified after this operation, if you intend to do so you must
copy it before passing it to <code>of_string</code>.</div></div></div><div class="region" id="/to_string.val"><a href="#/to_string.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>to_string : <a href="index.html#/t.typ">t</a> -&gt; string</div><div class="doc"><code>to_string rope</code> flatten a rope into a string encoded in
UTF-8.</div></div></div><div class="doc"><h6>Random access</h6></div><div class="region" id="/get.val"><a href="#/get.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>get : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; CamomileLibrary.UChar.t</div><div class="doc"><code>get str rope</code> returns the character at index <code>idx</code> in
<code>rope</code>.</div></div></div><div class="doc"><h6>Rope manipulation</h6></div><div class="region" id="/append.val"><a href="#/append.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>append : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc">Concatenates the two given ropes.</div></div></div><div class="region" id="/concat.val"><a href="#/concat.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>concat : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a> list -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>concat sep l</code> concatenates all strings of <code>l</code> separating them
by <code>sep</code>.</div></div></div><div class="region" id="/sub.val"><a href="#/sub.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>sub : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>sub rope ofs len</code> Returns the sub-rope of <code>rope</code> starting at
<code>ofs</code> and of length <code>len</code>.</div></div></div><div class="region" id="/break.val"><a href="#/break.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>break : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; <a href="index.html#/t.typ">t</a> * <a href="index.html#/t.typ">t</a></div><div class="doc"><code>break rope pos</code> returns the sub-ropes before and after <code>pos</code> in
<code>rope</code>. It is more efficient than creating two sub-ropes with
sub.</div></div></div><div class="region" id="/before.val"><a href="#/before.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>before : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>before rope pos</code> returns the sub-rope before <code>pos</code> in <code>rope</code>.</div></div></div><div class="region" id="/after.val"><a href="#/after.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>after : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>after rope pos</code> returns the sub-string after <code>pos</code> in <code>rope</code>.</div></div></div><div class="region" id="/insert.val"><a href="#/insert.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>insert : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>insert rope pos sub</code> inserts <code>sub</code> in <code>rope</code> at position
<code>pos</code>.</div></div></div><div class="region" id="/remove.val"><a href="#/remove.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>remove : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>remove rope pos len</code> removes the <code>len</code> characters at position
<code>pos</code> in <code>rope</code></div></div></div><div class="region" id="/replace.val"><a href="#/replace.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>replace : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>replace rope pos len repl</code> replaces the <code>len</code> characters at
position <code>pos</code> in <code>rope</code> by <code>repl</code>.</div></div></div><div class="region" id="/lchop.val"><a href="#/lchop.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>lchop : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>lchop rope</code> returns <code>rope</code> without is first character. Returns
empty if <code>rope</code> is empty.</div></div></div><div class="region" id="/rchop.val"><a href="#/rchop.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rchop : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>rchop rope</code> returns <code>rope</code> without is last character. Returns
empty if <code>rope</code> is empty.</div></div></div><div class="doc"><h6>Iteration, folding and mapping</h6></div><div class="region" id="/iter.val"><a href="#/iter.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>iter : (CamomileLibrary.UChar.t -&gt; unit) -&gt; <a href="index.html#/t.typ">t</a> -&gt; unit</div><div class="doc"><code>iter f rope</code> applies <code>f</code> on all characters of <code>rope</code> starting
from the left.</div></div></div><div class="region" id="/rev_iter.val"><a href="#/rev_iter.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_iter : (CamomileLibrary.UChar.t -&gt; unit) -&gt; <a href="index.html#/t.typ">t</a> -&gt; unit</div><div class="doc"><code>rev_iter f rope</code> applies <code>f</code> an all characters of <code>rope</code>
starting from the right.</div></div></div><div class="region" id="/fold.val"><a href="#/fold.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fold : (CamomileLibrary.UChar.t -&gt; 'a -&gt; 'a) -&gt; <a href="index.html#/t.typ">t</a> -&gt; 'a -&gt; 'a</div><div class="doc"><code>fold f rope acc</code> applies <code>f</code> on all characters of <code>rope</code>
starting from the left, accumulating a value.</div></div></div><div class="region" id="/rev_fold.val"><a href="#/rev_fold.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_fold : (CamomileLibrary.UChar.t -&gt; 'a -&gt; 'a) -&gt; <a href="index.html#/t.typ">t</a> -&gt; 'a -&gt; 'a</div><div class="doc"><code>rev_fold f rope acc</code> applies <code>f</code> on all characters of <code>rope</code>
starting from the right, accumulating a value.</div></div></div><div class="region" id="/map.val"><a href="#/map.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>map : (CamomileLibrary.UChar.t -&gt; CamomileLibrary.UChar.t) -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>map f rope</code> maps all characters of <code>rope</code> with <code>f</code>.</div></div></div><div class="region" id="/rev_map.val"><a href="#/rev_map.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_map : (CamomileLibrary.UChar.t -&gt; CamomileLibrary.UChar.t) -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>rev_map f str</code> maps all characters of <code>rope</code> with <code>f</code> in
reverse order.</div></div></div><div class="doc"><h6>Iteration and folding on leafs</h6></div><div class="doc">Note: for all of the following functions, the leaves must
absolutely not be modified.</div><div class="region" id="/iter_leaf.val"><a href="#/iter_leaf.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>iter_leaf : (<a href="../Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> -&gt; unit) -&gt; <a href="index.html#/t.typ">t</a> -&gt; unit</div><div class="doc"><code>iter_leaf f rope</code> applies <code>f</code> on all leaves of <code>rope</code> starting
from the left.</div></div></div><div class="region" id="/rev_iter_leaf.val"><a href="#/rev_iter_leaf.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_iter_leaf : (<a href="../Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> -&gt; unit) -&gt; <a href="index.html#/t.typ">t</a> -&gt; unit</div><div class="doc"><code>iter_leaf f rope</code> applies <code>f</code> on all leaves of <code>rope</code> starting
from the right.</div></div></div><div class="region" id="/fold_leaf.val"><a href="#/fold_leaf.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fold_leaf : (<a href="../Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> -&gt; 'a -&gt; 'a) -&gt; <a href="index.html#/t.typ">t</a> -&gt; 'a -&gt; 'a</div><div class="doc"><code>fold f rope acc</code> applies <code>f</code> on all leaves of <code>rope</code> starting
from the left, accumulating a value.</div></div></div><div class="region" id="/rev_fold_leaf.val"><a href="#/rev_fold_leaf.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_fold_leaf : (<a href="../Zed_utf8/index.html#/t.typ">Zed_utf8.t</a> -&gt; 'a -&gt; 'a) -&gt; <a href="index.html#/t.typ">t</a> -&gt; 'a -&gt; 'a</div><div class="doc"><code>rev_fold f rope acc</code> applies <code>f</code> on all leaves of <code>rope</code>
starting from the right, accumulating a value.</div></div></div><div class="doc"><h6>Zippers</h6></div><div class="region" id="/Zip"><a href="#/Zip" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="Zip/index.html">Zip</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></div><div class="doc"></div></div></div><div class="doc"><h6>Buffers</h6></div><div class="region" id="/Buffer"><a href="#/Buffer" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span><a href="Buffer/index.html">Buffer</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></div><div class="doc"></div></div></div><div class="region" id="/Text"><a href="#/Text" class="anchor"></a><div class="mod"><div class="def"><span class="keyword">module </span>Text : CamomileLibrary.UnicodeString.Type<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#/Text">Text</a>.t = <a href="index.html#/rope.typ">rope</a><span class="keyword"> and </span><span class="keyword">type </span><a href="index.html#/Text">Text</a>.index = <a href="Zip/index.html#/t.typ">Zip.t</a></div><div class="doc"><h6>Camomile compatible interface</h6></div></div></div></div></div></div></body></html>