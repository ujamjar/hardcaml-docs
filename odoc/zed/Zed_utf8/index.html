<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Zed_utf8 (zed.Zed_utf8)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/></head><body><div class="odoc-doc"><a href="../index.html">Up</a><div class="intro"><h1><span class="keyword">Module </span><a href="../#/Zed_utf8">Zed_utf8</a></h1></div><div><div class="doc">UTF-8 enoded strings</div><div><div class="region" id="/t.typ"><a href="#/t.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>t = string</div><div class="doc">Type of UTF-8 encoded strings.</div></div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Invalid of string * string</div><div class="doc"><code>Invalid(error, text)</code> Exception raised when an invalid UTF-8
encoded string is encountered. <code>text</code> is the faulty text and
<code>error</code> is a description of the first error in <code>text</code>.</div></div><div class="exn"><div class="def"><span class="keyword">exn </span>Out_of_bounds</div><div class="doc">Exception raised when trying to access a character which is
outside the bounds of a string.</div></div><div class="doc"><h6>Validation</h6></div><div class="region" id="/check_result.typ"><a href="#/check_result.typ" class="anchor"></a><div class="typ"><div class="def"><span class="keyword">type </span>check_result = <table><tr class="cons"><td><div class="region" id="/check_result.typ/Correct.cons"><a href="#/check_result.typ/Correct.cons" class="anchor"></a>| Correct of int</div></td><td>(*</td><td><div class="doc">The string is correctly UTF-8 encoded, and the paramter is
the length of the string.</div></td><td>*)</td></tr><tr class="cons"><td><div class="region" id="/check_result.typ/Message.cons"><a href="#/check_result.typ/Message.cons" class="anchor"></a>| Message of string</div></td><td>(*</td><td><div class="doc">The string is invalid and the parameter is an error
message.</div></td><td>*)</td></tr></table></div><div class="doc">Result of cheking a string for correct UTF-8.</div></div></div><div class="region" id="/check.val"><a href="#/check.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>check : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/check_result.typ">check_result</a></div><div class="doc"><code>check str</code> checks that <code>str</code> is a valid UTF-8 encoded
string.</div></div></div><div class="region" id="/validate.val"><a href="#/validate.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>validate : <a href="index.html#/t.typ">t</a> -&gt; int</div><div class="doc">Same as check but raises an exception in case the argument is
not a valid text, otherwise returns the length of the string.</div></div></div><div class="region" id="/next_error.val"><a href="#/next_error.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>next_error : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int * int * string</div><div class="doc"><code>next_error str ofs</code> returns <code>(ofs', count, msg)</code> where <code>ofs'</code>
is the offset of the start of the first invalid sequence after
<code>ofs</code> (inclusive) in <code>str</code>, <code>count</code> is the number of unicode
character between <code>ofs</code> and <code>ofs'</code> (exclusive) and <code>msg</code> is an
error message. If there is no error until the end of string then
<code>ofs</code> is <code>String.length str</code> and <code>msg</code> is the empty string.</div></div></div><div class="doc"><h6>Construction</h6></div><div class="region" id="/singleton.val"><a href="#/singleton.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>singleton : CamomileLibrary.UChar.t -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>singleton ch</code> creates a string of length 1 containing only the
given character.</div></div></div><div class="region" id="/make.val"><a href="#/make.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>make : int -&gt; CamomileLibrary.UChar.t -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>make n ch</code> creates a string of length <code>n</code> filled with <code>ch</code>.</div></div></div><div class="region" id="/init.val"><a href="#/init.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>init : int -&gt; (int -&gt; CamomileLibrary.UChar.t) -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>init n f</code> returns the contenation of <code>singleton (f 0)</code>,
<code>singleton (f 1)</code>, ..., <code>singleton (f (n - 1))</code>.</div></div></div><div class="region" id="/rev_init.val"><a href="#/rev_init.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_init : int -&gt; (int -&gt; CamomileLibrary.UChar.t) -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>rev_init n f</code> returns the contenation of <code>singleton (f (n -
      1))</code>, ..., <code>singleton (f 1)</code>, <code>singleton (f 0)</code>.</div></div></div><div class="doc"><h6>Informations</h6></div><div class="region" id="/length.val"><a href="#/length.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>length : <a href="index.html#/t.typ">t</a> -&gt; int</div><div class="doc">Returns the length of the given string.</div></div></div><div class="doc"><h6>Comparison</h6></div><div class="region" id="/compare.val"><a href="#/compare.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>compare : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a> -&gt; int</div><div class="doc">Compares two strings (in code point order).</div></div></div><div class="doc"><h6>Random access</h6></div><div class="region" id="/get.val"><a href="#/get.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>get : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; CamomileLibrary.UChar.t</div><div class="doc"><code>get str idx</code> returns the character at index <code>idx</code> in
<code>str</code>.</div></div></div><div class="doc"><h6>String manipulation</h6></div><div class="region" id="/sub.val"><a href="#/sub.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>sub : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>sub str ofs len</code> Returns the sub-string of <code>str</code> starting at
<code>ofs</code> and of length <code>len</code>.</div></div></div><div class="region" id="/break.val"><a href="#/break.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>break : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; <a href="index.html#/t.typ">t</a> * <a href="index.html#/t.typ">t</a></div><div class="doc"><code>break str pos</code> returns the sub-strings before and after <code>pos</code>
in <code>str</code>. It is more efficient than creating two sub-strings
with sub.</div></div></div><div class="region" id="/before.val"><a href="#/before.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>before : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>before str pos</code> returns the sub-string before <code>pos</code> in <code>str</code></div></div></div><div class="region" id="/after.val"><a href="#/after.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>after : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>after str pos</code> returns the sub-string after <code>pos</code> in <code>str</code></div></div></div><div class="region" id="/insert.val"><a href="#/insert.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>insert : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>insert str pos sub</code> inserts <code>sub</code> in <code>str</code> at position
<code>pos</code>.</div></div></div><div class="region" id="/remove.val"><a href="#/remove.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>remove : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>remove str pos len</code> removes the <code>len</code> characters at position
<code>pos</code> in <code>str</code></div></div></div><div class="region" id="/replace.val"><a href="#/replace.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>replace : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>replace str pos len repl</code> replaces the <code>len</code> characters at
position <code>pos</code> in <code>str</code> by <code>repl</code>.</div></div></div><div class="doc"><h6>Tranformation</h6></div><div class="region" id="/rev.val"><a href="#/rev.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>rev str</code> reverses all characters of <code>str</code>.</div></div></div><div class="region" id="/concat.val"><a href="#/concat.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>concat : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a> list -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>concat sep l</code> returns the concatenation of all strings of <code>l</code>
separated by <code>sep</code>.</div></div></div><div class="region" id="/rev_concat.val"><a href="#/rev_concat.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_concat : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a> list -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>concat sep l</code> returns the concatenation of all strings of <code>l</code>
in reverse order separated by <code>sep</code>.</div></div></div><div class="region" id="/explode.val"><a href="#/explode.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>explode : <a href="index.html#/t.typ">t</a> -&gt; CamomileLibrary.UChar.t list</div><div class="doc"><code>explode str</code> returns the list of all characters of <code>str</code>.</div></div></div><div class="region" id="/rev_explode.val"><a href="#/rev_explode.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_explode : <a href="index.html#/t.typ">t</a> -&gt; CamomileLibrary.UChar.t list</div><div class="doc"><code>rev_explode str</code> returns the list of all characters of <code>str</code> in
reverse order.</div></div></div><div class="region" id="/implode.val"><a href="#/implode.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>implode : CamomileLibrary.UChar.t list -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>implode l</code> returns the concatenation of all characters of <code>l</code>.</div></div></div><div class="region" id="/rev_implode.val"><a href="#/rev_implode.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_implode : CamomileLibrary.UChar.t list -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>rev_implode l</code> is the same as <code>implode (List.rev l)</code> but more
efficient.</div></div></div><div class="doc"><h6>Text traversals</h6></div><div class="region" id="/iter.val"><a href="#/iter.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>iter : (CamomileLibrary.UChar.t -&gt; unit) -&gt; <a href="index.html#/t.typ">t</a> -&gt; unit</div><div class="doc"><code>iter f str</code> applies <code>f</code> an all characters of <code>str</code> starting
from the left.</div></div></div><div class="region" id="/rev_iter.val"><a href="#/rev_iter.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_iter : (CamomileLibrary.UChar.t -&gt; unit) -&gt; <a href="index.html#/t.typ">t</a> -&gt; unit</div><div class="doc"><code>rev_iter f str</code> applies <code>f</code> an all characters of <code>str</code> starting
from the right.</div></div></div><div class="region" id="/fold.val"><a href="#/fold.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>fold : (CamomileLibrary.UChar.t -&gt; 'a -&gt; 'a) -&gt; <a href="index.html#/t.typ">t</a> -&gt; 'a -&gt; 'a</div><div class="doc"><code>fold f str acc</code> applies <code>f</code> on all characters of <code>str</code>
starting from the left, accumulating a value.</div></div></div><div class="region" id="/rev_fold.val"><a href="#/rev_fold.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_fold : (CamomileLibrary.UChar.t -&gt; 'a -&gt; 'a) -&gt; <a href="index.html#/t.typ">t</a> -&gt; 'a -&gt; 'a</div><div class="doc"><code>rev_fold f str acc</code> applies <code>f</code> on all characters of <code>str</code>
starting from the right, accumulating a value.</div></div></div><div class="region" id="/map.val"><a href="#/map.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>map : (CamomileLibrary.UChar.t -&gt; CamomileLibrary.UChar.t) -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>map f str</code> maps all characters of <code>str</code> with <code>f</code>.</div></div></div><div class="region" id="/rev_map.val"><a href="#/rev_map.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_map : (CamomileLibrary.UChar.t -&gt; CamomileLibrary.UChar.t) -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>rev_map f str</code> maps all characters of <code>str</code> with <code>f</code> in reverse
order.</div></div></div><div class="region" id="/map_concat.val"><a href="#/map_concat.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>map_concat : (CamomileLibrary.UChar.t -&gt; <a href="index.html#/t.typ">t</a>) -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>map f str</code> maps all characters of <code>str</code> with <code>f</code> and
concatenate the result.</div></div></div><div class="region" id="/rev_map_concat.val"><a href="#/rev_map_concat.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_map_concat : (CamomileLibrary.UChar.t -&gt; <a href="index.html#/t.typ">t</a>) -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>rev_map f str</code> maps all characters of <code>str</code> with <code>f</code> in reverse
order and concatenate the result.</div></div></div><div class="region" id="/filter.val"><a href="#/filter.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>filter : (CamomileLibrary.UChar.t -&gt; bool) -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>filter f str</code> filters characters of <code>str</code> with <code>f</code>.</div></div></div><div class="region" id="/rev_filter.val"><a href="#/rev_filter.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_filter : (CamomileLibrary.UChar.t -&gt; bool) -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>rev_filter f str</code> filters characters of <code>str</code> with <code>f</code> in
reverse order.</div></div></div><div class="region" id="/filter_map.val"><a href="#/filter_map.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>filter_map : (CamomileLibrary.UChar.t -&gt; CamomileLibrary.UChar.t option) -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>filter_map f str</code> filters and maps characters of <code>str</code> with
<code>f</code>.</div></div></div><div class="region" id="/rev_filter_map.val"><a href="#/rev_filter_map.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_filter_map : (CamomileLibrary.UChar.t -&gt; CamomileLibrary.UChar.t option) -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>rev_filter_map f str</code> filters and maps characters of <code>str</code> with
<code>f</code> in reverse order.</div></div></div><div class="region" id="/filter_map_concat.val"><a href="#/filter_map_concat.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>filter_map_concat : (CamomileLibrary.UChar.t -&gt; <a href="index.html#/t.typ">t</a> option) -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>filter_map f str</code> filters and maps characters of <code>str</code> with <code>f</code>
and concatenate the result.</div></div></div><div class="region" id="/rev_filter_map_concat.val"><a href="#/rev_filter_map_concat.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rev_filter_map_concat : (CamomileLibrary.UChar.t -&gt; <a href="index.html#/t.typ">t</a> option) -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>rev_filter_map f str</code> filters and maps characters of <code>str</code> with
<code>f</code> in reverse order and concatenate the result.</div></div></div><div class="doc"><h6>Scanning</h6></div><div class="region" id="/for_all.val"><a href="#/for_all.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>for_all : (CamomileLibrary.UChar.t -&gt; bool) -&gt; <a href="index.html#/t.typ">t</a> -&gt; bool</div><div class="doc"><code>for_all f text</code> returns whether all characters of <code>text</code> verify
the predicate <code>f</code>.</div></div></div><div class="region" id="/exists.val"><a href="#/exists.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>exists : (CamomileLibrary.UChar.t -&gt; bool) -&gt; <a href="index.html#/t.typ">t</a> -&gt; bool</div><div class="doc"><code>exists f text</code> returns whether at least one character of <code>text</code>
verify <code>f</code>.</div></div></div><div class="region" id="/count.val"><a href="#/count.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>count : (CamomileLibrary.UChar.t -&gt; bool) -&gt; <a href="index.html#/t.typ">t</a> -&gt; int</div><div class="doc"><code>count f text</code> returhs the number of characters of <code>text</code>
verifying <code>f</code>.</div></div></div><div class="doc"><h6>Tests</h6></div><div class="region" id="/contains.val"><a href="#/contains.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>contains : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a> -&gt; bool</div><div class="doc"><code>contains text sub</code> returns whether <code>sub</code> appears in <code>text</code></div></div></div><div class="region" id="/starts_with.val"><a href="#/starts_with.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>starts_with : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a> -&gt; bool</div><div class="doc"><code>starts_with text prefix</code> returns <code>true</code> iff <code>s</code> starts with
<code>prefix</code>.</div></div></div><div class="region" id="/ends_with.val"><a href="#/ends_with.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>ends_with : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a> -&gt; bool</div><div class="doc"><code>ends_with text suffix</code> returns <code>true</code> iff <code>s</code> ends with
<code>suffix</code>.</div></div></div><div class="doc"><h6>Stripping</h6></div><div class="region" id="/strip.val"><a href="#/strip.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>strip : ?predicate:(CamomileLibrary.UChar.t -&gt; bool) -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>strip ?predicate text</code> returns <code>text</code> without its firsts and
lasts characters that match <code>predicate</code>. <code>predicate</code> default to
testing whether the given character has the <code>`White_Space</code>
unicode property. For example:<br/><pre>
        strip &quot;\n  foo\n  &quot; = &quot;foo&quot;
      </pre></div></div></div><div class="region" id="/lstrip.val"><a href="#/lstrip.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>lstrip : ?predicate:(CamomileLibrary.UChar.t -&gt; bool) -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>lstrip ?predicate text</code> is the same as strip but it only
removes characters at the left of <code>text</code>.</div></div></div><div class="region" id="/rstrip.val"><a href="#/rstrip.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rstrip : ?predicate:(CamomileLibrary.UChar.t -&gt; bool) -&gt; <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>lstrip ?predicate text</code> is the same as strip but it only
removes characters at the right of <code>text</code>.</div></div></div><div class="region" id="/lchop.val"><a href="#/lchop.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>lchop : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>lchop t</code> returns <code>t</code> without is first character. Returns <code>&quot;&quot;</code>
if <code>t = &quot;&quot;</code></div></div></div><div class="region" id="/rchop.val"><a href="#/rchop.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>rchop : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>rchop t</code> returns <code>t</code> without is last character. Returns <code>&quot;&quot;</code> if
<code>t = &quot;&quot;</code>.</div></div></div><div class="doc"><h6>Buffers</h6></div><div class="region" id="/add.val"><a href="#/add.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>add : <a href="../../ocaml/Buffer/index.html#/t.typ">Buffer.t</a> -&gt; CamomileLibrary.UChar.t -&gt; unit</div><div class="doc"><code>add buf ch</code> is the same as <code>Buffer.add_string buf (singleton
      ch)</code> but is more efficient.</div></div></div><div class="doc"><h6>Escaping</h6></div><div class="region" id="/escaped_char.val"><a href="#/escaped_char.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>escaped_char : CamomileLibrary.UChar.t -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>escaped_char ch</code> returns a string containg <code>ch</code> or an escaped
version of <code>ch</code> if:
<ul><li><code>ch</code> is a control character (code &lt; 32)</li><li><code>ch</code> is the character with code 127</li><li><code>ch</code> is a non-ascii, non-alphabetic character</li></ul>It uses the syntax <code>\xXX</code>, <code>\uXXXX</code>, <code>\UXXXXXX</code> or a specific
escape sequence <code>\n, \r, ...</code>.</div></div></div><div class="region" id="/add_escaped_char.val"><a href="#/add_escaped_char.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>add_escaped_char : <a href="../../ocaml/Buffer/index.html#/t.typ">Buffer.t</a> -&gt; CamomileLibrary.UChar.t -&gt; unit</div><div class="doc"><code>add_escaped_char buf ch</code> is the same as <code>Buffer.add_string buf
      (escaped_char ch)</code> but a bit more efficient.</div></div></div><div class="region" id="/escaped.val"><a href="#/escaped.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>escaped : <a href="index.html#/t.typ">t</a> -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>escaped text</code> escape all characters of <code>text</code> as with
<code>escape_char</code>.</div></div></div><div class="region" id="/add_escaped.val"><a href="#/add_escaped.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>add_escaped : <a href="../../ocaml/Buffer/index.html#/t.typ">Buffer.t</a> -&gt; <a href="index.html#/t.typ">t</a> -&gt; unit</div><div class="doc"><code>add_escaped_char buf text</code> is the same as <code>Buffer.add_string
      buf (escaped text)</code> but a bit more efficient.</div></div></div><div class="region" id="/escaped_string.val"><a href="#/escaped_string.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>escaped_string : CamomileLibraryDyn.Camomile.CharEncoding.t -&gt; string -&gt; <a href="index.html#/t.typ">t</a></div><div class="doc"><code>escaped_string enc str</code> escape the string <code>str</code> which is
encoded with encoding <code>enc</code>. If decoding <code>str</code> with <code>enc</code> fails,
it escape all non-printable bytes of <code>str</code> with the syntax
<code>\yAB</code>.</div></div></div><div class="region" id="/add_escaped_string.val"><a href="#/add_escaped_string.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>add_escaped_string : <a href="../../ocaml/Buffer/index.html#/t.typ">Buffer.t</a> -&gt; CamomileLibraryDyn.Camomile.CharEncoding.t -&gt; string -&gt; unit</div><div class="doc"><code>add_escaped_char buf enc text</code> is the same as
<code>Buffer.add_string buf (escaped_string enc text)</code> but a bit more
efficient.</div></div></div><div class="doc"><h6>Safe offset API</h6></div><div class="region" id="/next.val"><a href="#/next.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>next : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int</div><div class="doc"><code>next str ofs</code> returns the offset of the next character in
<code>str</code>.</div></div></div><div class="region" id="/prev.val"><a href="#/prev.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>prev : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int</div><div class="doc"><code>prev str ofs</code> returns the offset of the previous character in
<code>str</code>.</div></div></div><div class="region" id="/extract.val"><a href="#/extract.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>extract : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; CamomileLibrary.UChar.t</div><div class="doc"><code>extract str ofs</code> returns the code-point at offset <code>ofs</code> in
<code>str</code>.</div></div></div><div class="region" id="/extract_next.val"><a href="#/extract_next.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>extract_next : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; CamomileLibrary.UChar.t * int</div><div class="doc"><code>extract_next str ofs</code> returns the code-point at offset <code>ofs</code> in
<code>str</code> and the offset the next character.</div></div></div><div class="region" id="/extract_prev.val"><a href="#/extract_prev.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>extract_prev : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; CamomileLibrary.UChar.t * int</div><div class="doc"><code>extract_prev str ofs</code> returns the code-point at the previous
offset in <code>str</code> and this offset.</div></div></div><div class="doc"><h6>Unsafe offset API</h6></div><div class="doc">These functions does not check that the given offset is inside the
bounds of the given string.</div><div class="region" id="/unsafe_next.val"><a href="#/unsafe_next.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>unsafe_next : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int</div><div class="doc"><code>unsafe_next str ofs</code> returns the offset of the next character
in <code>str</code>.</div></div></div><div class="region" id="/unsafe_prev.val"><a href="#/unsafe_prev.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>unsafe_prev : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; int</div><div class="doc"><code>unsafe_prev str ofs</code> returns the offset of the previous
character in <code>str</code>.</div></div></div><div class="region" id="/unsafe_extract.val"><a href="#/unsafe_extract.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>unsafe_extract : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; CamomileLibrary.UChar.t</div><div class="doc"><code>unsafe_extract str ofs</code> returns the code-point at offset <code>ofs</code>
in <code>str</code>.</div></div></div><div class="region" id="/unsafe_extract_next.val"><a href="#/unsafe_extract_next.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>unsafe_extract_next : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; CamomileLibrary.UChar.t * int</div><div class="doc"><code>unsafe_extract_next str ofs</code> returns the code-point at offset
<code>ofs</code> in <code>str</code> and the offset the next character.</div></div></div><div class="region" id="/unsafe_extract_prev.val"><a href="#/unsafe_extract_prev.val" class="anchor"></a><div class="val"><div class="def"><span class="keyword">val </span>unsafe_extract_prev : <a href="index.html#/t.typ">t</a> -&gt; int -&gt; CamomileLibrary.UChar.t * int</div><div class="doc"><code>unsafe_extract_prev str ofs</code> returns the code-point at the
previous offset in <code>str</code> and this offset.</div></div></div></div></div></div></body></html>